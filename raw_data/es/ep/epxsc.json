{"title": "PDF", "author": "PDF", "url": "https://oa.upm.es/75416/1/TFG_IVAN_MARTIN_RANDO.pdf", "hostname": "PDF", "description": "PDF", "sitename": "PDF", "date": "PDF", "cleaned_text": "Universidad Polit\u00e9cnica de Madrid Escuela T\u00e9cnica Superior de Ingenieros Inform\u00e1ticos Grado en Ingenier\u00eda Inform\u00e1tica Trabajo Fin de Grado OMOP como Modelo de Datos Com\u00fan en Salud: Retos de su Implantaci\u00f3n Autor: Iv\u00e1n Mart\u00edn Rando Tutora: Ernestina Menasalvas Ruiz Madrid, Junio 2023Este Trabajo Fin de Grado se ha depositado en la ETSI Inform\u00e1ticos de la Universidad Polit\u00e9cnica de Madrid para su defensa. Trabajo Fin de Grado Grado en Ingenier\u00eda Inform\u00e1tica T\u00edtulo: OMOP como Modelo de Datos Com\u00fan en Salud: Retos de su Im- plantaci\u00f3n Junio 2023 Autor: Iv\u00e1n Mart\u00edn Rando Tutora: Ernestina Menasalvas Ruiz Departamento de Lenguajes y Sistemas Inform\u00e1ticos e Inge- nier\u00eda de Software Escuela T\u00e9cnica Superior de Ingenieros Inform\u00e1ticos Universidad Polit\u00e9cnica de MadridResumen La salud, tal como se define por la Real Academia Espa\u00f1ola (RAE), se trata de la 'condici\u00f3n f\u00edsica y ps\u00edquica en que se encuentra un organismo en un momento determinado' [1]. Es un aspecto crucial en la vida de cualquier ser humano, y por ello, la humanidad siempre ha buscado expandir sus conocimientos en este \u00e1mbito. Uno de los objetivos derivados de esta b\u00fasqueda es la mejora de la atenci\u00f3n m\u00e9- dica, lo cual requiere del uso de los llamados 'datos de salud'. Los datos de salud son aquellas informaciones sobre la salud f\u00edsica o mental de una persona f\u00edsica, incluida la informaci\u00f3n sobre la prestaci\u00f3n de servicios de atenci\u00f3n sanitaria que recibe [2]. Al recopilar este tipo de datos, se genera una gran cantidad de datos valiosos e imprescindibles para el progreso de las t\u00e9cnicas de mejora de la atenci\u00f3n m\u00e9dica. Para integrar estos datos, es esencial que existan est\u00e1ndares que permitan la interoperabilidad de las bases de datos de diferentes hospitales a nivel mundial, lo que facilita el intercambio de informaci\u00f3n y su comprensi\u00f3n por parte de los investigadores. La necesidad de contar con modelos de datos comunes se ha vuelto a\u00fan m\u00e1s evidente desde la pandemia del COVID-19. En este ejemplo se manifiesta la im- portancia de la existencia de bases de datos interoperables ya que, aunque la Uni\u00f3n Europea ha establecido directrices para la creaci\u00f3n del Espacio de Datos de Salud Europeo, no se ha establecido un modelo de datos est\u00e1ndar a seguir en lo que al conjunto de datos de salud se refiere, lo que complica las inves- tigaciones m\u00e9dicas en cualquiera de sus contextos (b\u00fasqueda de tratamientos, prevenci\u00f3n de enfermedades, tratamientos personalizados, etc). Dada la necesidad de la interoperabilidad de datos en el sector salud, este traba- jo de fin de grado (TFG) se centrar\u00e1 en el an\u00e1lisis del modelo com\u00fan de datos de salud OMOP (Observational Medical Outcomes Partnership) y los desaf\u00edos que conlleva su implementaci\u00f3n. iAbstract Health, as defined by the Royal Spanish Academy (RAE), refers to the 'physical and mental condition in finds itself a given moment' [1]. It crucial aspect of human life, and therefore, humanity has always sought to expand its knowledge in this field. One of the objectives derived from this search is the improvement of medical care, which requires the use of so-called 'health data'. Health data is informa- tion about the physical or mental health of a natural person, including infor- mation about the provision of health [2]. Collecting this type of data generates a techniques. To integrate these data, it is essential that there are standards that allow the interoperability of the databases of differ- ent hospitals worldwide, which facilitates the exchange of information and its understanding by researchers. The need for common data models has become even more evident since the COVID-19 pandemic. has established guidelines for the creation of the European Health Data Space, no standard data model has been established for health data sets, which complicates medical research in any con- text (search bachelor's thesis (TFG) will focus on the analysis of the common health data model OMOP (Observational Medical Outcomes Partnership) and the challenges involved in its implementation. iiiTabla de contenidos 1. Introducci\u00f3n Estado de la cuesti\u00f3n 5 2.1. Evoluci\u00f3n de los sistemas de gesti\u00f3n de de OMOP en un supuesto 23 4.1. Instalaci\u00f3n y configuraci\u00f3n y l\u00edneas futuras 45 Bibliograf\u00eda 47 vCap\u00edtulo 1 Introducci\u00f3n y motivaciones 1.1. Introducci\u00f3n El sector m\u00e9dico es uno de los sectores que genera mayor cantidad y volume- tr\u00eda de datos, entre los que se incluyen registros m\u00e9dicos electr\u00f3nicos (EMR), im\u00e1genes m\u00e9dicas, datos de pacientes o resultados de pruebas m\u00e9dicas, entre otros. El an\u00e1lisis y la interpretaci\u00f3n de estos datos pueden brindar informaci\u00f3n importante para la mejora de la calidad de la atenci\u00f3n m\u00e9dica, la investigaci\u00f3n cl\u00ednica y la toma de decisiones. Para lograr mejorar la atenci\u00f3n m\u00e9dica de los pacientes y facilitar el diagn\u00f3sti- co y la confecci\u00f3n del tratamiento requerido, es necesaria la recopilaci\u00f3n de los datos de salud de los pacientes, as\u00ed como su interpretaci\u00f3n. Sin embargo, exis- ten obst\u00e1culos que dificultan estas tareas: las leyes de protecci\u00f3n de datos y la armonizaci\u00f3n de datos. Por un lado, la recopilaci\u00f3n de datos, que es el proceso de reunir y medir infor- maci\u00f3n de diversas fuentes con el fin de obtener una visi\u00f3n completa y precisa de una zona de inter\u00e9s [3], debe hacerse respetando el RGPD. Esta es una ley de la Uni\u00f3n Europea que establece las reglas para la protecci\u00f3n de datos personales de los ciudadanos europeos. Por otro lado, se encuentra el problema de la armonizaci\u00f3n de datos. La armo- nizaci\u00f3n de datos se refiere al proceso de transformar y estandarizar los datos para que puedan ser comparables y analizados juntos. Al intentar combinar da- tos de diferentes fuentes, surge el siguiente problema: estos datos suelen tener distintas formas de recopilaci\u00f3n, procesamiento e interpretaci\u00f3n, lo que hace que los datos est\u00e9n en diferentes formatos y no tengan las mismas estructuras y convenciones. Para abordar este problema y alcanzar la armonizaci\u00f3n de los datos de salud, deben crearse est\u00e1ndares y protocolos para la recopilaci\u00f3n y el an\u00e1lisis de estos, as\u00ed como el desarrollo de herramientas y t\u00e9cnicas que hagan posible la combinaci\u00f3n de los datos [4]. Para mitigar el problema que surge durante el proceso de la armonizaci\u00f3n de datos, se podr\u00eda pensar como soluci\u00f3n la centralizaci\u00f3n de datos, que consiste en 1Cap\u00edtulo 1. Introducci\u00f3n y motivaciones recolectar, almacenar y gestionar los datos en un \u00fanico lugar [5]. Sin embargo, este m\u00e9todo no es posible para los datos de salud, ya que la centralizaci\u00f3n de datos est\u00e1 pensada para datos de una misma organizaci\u00f3n. Una soluci\u00f3n para evitar centralizar datos surge con las bases de datos federadas, que permiten analizar los datos sin que sea necesario que estos se muevan del lugar donde se han recogido. No obstante, el tratamiento conjunto de los datos requiere que se tenga un modelo com\u00fan para que las consultas puedan devolver datos sobre bases de datos armonizadas en este modelo de datos com\u00fan. Hasta ahora la mayor\u00eda de los datos que se recopilan en el sector salud son est\u00e1- ticos, pero esto est\u00e1 cambiando y se est\u00e1n incluyendo otros tipos de datos, como monitorizaciones peri\u00f3dicas, que generan un gran volumen de datos [6]. Todos estos datos en conjunto son utilizados con el prop\u00f3sito de identificar patrones y tendencias en los datos, descubrir correlaciones entre diferentes factores de salud, evaluar la eficacia de tratamientos y terapias, e identificar \u00e1reas de me- jora en la atenci\u00f3n m\u00e9dica. A partir de esta informaci\u00f3n, se pueden desarrollar soluciones personalizadas para los pacientes, y as\u00ed hacer que sea posible pre- venir y predecir diversas necesidades de los pacientes mediante la anticipaci\u00f3n de posibles escenarios futuros con distintas caracter\u00edsticas [7]. Si estos an\u00e1lisis se quieren hacer sobre datos de m\u00e1s de una organizaci\u00f3n, conviene el uso de la federaci\u00f3n de datos. Ante estos avances que surgen en el an\u00e1lisis de datos en el sector m\u00e9dico, apa- recen conjuntamente nuevas necesidades, como el almacenamiento masivo de datos, la propiedad de los datos, su interoperabilidad en los distintos sistemas de gesti\u00f3n de datos sanitarios, y las diversas leyes que se pronuncian respecto a los procedimientos que se usan para asegurar los datos cl\u00ednicos [8]. En particular, la pandemia de COVID-19 ha dejado patente la necesidad de po- der analizar datos de manera conjunta, ya que esto no se pudo realizar debido a la falta de un modelo de datos de salud armonizado, causado por la falta de estandarizaci\u00f3n en los modelos de datos utilizados por diferentes organizaciones y pa\u00edses para recopilar y analizar informaci\u00f3n sobre el virus y sus variantes. La falta de estandarizaci\u00f3n en los modelos de datos ha creado una serie de problemas. En primer lugar, dificulta la comparaci\u00f3n y el intercambio de datos entre diferentes sistemas y organizaciones, lo que hace que sea dif\u00edcil para los investigadores y los responsables pol\u00edticos obtener una imagen clara y completa de la propagaci\u00f3n del virus y su impacto en diferentes pa\u00edses y poblaciones. Asimismo, la falta de estandarizaci\u00f3n en los modelos de datos tambi\u00e9n puede llevar a imprecisiones y errores en el an\u00e1lisis y la interpretaci\u00f3n de los datos. Esto puede tener consecuencias graves para la toma de decisiones cl\u00ednicas y pol\u00edticas en el contexto de la pandemia. Debido a estos problemas, se hace visible la necesidad de contar con un modelo armonizado de datos y con est\u00e1ndares que permitan recopilar y analizar infor- maci\u00f3n sobre las enfermedades de las que se tiene poca informaci\u00f3n, as\u00ed como de cualquier otra situaci\u00f3n sanitaria. Esto puede incluir la definici\u00f3n de est\u00e1n- dares comunes para los tipos de datos recopilados, la forma en que se recopilan 21.2. Objetivos y se almacenan, y la forma en que se presentan y se analizan [9]. 1.2. Objetivos El objetivo principal de este trabajo de fin de grado (TFG) es analizar los est\u00e1n- dares y arquitecturas disponibles para la federaci\u00f3n de datos en el \u00e1mbito de la salud, con el fin de identificar las mejores pr\u00e1cticas y soluciones m\u00e1s efec- tivas para integrar y compartir informaci\u00f3n m\u00e9dica entre diferentes sistemas y fuentes de datos. De esta manera se analizar\u00e1 en profundidad el modelo de datos OMOP (Ob- servational Medical Outcomes Partnership) como una posible soluci\u00f3n para la integraci\u00f3n y armonizaci\u00f3n de datos cl\u00ednicos. 1.3. Estructura del trabajo Este trabajo se estructura en diferentes cap\u00edtulos, siendo el primero de ellos la introducci\u00f3n. El segundo cap\u00edtulo corresponde con el estado de la cuesti\u00f3n. En este cap\u00edtulo se ofrece una perspectiva hist\u00f3rica sobre los sistemas de gesti\u00f3n de datos, ana- lizando su evoluci\u00f3n a lo largo del tiempo. Adem\u00e1s, se proporciona una explica- ci\u00f3n detallada sobre la normativa RGPD y su relaci\u00f3n con el presente trabajo. A continuaci\u00f3n, se realiza un recorrido por algunos de los est\u00e1ndares de medicina m\u00e1s relevantes en la actualidad. En el tercer cap\u00edtulo de este documento se analiza el modelo de datos OMOP, as\u00ed como los retos de su implantaci\u00f3n y de su uso. Posteriormente, en el cap\u00edtulo 4, se muestra c\u00f3mo realizar una implantaci\u00f3n del modelo con datos sint\u00e9ticos, y se muestra c\u00f3mo se usan algunas de las herramientas m\u00e1s relevantes. Para terminar, el cap\u00edtulo 5 presenta las conclusiones obtenidas del desarrollo del presente trabajo, as\u00ed como las l\u00edneas de continuaci\u00f3n. 3Cap\u00edtulo 2 Estado de la cuesti\u00f3n 2.1. Evoluci\u00f3n de los sistemas de gesti\u00f3n de datos Un sistema de gesti\u00f3n de datos es un conjunto de software que permite a los usuarios crear, mantener y utilizar una base de datos. Con estos sistemas se puede organizar, almacenar y recuperar informaci\u00f3n guarda en las base de da- tos. Dichos sistemas incluyen herramientas para definir las estructuras de las bases de datos, insertar, actualizar y eliminar datos, realizar consultas y generar informes; asimismo tienen distintas funciones de seguridad, como controlar el acceso a la base de datos, garantizar la integridad de los datos y proporcionar mecanismos de seguridad para evitar el acceso no autorizado o la modificaci\u00f3n de los datos [10]. Los sistemas de gesti\u00f3n de datos han evolucionado de manera significativa a lo largo del tiempo, desde las bases de datos digitales hasta las bases de datos en la nube. En la d\u00e9cada de los 60 se introdujo y se populariz\u00f3 el uso de las computadoras en el \u00e1rea empresarial, y junto a este hecho se desarrollaron dos modelos de datos principales: el modelo de red CODASYL (Conferencia sobre el lenguaje del sistema de datos) y el modelo jer\u00e1rquico IMS (Sistema de Gesti\u00f3n de la Informa- ci\u00f3n). Esta primera generaci\u00f3n de bases de datos fue utilizada principalmente a modo de consulta debido a que era necesario reescribir su esquema para modi- ficar la base de datos. As\u00ed mismo un usuario deb\u00eda conocer la estructura f\u00edsica de la base de datos para poder realizar consultas sobre ella. Hacia 1970 aparecen las bases de datos relacionales, cuyos datos pueden re- presentarse en forma de tabla con filas y columnas. Cada fila ser\u00e1 un registro con un campo \u00fanico llamado clave que se utilizar\u00e1 para identificarlo, y cada co- lumna contendr\u00e1 atributos sobre el registro al que pertenecen. Las restricciones sobre los tipos de datos estar\u00e1n representadas como f\u00f3rmulas booleanas. Con este modelo, por primera vez, el esquema de la base de datos estar\u00eda separado del almacenamiento f\u00edsico, lo que facilita al usuario la utilizaci\u00f3n de este tipo de bases de datos al no ser necesario conocer la estructura interna para poder operar con ella. 5Cap\u00edtulo 2. Estado de la cuesti\u00f3n Las bases de datos relacionales se convirtieron r\u00e1pidamente en el modelo m\u00e1s utilizado debido a la mejora que supon\u00eda en cuanto a efectividad, seguridad, integridad y productividad. As\u00ed, en la d\u00e9cada de los 80 apareci\u00f3 SQL (Lenguaje de Consulta Estructurado), que se convirti\u00f3 en el lenguaje por excelencia para operar con bases de datos, extendi\u00e9ndose su uso hasta la actualidad. En esta d\u00e9cada de los 80 surge tambi\u00e9n el t\u00e9rmino 'orientado a objetos', es decir, la informaci\u00f3n se representar\u00e1 como objetos. As\u00ed, se crear\u00e1n bases de datos orientadas a objetos, las cuales permiten operar con un gran n\u00famero de tipos de datos distintos. M\u00e1s adelante, en la d\u00e9cada de los 90, el mercado se centra en crear herramien- tas de desarrollo que permitan al usuario operar con datos, como por ejemplo Excel, de Microsoft. En esta d\u00e9cada tambi\u00e9n surge Internet, lo que cambiar\u00e1 para siempre el mercado debido a su funci\u00f3n de permitir acceso remoto entre sistemas desde cualquier parte del mundo. Esto hizo que los datos estuviesen cada vez m\u00e1s presentes, por lo que se aceler\u00f3 la creaci\u00f3n de nuevas tecnolog\u00edas y formas de almacenar y procesar los datos, surgiendo necesidades que hasta ese momento no hab\u00eda [11, 12]. Por ello, en la actualidad existen las bases de datos federadas, cuyo objetivo es almacenar datos de distintos or\u00edgenes de forma homog\u00e9nea, y crear una interfaz de consulta \u00fanica fusionando los sistemas de datos de las entidades colabora- doras. As\u00ed, se hace posible relacionar y analizar datos de distintas entidades sin la necesidad de transformarlos previamente [13]. Figura 2.1: L\u00ednea del tiempo: gesti\u00f3n de datos Sin embargo, hay algunos aspectos para tener en cuenta y que est\u00e1n afectando a la evoluci\u00f3n de los sistemas de gesti\u00f3n de datos. Uno de estos aspectos es la seguridad de los datos, que con la creciente cantidad de datos que se almacenan en la red, ha aumentado el riesgo y las iniciativas para hacerse con los datos de 62.1. Evoluci\u00f3n de los sistemas de gesti\u00f3n de datos manera il\u00edcita y por tanto se deben tomar precauciones para anticiparse a estos hechos y evitar el acceso no autorizado a los datos. Por otro lado, la privacidad de los datos tambi\u00e9n es un problema cr\u00edtico que las empresas deben abordar. Los sistemas de gesti\u00f3n de bases de datos deben asegurar que se cumplan las regulaciones de privacidad de datos, as\u00ed como el Reglamento General de Protecci\u00f3n de Datos (RGPD) de la Uni\u00f3n Europea. Otro aspecto para tener en cuenta es la interoperabilidad, que es la capacidad de los sistemas para trabajar juntos de manera efectiva. Los sistemas de gesti\u00f3n de bases de datos deben evolucionar para proporcionar una interoperabilidad mejorada, lo que permitir\u00eda a las empresas compartir datos y trabajar juntos de manera m\u00e1s eficiente. La automatizaci\u00f3n es otro aspecto para tener en cuenta a la hora de gestionar datos. Esta es un \u00e1rea en la que los sistemas de gesti\u00f3n de bases de datos pue- den evolucionar significativamente. Los sistemas de gesti\u00f3n de bases de datos pueden adoptar m\u00e1s automatizaci\u00f3n, lo que permitir\u00eda a las empresas mejorar la eficiencia y reducir los errores humanos ya que evitar\u00eda, por ejemplo, tener que reproducir diariamente un proceso de forma manual [14]. Analizando los datos recogidos en este cap\u00edtulo, se puede afirmar que la evolu- ci\u00f3n de los sistemas de gesti\u00f3n de datos se ha visto impulsada por la necesidad de manejar grandes cantidades de datos, mejorar la escalabilidad y la flexibili- dad, adaptarse a las nuevas tecnolog\u00edas emergentes y abordar los desaf\u00edos rela- cionados con la seguridad, privacidad, interoperabilidad, y automatizaci\u00f3n. Por estas razones, en la actualidad se est\u00e1n utilizando cada vez m\u00e1s los sistemas de software conocidos como sistemas de informaci\u00f3n federados. Los sistemas de informaci\u00f3n federados se definen como una capa de integraci\u00f3n sobre aplicaciones y bases de datos existentes. Estos sistemas se pueden clasi- ficar en tres dimensiones: el grado de autonom\u00eda permitido en los componentes integrados, el grado de heterogeneidad entre los componentes con los que se pueden controlar, y si soportan o no la distribuci\u00f3n. Aunque el problema de la comunicaci\u00f3n y la interoperabilidad ha disminuido en la \u00faltima d\u00e9cada, la in- tegraci\u00f3n sem\u00e1ntica de datos sigue siendo un desaf\u00edo presente en este tipo de sistemas. Con la aparici\u00f3n de los sistemas de informaci\u00f3n federada surge el t\u00e9rmino 'base de datos federada', con el fin de definir t\u00e9cnicas que permitan un acceso inte- grado a un conjunto de bases de datos distribuidas, heterog\u00e9neas y aut\u00f3nomas. Estas tres caracter\u00edsticas de las bases de datos federadas son imprescindibles, y dan nombre a los tres principales problemas que se encuentran al aplicar este tipo de tecnolog\u00eda: Autonom\u00eda: cuando la informaci\u00f3n se encuentra en distintos componentes (estos son, cada uno de los or\u00edgenes que participan en la federaci\u00f3n), es dif\u00edcil que la autonom\u00eda de estos no se vea afectada, lo que llega a ser un inconveniente. Heterogeneidad: la heterogeneidad entre las bases de datos se convierte en 7Cap\u00edtulo 2. Estado de la cuesti\u00f3n un problema debido a que pueden producir diferentes soluciones debido a sus diferentes modelos y entendimientos. Tambi\u00e9n aparece esta hetero- geneidad debido a la diferencia de rendimiento entre ellas. Acabar con la heterogeneidad entre bases de datos de un sistema de datos federado es una de las principales tareas en la integraci\u00f3n de las mismas. Distribuci\u00f3n: la distribuci\u00f3n se refiere a la forma en la que los recursos de distintas fuentes (como la ubicaci\u00f3n de servidores) se usan en un mismo sistema. Este es un problema que se ha ido solventando con el paso del tiempo, ya que la mayor\u00eda de los computadores est\u00e1n conectados a internet, lo que facilita la comunicaci\u00f3n entre sistemas. Otro aspecto significativo en un sistema de datos federado es si se trata de una federaci\u00f3n ajustada o una federaci\u00f3n flexible. Federaci\u00f3n ajustada: este tipo de federaciones ofrece un esquema unifica- do o integrado como interfaz de acceso al sistema de datos federado. Este esquema podr\u00e1 ser construido ad-hoc (que est\u00e1 hecho para una situaci\u00f3n concreta) o mediante un proceso de integraci\u00f3n autom\u00e1tico o semiauto- m\u00e1tico. Una federaci\u00f3n ajustada cubre total o parcialmente los distintos componentes sem\u00e1nticamente. Federaci\u00f3n flexible: las federaciones flexibles, al contrario de las federacio- nes ajustadas, no ofrecen un esquema flexible, sino que ofrecen un lengua- je de consulta uniforme. Esto oculta la heterogeneidad t\u00e9cnica y ling\u00fc\u00edstica entre fuentes de datos, pero cada usuario es responsable de la heteroge- neidad l\u00f3gica de los componentes. Es importante que los sistemas de datos federados sean capaces de ser lo sufi- cientemente flexibles para permitir la integraci\u00f3n de nuevas fuentes de datos, lo que dar\u00e1 lugar a que este tipo de sistemas no quede obsoleto y se pueda usar durante largos periodos de tiempo. [15, 16] Las bases de datos federadas presentan diversas ventajas para los usuarios y los administradores de datos. Por ejemplo, permiten una mayor flexibilidad y escalabilidad en la gesti\u00f3n de datos, ya que estos pueden distribuirse seg\u00fan las necesidades del usuario y la capacidad de almacenamiento de cada base de datos. Adem\u00e1s, las bases de datos federadas pueden mejorar la eficiencia en el acceso a los datos, debido a que los usuarios pueden obtener informaci\u00f3n de varias fuentes sin tener que realizar varias consultas separadas [17, 18, 19]. El uso de este tipo de base de datos requiere de la existencia de un modelo de datos can\u00f3nico, que podr\u00eda definirse como un modelo de datos que describe las entidades, atributos y relaciones de datos de un sector en un formato estanda- rizado [20]. Utilizando un modelo de datos can\u00f3nico solamente ser\u00e1 necesario traducir los datos de origen a este modelo, facilitando as\u00ed el estudio conjunto de los datos de distintas procedencias. La evoluci\u00f3n de las formas en las que se gestionan los datos continuar\u00e1 a medida que las personas busquen ser m\u00e1s eficientes y efectivas a la hora de gestionar y analizar los datos para mejorar la toma de decisiones, sobre todo en el \u00e1rea 82.2. Normativa europea de datos RGPD empresarial. 2.2. Normativa europea de datos RGPD El Reglamento General de Protecci\u00f3n de Datos (RGPD) es una ley de la Uni\u00f3n Europea que entr\u00f3 en vigor el 25 de mayo de 2018, y que establece las reglas para la protecci\u00f3n de datos personales de los ciudadanos europeos. El objetivo principal del RGPD es proteger los derechos de privacidad de los ciudadanos europeos, y proporcionar un marco legal claro y coherente para el tratamiento de datos personales. Para ello, establece un conjunto de normas y principios para garantizar que las empresas y organizaciones que manejan datos personales, incluyendo empresas en l\u00ednea, procesen la informaci\u00f3n de forma justa y transparente. Entre los principales objetivos del RGPD se incluyen: La necesidad de obtener el consentimiento expreso del titular de los datos antes de recopilar, utilizar o compartir sus datos personales. La obligaci\u00f3n de las empresas y organizaciones de informar clara y conci- samente a los titulares de datos sobre c\u00f3mo se utilizar\u00e1n sus datos perso- nales. El derecho de los titulares de datos a solicitar el acceso a sus datos per- sonales, su rectificaci\u00f3n o supresi\u00f3n, y a obtener una copia de sus datos personales en un formato legible por m\u00e1quina. La obligaci\u00f3n de las empresas y organizaciones de tomar medidas de se- guridad adecuadas para proteger los datos personales, y notificar a los titulares de datos y a las autoridades competentes en caso de violaci\u00f3n de seguridad de los datos. El RGPD se aplica a todas las empresas y organizaciones que recopilan, utilizan o comparten datos personales de ciudadanos europeos, independientemente de si la empresa u organizaci\u00f3n se encuentra dentro o fuera de la Uni\u00f3n Europea. Las empresas que incumplen el RGPD pueden enfrentarse a multas significati- vas, y los titulares de datos tambi\u00e9n tienen derecho a presentar reclamaciones y demandas por violaciones de sus derechos de privacidad [21, 22, 23]. 2.3. Est\u00e1ndares en medicina Los est\u00e1ndares de datos en medicina se refieren a un conjunto de reglas y for- matos que se utilizan para definir la estructura, el contenido y el intercambio de datos m\u00e9dicos entre sistemas y aplicaciones de salud. Estos est\u00e1ndares son necesarios para garantizar la calidad y la interoperabilidad de los datos m\u00e9dicos, y para permitir que el personal de atenci\u00f3n m\u00e9dica y los pacientes compartan informaci\u00f3n de manera eficiente y segura. 9Cap\u00edtulo 2. Estado de la cuesti\u00f3n Dada la importancia de la creaci\u00f3n de est\u00e1ndares en el campo de la medicina, existen varios tipos de est\u00e1ndares de datos en medicina, siendo algunos de ellos los incluidos en la siguiente lista: Est\u00e1ndares de codificaci\u00f3n: la funci\u00f3n de estos est\u00e1ndares es convertir informaci\u00f3n m\u00e9dica, como diagn\u00f3sticos, procedimientos, medicamentos y resultados de laboratorio, en un formato particular para que pueda ser transmitida, almacenada o procesada de manera eficiente. Algunos de los est\u00e1ndares de codificaci\u00f3n m\u00e1s comunes son el Sistema Internacional de Clasificaci\u00f3n Internacional de Enfermedades (CIE) y el C\u00f3digo Universal para la Identificaci\u00f3n de Observaciones Cl\u00ednicas y de Laboratorio (LOINC). Est\u00e1ndares de formato: los est\u00e1ndares de formato establecen c\u00f3mo se debe estructurar y presentar la informaci\u00f3n m\u00e9dica en un formato estandariza- do. Ejemplos de este tipo de est\u00e1ndares en medicina son el Health Level 7 (HL7), que se utiliza para intercambiar informaci\u00f3n entre sistemas de informaci\u00f3n m\u00e9dica, y Digital Imaging and Communications in Medicine (DICOM), que se utiliza para almacenar y compartir im\u00e1genes m\u00e9dicas [24]. Est\u00e1ndares de seguridad y privacidad: este tipo de est\u00e1ndares determinan las medidas de seguridad y privacidad que deben implementarse para pro- teger la informaci\u00f3n m\u00e9dica. Uno de los est\u00e1ndares de seguridad y priva- cidad m\u00e1s conocido es la Health Insurance Portability and Accountability Act (HIPAA) en los Estados Unidos [25]. Est\u00e1ndares de interoperabilidad: los est\u00e1ndares de interoperabilidad son un conjunto de normas, directrices y especificaciones t\u00e9cnicas que esta- blecen la forma en que diferentes sistemas de informaci\u00f3n y tecnolog\u00edas deben comunicarse y transmitir datos entre s\u00ed. Este tipo de est\u00e1ndares es imprescindible para asegurar que los distintos sistemas u or\u00edgenes de da- tos pueden trabajar entre ellos. Ejemplos de este tipo de est\u00e1ndares son Continuity of Care Document (CCD), as\u00ed como el modelo com\u00fan de datos OMOP que motiva el presente documento. Los est\u00e1ndares de datos de salud en medicina tienen varias funciones, entre las cuales se encuentra el diagn\u00f3stico cl\u00ednico. Los est\u00e1ndares de diagn\u00f3stico cl\u00ednico ayudan a evaluar y diagnosticar a los pacientes, as\u00ed como a decidir los tratamien- tos m\u00e1s adecuados dadas las condiciones del paciente. En la actualidad existen diversos est\u00e1ndares creados para esta finalidad, entre los que cabe destacar los siguientes: El CIE (Clasificaci\u00f3n Internacional de Enfermedades) es un sistema de cla- sificaci\u00f3n utilizado para registrar y codificar enfermedades y problemas de salud en todo el mundo. Fue desarrollado y es mantenido por la Organiza- ci\u00f3n Mundial de la Salud (OMS) y es utilizado por los sistemas de salud, los m\u00e9dicos, los investigadores y otros profesionales de la salud en todo el mundo para recopilar y analizar datos de salud. El CIE es utilizado para clasificar y codificar enfermedades, trastornos, le- siones y causas de muerte, as\u00ed como otros problemas de salud. La clasifica- ci\u00f3n se basa en c\u00f3digos alfanum\u00e9ricos que se asignan a cada enfermedad 102.3. Est\u00e1ndares en medicina o problema de salud. Dichos c\u00f3digos permiten recopilar y analizar datos tanto a nivel local, como a nivel nacional e internacional. Esto ayuda a los responsables pol\u00edticos y a los profesionales de la salud a comprender las tendencias de salud y a planificar y evaluar programas y pol\u00edticas de salud. Desde su creaci\u00f3n en 1893, el CIE ha sido revisado y actualizado varias veces siendo la versi\u00f3n m\u00e1s reciente el CIE-11, que fue lanzado por la OMS en 2019. Esta \u00faltima versi\u00f3n incluye cambios significativos en la clasifica- ci\u00f3n y la codificaci\u00f3n de enfermedades y trastornos mentales, as\u00ed como la inclusi\u00f3n de nuevas categor\u00edas de salud, como el s\u00edndrome de burnout y el trastorno del juego [26]. Systematized Nomenclature of Medicine-Clinical Terms (SNOMED-CT) es un sistema de codificaci\u00f3n m\u00e9dica utilizado para estandarizar la termino- log\u00eda cl\u00ednica y m\u00e9dica en todo el mundo. Fue desarrollado por la Interna- tional Health Terminology Standards Development Organization (IHTSDO) y es utilizado por diversos sistemas de salud en todo el mundo. SNOMED-CT est\u00e1 compuesto por numerosos t\u00e9rminos m\u00e9dicos y cl\u00ednicos cuya organizaci\u00f3n se basa en un sistema jer\u00e1rquico de conceptos y rela- ciones. Dicho sistema permite que los profesionales de la salud puedan codificar y documentar la informaci\u00f3n de manera precisa y coherente, lo cual facilita la comunicaci\u00f3n y el intercambio de informaci\u00f3n entre los di- ferentes sistemas de salud y sus profesionales. Asimismo, SNOMED-CT es utilizado como apoyo para la investigaci\u00f3n cl\u00ed- nica y la toma de decisiones en la atenci\u00f3n m\u00e9dica. Los sistemas de salud pueden utilizar los datos codificados en SNOMED-CT con el fin de analizar tendencias, identificar patrones de enfermedades y evaluar la eficacia de tratamientos y procedimientos m\u00e9dicos [27]. El Unified Medical Language System (UMLS) se define como un sistema de clasificaci\u00f3n y codificaci\u00f3n de terminolog\u00eda m\u00e9dica, desarrollado por la Biblioteca Nacional de Medicina de los Estados Unidos (NLM). El objetivo principal de este est\u00e1ndar es la integraci\u00f3n y conexi\u00f3n de la informaci\u00f3n m\u00e9dica proveniente de diferentes fuentes y sistemas, con el fin de mejorar la recuperaci\u00f3n de informaci\u00f3n y la interoperabilidad. UMLS comprende una amplia gama de vocabularios y terminolog\u00edas m\u00e9di- cas, como son el Medical Subject Headings (MeSH), la Clasificaci\u00f3n Interna- cional son relacio- nadas entre s\u00ed a trav\u00e9s de un conjunto de relaciones sem\u00e1nticas definidas en el sistema, lo que permite buscar y recuperar informaci\u00f3n de una for- ma m\u00e1s eficiente. UMLS tambi\u00e9n facilita recursos y herramientas para la integraci\u00f3n y el an\u00e1lisis de la informaci\u00f3n m\u00e9dica, como una API para la b\u00fasqueda y recuperaci\u00f3n de datos, y herramientas para extraer y analizar datos del campo de la salud [28]. Es importante conocer que el uso de est\u00e1ndares de datos en medicina tambi\u00e9n tiene un impacto significativo en la investigaci\u00f3n y la innovaci\u00f3n en salud. Los 11Cap\u00edtulo 2. Estado de la cuesti\u00f3n datos m\u00e9dicos son una fuente substancial de informaci\u00f3n para la investigaci\u00f3n, el desarrollo de nuevos tratamientos y el refinamiento de la atenci\u00f3n m\u00e9dica. No obstante, la calidad y la accesibilidad de los datos pueden ser un obst\u00e1culo para la investigaci\u00f3n y la innovaci\u00f3n. Los est\u00e1ndares de datos en medicina contribu- yen a abordar estos desaf\u00edos al establecer un marco com\u00fan para la recopilaci\u00f3n, el intercambio y el an\u00e1lisis de datos m\u00e9dicos. Por otro lado, los est\u00e1ndares de datos en medicina tambi\u00e9n son importantes pa- ra la implementaci\u00f3n de sistemas de salud electr\u00f3nicos (EHR, por sus siglas en ingl\u00e9s) y otros sistemas de informaci\u00f3n m\u00e9dica. Los EHR son sistemas electr\u00f3- nicos que almacenan informaci\u00f3n m\u00e9dica de los pacientes y se utilizan para la gesti\u00f3n de registros m\u00e9dicos, la coordinaci\u00f3n de la atenci\u00f3n m\u00e9dica y la toma de decisiones cl\u00ednicas. Los est\u00e1ndares de datos en medicina tambi\u00e9n contribuyen a garantizar la interoperabilidad y la integraci\u00f3n de los EHR, lo que conlleva a mejorar la eficiencia y la calidad de la atenci\u00f3n m\u00e9dica [29]. Debido a la sensibilidad de los datos que se tratan en el contexto de la salud p\u00fablica, es importante disponer de est\u00e1ndares de datos cuyo prop\u00f3sito principal sea la gesti\u00f3n de la privacidad y la seguridad de la informaci\u00f3n m\u00e9dica. La in- formaci\u00f3n m\u00e9dica es extremadamente sensible y es de vital importancia que sea protegida contra el acceso no autorizado y la divulgaci\u00f3n indebida. Los est\u00e1nda- res de datos en medicina colaboran para garantizar que la informaci\u00f3n m\u00e9dica se administre de forma segura y protegida contra el acceso no autorizado. En este contexto se debe tener en cuenta que los datos en medicina est\u00e1n evolu- cionando constantemente con el fin de mantenerse actualizados con los avances en tecnolog\u00eda y las necesidades de la atenci\u00f3n m\u00e9dica, por lo que es decisivo que los proveedores de atenci\u00f3n m\u00e9dica y otros profesionales de la salud est\u00e9n in- formados de los est\u00e1ndares de datos en medicina y se aseguren de seguirlos en su trabajo diario. Los profesionales de la salud deben interiorizar la importan- cia de la estandarizaci\u00f3n de la informaci\u00f3n m\u00e9dica y trabajar coordinadamete para garantizar que la informaci\u00f3n se gestione de manera segura y eficiente en beneficio de los pacientes. Sintetizando la informaci\u00f3n acerca de la estandarizaci\u00f3n en el dominio de los datos de salud p\u00fablica recogida en esta secci\u00f3n, es posible sostener que los est\u00e1ndares de datos en medicina son una parte vital y esencial de la infraestruc- tura de atenci\u00f3n m\u00e9dica moderna. Asimismo, son decisivos para garantizar la calidad, la seguridad y la interoperabilidad de la informaci\u00f3n m\u00e9dica y el grueso de los datos derivados, as\u00ed como para optimizar la investigaci\u00f3n y la innovaci\u00f3n en este \u00e1mbito. Como consecuencia del desarrollo continuo de nuevos est\u00e1n- dares de datos, se espera que la atenci\u00f3n m\u00e9dica siga mejorando en el futuro [30, 31, 32]. 12Cap\u00edtulo 3 OMOP como modelo de datos can\u00f3nico 3.1. Problema: distintos modelos En el \u00e1mbito m\u00e9dico, la necesidad de contar con modelos de datos que permi- tan la organizaci\u00f3n y almacenamiento de informaci\u00f3n de pacientes se ha vuelto cada vez m\u00e1s evidente, y su objetivo es mejorar la atenci\u00f3n cl\u00ednica y la eficiencia del sistema. A nivel individual, implementar un modelo de datos en una entidad (como por ejemplo un hospital) puede ser relativamente f\u00e1cil. Sin embargo, sur- gen complicaciones cuando se intenta trabajar con datos de diferentes entidades para realizar comparaciones y obtener conclusiones que puedan aplicarse a un sector m\u00e1s amplio de la poblaci\u00f3n. Este problema se manifiesta en la terminolog\u00eda y los conceptos utilizados, lo que puede dar lugar a diferentes representaciones de una misma informaci\u00f3n, como la tensi\u00f3n arterial de un paciente, en diferentes entidades. Esto dificulta la tarea de comparar y contrastar informaci\u00f3n y resultados al no poder interpretar correctamente datos externos. Para abordar este desaf\u00edo, ha surgido el modelo de datos OMOP, que busca es- tablecer un est\u00e1ndar com\u00fan para la organizaci\u00f3n y el almacenamiento de datos m\u00e9dicos. OMOP permite la integraci\u00f3n de datos de diferentes fuentes y la com- paraci\u00f3n de resultados de manera m\u00e1s eficiente y precisa, lo que puede mejorar significativamente la toma de decisiones cl\u00ednicas y la investigaci\u00f3n en el campo de la salud. 3.2. Soluci\u00f3n OMOP pretende servir como modelo de datos com\u00fan para poder comprender los EMR (registro m\u00e9dico electr\u00f3nico) sin importar su origen. Este es un est\u00e1n- dar de licencia abierta cuyo objetivo es estandarizar los datos y estructurarlos para permitir an\u00e1lisis y observaciones eficientes cuyos resultados sean fiables, siguiendo la metodolog\u00eda representada en la Figura 3.1. 13Cap\u00edtulo 3. OMOP como modelo de datos can\u00f3nico OMOP est\u00e1 optimizado para identificar conjuntos de la poblaci\u00f3n con determi- nadas intervenciones cl\u00ednicas y sus resultados; caracterizar estos conjuntos de poblaci\u00f3n para distintas caracter\u00edsticas como pueden ser informaci\u00f3n demogr\u00e1- fica, historial de enfermedades, tratamientos, etc; predecir los resultados de la exposici\u00f3n a un medicamento o la aplicaci\u00f3n de una determinada intervenci\u00f3n m\u00e9dica para un paciente a nivel individual; estimar el efecto que puede tener una determinada intervenci\u00f3n para un conjunto de la poblaci\u00f3n. Figura 3.1: Metodolog\u00eda de OMOP Con el fin de cumplir los objetivos citados anteriormente, este modelo de datos com\u00fan (CDM por sus siglas en ingl\u00e9s) sigue un determinado dise\u00f1o de elemen- tos: Idoneidad para el prop\u00f3sito: este CDM se centra en su capacidad para ofre- cer informaci\u00f3n \u00fatil para el an\u00e1lisis, m\u00e1s que en satisfacer las necesidades operativas de los proveedores de atenci\u00f3n m\u00e9dica o los pagadores. Protecci\u00f3n de datos: los datos personales, como pueden ser el nombre, los apellidos, o el lugar exacto de domicilio, est\u00e1n limitados, exceptuando aquellas investigaciones que requieran de datos exactos. Dise\u00f1o de dominios: los dominios se representan como tablas relacionales en las que se captura, como m\u00ednimo, la identidad de la persona y una fecha para cada registro. Es importante destacar que se trata de un modelo de datos relacional en el que los datos se representan en forma de tablas que est\u00e1n interconectadas mediante claves primarias (primary key, PK) y for\u00e1neas (foreign key, FK). Justificaci\u00f3n de los dominios: los dominios se encuentran definidos aparte, en un modelo entidad-relaci\u00f3n, en caso de que su uso sea anal\u00edtico y el dominio tenga incorporados atributos espec\u00edficos que no sean aplicables de ninguna otra forma. El resto de los datos pueden almacenarse en tablas con estructura entidad-atributo-valor. Vocabularios estandarizados: se utilizan vocabularios estandarizados pa- 143.2. Soluci\u00f3n ra estandarizar los registros, con el fin de que estos contengan todos los conceptos correspondientes. Reutilizaci\u00f3n de vocabularios existentes: siempre que sea posible, el origen de los conceptos ser\u00e1n est\u00e1ndares industriales o nacionales, as\u00ed como de- finiciones provenientes de organizaciones como la \"Biblioteca Nacional de Medicina\" o el \"Centro de Control y Prevenci\u00f3n de Enfermedades\". Conservaci\u00f3n de c\u00f3digos de origen: todos los c\u00f3digos est\u00e1n conectados a los vocabularios estandarizados, pero a\u00fan as\u00ed OMOP almacena el c\u00f3digo de origen con el fin de no perder informaci\u00f3n. Neutralidad tecnol\u00f3gica: OMOP no requiere una tecnolog\u00eda espec\u00edfica, sino que se puede utilizar en distintas bases de datos relaciones, como pueden ser Oracle o SQL, as\u00ed como diferente software para el an\u00e1lisis de datos. Escalabilidad: este CDM est\u00e1 optimizado para el uso de or\u00edgenes de datos con distintos tama\u00f1os, ya que existen bases de datos que pueden llegar a contener millones o billones de registros cl\u00ednicos. Compatibilidad con versiones anteriores: cada una de las versiones ante- riores del modelo de datos se encuentra en el repositorio de github https: //github.com/OHDSI/CommonDataModel . Asimismo, OMOP sigue una serie de normas espec\u00edficas cuyo conocimiento es necesario para poder operar con este modelo de datos: Se trata de un modelo centrado en la persona, lo cual se traduce en que todas las tablas de eventos se encuentran enlazadas a la tabla PERSON (persona), exceptuando las tablas de datos estandarizados del sistema de salud, que se encuentran enlazadas a los distintos dominios u or\u00edgenes. Los derechos del usuario final sobre las tablas de vocabulario y las tablas de eventos son de solo lectura. Aquellas tablas que necesiten ser mani- puladas por el usuario final son almacenadas en el esquema \"Resultados\", compuesto por las tablas COHORT y COHORT_DEFINITION, que describen grupos de inter\u00e9s que el usuario puede definir. Los tipos de datos normalmente est\u00e1n definidos por el est\u00e1ndar ANSI SQL, entre los cuales se encuentran VARCHAR, INTEGER, FLOAT, DATE, DATE- TIME y CLOB, exceptuando el tipo de dato \"fecha\", el cual no se encuentra predefinido en este modelo de datos. Cada concepto est\u00e1ndar tiene una asignaci\u00f3n \u00fanica de dominio que define en qu\u00e9 tabla se registran. Aunque la asignaci\u00f3n de dominio correcta pue- de ser objeto de debate, la correspondencia estricta entre dominio-tabla- campo asegura una ubicaci\u00f3n inequ\u00edvoca para cualquier c\u00f3digo o concepto. Hay un total de 30 dominios, cada uno de los cuales contiene eventos de diferentes naturalezas. En la Figura 3.2 se pueden observar los dominios que existen en OMOP. En las tablas de datos del CDM, cada registro est\u00e1 representado por un conjunto de conceptos normalizados, que se almacenan en tablas de even- 15Cap\u00edtulo 3. OMOP como modelo de datos can\u00f3nico Figura 3.2: Dominios de OMOP tos con sus valores CONCEPT_ID, los cuales son claves for\u00e1neas a la tabla CONCEPT, que sirve como tabla de referencia general. Todas las instancias de CDM utilizan la misma tabla CONCEPT como referencia para los con- ceptos, lo que junto con el modelo de datos com\u00fan es un mecanismo clave de interoperabilidad y la base de la red de investigaci\u00f3n OHDSI. En caso de que no exista un concepto est\u00e1ndar o no se puede identificar, el valor del CONCEPT_ID se establece en 0, lo que representa un concepto inexistente, desconocido o no mapeable. La tabla CONCEPT contiene infor- maci\u00f3n detallada sobre cada concepto, como su nombre, dominio y clase, entre otros. La informaci\u00f3n relacionada con conceptos, relaciones entre conceptos y antepasados de conceptos, se encuentra en las tablas de los vocabularios estandarizados. En la Figura 3.3 se puede ver un fragmento de la tabla CONCEPT. Figura 3.3: Fragmento tabla Concept OMOP Todos los nombres de los campos de las tablas siguen las siguientes nor- mas. [Event]_ID es una clave for\u00e1nea de las tablas de eventos. Por ejemplo, en la Figura 3.4 correspondiente a la tabla PERSON, el campo PER- SON_ID identifica a una persona concreta. [Event]_CONCEPT_ID es una clave for\u00e1nea a un concepto est\u00e1ndar de la tabla CONCEPT, como se puede ver en la Figura 3.5 en la que el c\u00f3digo del CDM '440814' que referencia al concepto 'Torticollis' del 163.2. 3.4: Fragmento tabla Person OMOP est\u00e1ndar SNOMED. [Event]_SOURCE_CONCEPT_ID es otra clave for\u00e1nea de la tabla CON- CEPT, que contiene el valor de origen. Siguiendo el ejemplo anterior, en la Figura 3.5 este campo tendr\u00eda el valor '70070008', que es el valor del identificador de 'Torticollis' en el origen, y que se corresponde con el valor '440814' en el est\u00e1ndar SNOMED. Figura 3.5: Registro 'Torticollis' en la tabla Concept OMOP [Event]_TYPE_CONCEPT_ID es una clave for\u00e1nea de la tabla CONCEPT que representa el origen del dato de forma estandarizada. Este campo declara el mecanismo de captura que cre\u00f3 el registro. En el caso del ejemplo correspondiente la Figura 3.6, este valor es '38000280' [Event]_SOURCE_VALUE contiene la representaci\u00f3n del valor de ori- gen. Es importante tener en cuenta que este dato no se encuentra armonizado dentro del modelo de datos. Para el ejemplo de la Figura 3.6 el valor original es '72166-2' Figura 3.6: Registro de la tabla Observation OMOP La \u00faltima norma que sigue OMOP es que contiene informaci\u00f3n repeti- da en algunos de sus campos, dependiendo de si es su valor de origen, su valor en el CDM o su valor estandarizado. Los valores de origen son la representaci\u00f3n original de un evento en el origen. Estos valores pue- den seguir un est\u00e1ndar o pueden ser propios de la fuente del dato. Di- chos valores corresponden a los campos de las tablas nombrados como [Event]_SOURCE_VALUE. Los conceptos son valores estandarizados de OMOP, e igualmente pue- den estar basados en otros est\u00e1ndares o vocabularios, o pueden ser propios de OMOP (como se puede ver en la Figura 3.7 estos valores comenzar\u00e1n con 'OMOP'). 17Cap\u00edtulo 3. OMOP como modelo de datos can\u00f3nico Figura 3.7: Tabla Conceptos: conceptos propios de OMOP Los conceptos de origen representan el valor original del campo. Estos conceptos corresponden con el campo [Event]_SOURCE_CONCEPT_ID. Esto se ve reflejado en el campo 'sepecialty_source_concept_id' de la Figura 3.8. Los conceptos est\u00e1ndar son la representaci\u00f3n principal del evento, ya que definen el significado de una entidad cl\u00ednica de la misma forma independientemente de su valor en el origen. Los conceptos est\u00e1ndar se nombran como [Event]_CONCEPT_ID en los campos de las tablas. Por ejemplo, en la tabla de proveedores, esto corresponde al campo 'specialty_concept_id', como se puede ver en la Figura 3.8. Figura 3.8: Extracto tabla proveedores OMOP Al utilizar el modelo de datos OMOP es recomendable almacenar los valores de origen detallados anteriormente, para as\u00ed guardar toda la informaci\u00f3n posible y aumentar la calidad de los datos lo que permite que estos sean comparables y reproducibles. Siguiendo estas convenciones definidas en el modelo de datos de salud OMOP, este se compone de 16 tablas de eventos cl\u00ednicos, 10 tablas de vocabulario, 2 tablas de metadatos, 4 tablas de datos del sistema de salud, 2 tablas de datos de econom\u00eda de la salud, 3 elementos derivados estandarizados y 2 tablas de esquema de resultados. En la Figura 3.9 se puede ver un resumen de las tablas que componen el CDM. Una vez creado este modelo de datos, es posible operar con OMOP gracias a OHDSI (Observational Health Data Sciences and Informatics), que cuenta con herramientas espec\u00edficas entre las cuales destacan las siguientes: Atlas: ATLAS es una herramienta de software de acceso p\u00fablico, desarro- llada por la comunidad OHDSI, que permite la realizaci\u00f3n de an\u00e1lisis de datos de observaci\u00f3n estandarizados a nivel de paciente en formato CDM. 183.2. Soluci\u00f3n Figura 3.9: Diagrama del CDM de OMOP Es una aplicaci\u00f3n web que trabaja en conjunto con OHDSI WebAPI y pue- de ser instalada detr\u00e1s del firewall de una organizaci\u00f3n para acceder a los datos a nivel de paciente en el CDM y realizar an\u00e1lisis en tiempo real. La herramienta ATLAS tambi\u00e9n est\u00e1 disponible p\u00fablicamente y aunque solo tiene acceso a algunos conjuntos de datos simulados peque\u00f1os, puede ser utilizada para pruebas y capacitaci\u00f3n. Adem\u00e1s, es posible definir un estu- dio de predicci\u00f3n o estimaci\u00f3n de efectos utilizando la instancia p\u00fablica de ATLAS y generar autom\u00e1ticamente el c\u00f3digo R para ejecutar el estudio en cualquier entorno con un CDM disponible sin necesidad de instalar ATLAS y WebAPI. Hades: esta herramienta es una recopilaci\u00f3n de paquetes de c\u00f3digo abierto en R que ofrecen una colecci\u00f3n de funciones que se pueden utilizar en con- junto para realizar un an\u00e1lisis completo de observaci\u00f3n, a partir de datos en formato OMOP, y que proporcionan como resultado estimaciones, es- tad\u00edsticas, gr\u00e1ficos y tablas. Estos paquetes interact\u00faan directamente con los datos de observaci\u00f3n en el CDM y se pueden utilizar de manera sencilla para proporcionar compatibilidad entre plataformas para an\u00e1lisis persona- lizados, o bien brindar an\u00e1lisis estandarizados avanzados para caracterizar a la poblaci\u00f3n, la estimaci\u00f3n de los efectos para la poblaci\u00f3n y la predicci\u00f3n a nivel de paciente individual. HADES apoya las mejores pr\u00e1cticas para el uso de datos y el dise\u00f1o de estudios, basadas en investigaciones tanto an- teriores como actuales. Tendr\u00e1 en cuenta la reproducibilidad, la transpa- rencia, la medici\u00f3n de las caracter\u00edsticas operativas de los m\u00e9todos en un contexto espec\u00edfico y la calibraci\u00f3n emp\u00edrica posterior de las estimaciones generadas por los m\u00e9todos. Athena: ATHENA es una plataforma en l\u00ednea que proporciona acceso a vo- cabularios estandarizados que se pueden utilizar para estandarizar y nor- malizar los datos de salud. No es un software que deba instalarse en una 19Cap\u00edtulo 3. OMOP como modelo de datos can\u00f3nico computadora, sino un recurso en l\u00ednea. Los usuarios pueden buscar y se- leccionar los vocabularios necesarios para su modelo de datos OMOP, con opciones preseleccionadas que incluyen conceptos est\u00e1ndar y com\u00fanmente utilizados. Si un usuario necesita un vocabulario propietario que no est\u00e9 disponible para seleccionar, se requiere una licencia para su uso. El usua- rio debe hacer clic en el bot\u00f3n 'Se requiere licencia' para incluir el vocabu- lario en su lista y el equipo de vocabulario se comunicar\u00e1 con el usuario para solicitar la licencia o ayudarlo a conectarse con las personas adecua- das para obtener una. En la Figura 3.10 se observa que el vocabulario 'CPT4' requiere de licencia. Figura 3.10: Herramienta Athena Otro de los aspectos importantes del modelo com\u00fan de datos OMOP es el con- cepto de cohorte. Una cohorte es un conjunto de personas que satisfacen uno o m\u00e1s criterios de inclusi\u00f3n al conjunto durante un per\u00edodo determinado de tiem- po. Estos conjuntos se utilizan en todas las herramientas anal\u00edticas y estudios de OHDSI como los elementos fundamentales para llevar a cabo una investi- gaci\u00f3n. Las cohortes se definen de forma independiente a los dem\u00e1s conjuntos en una investigaci\u00f3n, lo que permite reutilizarlos en otros estudios. Al utilizar cohortes en OHDSI es importante tener presentes los siguientes aspectos: Una persona puede pertenecer a varias cohortes. Una persona puede pertenecer a la misma cohorte en distintos per\u00edodos de tiempo. Una persona no puede pertenecer varias veces a la misma cohorte en el mismo per\u00edodo de tiempo. Una cohorte puede ser vac\u00eda o no. Existen dos enfoques principales para la construcci\u00f3n de cohortes en OHDSI. En primer lugar, las definiciones de cohortes basadas en reglas, que utilizan 203.2. Soluci\u00f3n reglas expl\u00edcitas para determinar si un paciente pertenece o no al conjunto. Estas reglas se basan en la experiencia en el dominio del individuo que lo dise\u00f1a, lo que le permite utilizar su conocimiento del \u00e1rea terap\u00e9utica para establecer criterios de inclusi\u00f3n. En segundo lugar, las definiciones de cohortes probabil\u00edsticas emplean un mode- lo probabil\u00edstico para asignar una probabilidad de 0 a 100 % de que un paciente pertenezca al conjunto. Esta probabilidad puede ser transformada en una clasi- ficaci\u00f3n binaria usando un umbral o utilizarse como tal en algunos dise\u00f1os de estudio. El modelo probabil\u00edstico se entrena normalmente mediante t\u00e9cnicas de aprendizaje autom\u00e1tico, como la regresi\u00f3n log\u00edstica, utilizando datos de ejemplo para identificar autom\u00e1ticamente las caracter\u00edsticas relevantes del paciente que son predictivas. En el contexto de la estructura de datos OMOP, uno de los aspectos m\u00e1s rele- vantes es la caracterizaci\u00f3n de los datos. Dado que las bases de datos m\u00e9dicas contienen informaci\u00f3n detallada sobre las enfermedades y situaciones cl\u00ednicas de los pacientes, es fundamental utilizar herramientas estad\u00edsticas descriptivas para entender c\u00f3mo var\u00edan estas condiciones en funci\u00f3n de las caracter\u00edsticas de la poblaci\u00f3n. En el CDM de OMOP, existen cuatro m\u00e9todos diferentes para llevar a cabo la caracterizaci\u00f3n: caracterizaci\u00f3n a nivel de base de datos, caracterizaci\u00f3n de co- hortes, v\u00edas de tratamiento e incidencias. La caracterizaci\u00f3n a nivel de base de datos se enfoca en describir la totalidad de los datos de la base de datos median- te la obtenci\u00f3n de diversas estad\u00edsticas descriptivas, como el conteo de personas en la base de datos, el tiempo de observaci\u00f3n de estas, o la proporci\u00f3n de perso- nas con caracter\u00edsticas espec\u00edficas. Por otro lado, la caracterizaci\u00f3n de cohortes tiene como objetivo describir las caracter\u00edsticas comunes a las personas incluidas en una cohorte, considerando tanto datos hist\u00f3ricos como actuales, y datos correspondientes a las caracter\u00eds- ticas sociodemogr\u00e1ficas del conjunto. Este tipo de caracterizaci\u00f3n es especial- mente \u00fatil en el estudio de los efectos de un medicamento en un paciente o en la toma de decisiones para enfrentar una epidemia. La caracterizaci\u00f3n de las v\u00edas de tratamiento busca describir las distintas se- cuencias que aparecen durante un tratamiento y aumentar la precisi\u00f3n en la prescripci\u00f3n de medicamentos o tratamientos para pacientes con enfermedades y caracter\u00edsticas concretas. A trav\u00e9s del an\u00e1lisis de los datos de los tratamientos en los pacientes, se pueden determinar diversos aspectos de una enfermedad para un sector espec\u00edfico de la poblaci\u00f3n, como la eficacia de un tratamiento o la combinaci\u00f3n de diferentes tratamientos. Por \u00faltimo, las incidencias proporcionan informaci\u00f3n sobre el comportamiento de la poblaci\u00f3n durante un per\u00edodo de tiempo de riesgo. Este m\u00e9todo distingue entre la proporci\u00f3n y la tasa de incidencia, donde la proporci\u00f3n de incidencia es una medida de los resultados por persona en la poblaci\u00f3n durante el tiem- po de riesgo, mientras que la tasa de incidencia es una medida de las nuevas incidencias que ocurren durante el tiempo de riesgo. 21Cap\u00edtulo 3. OMOP como modelo de datos can\u00f3nico La utilizaci\u00f3n de estos m\u00e9todos de caracterizaci\u00f3n ayuda a obtener una visi\u00f3n m\u00e1s amplia de los datos y hacer an\u00e1lisis precisos, lo que permite facilitar la toma de decisiones m\u00e9dicas fundamentadas. El modelo OMOP ha sido dise\u00f1ado para generar evidencias del mundo real que permitan evaluar el efecto de los tratamientos en la vida de los pacientes. Para ello, resulta crucial conocer la estimaci\u00f3n del efecto a nivel poblacional, es decir, la estimaci\u00f3n de los efectos causales promedio de las exposiciones (como in- tervenciones m\u00e9dicas o procedimientos con medicamentos) sobre resultados de salud espec\u00edficos de inter\u00e9s. En este sentido, existen dos tareas de estimaci\u00f3n diferenciadas: Estimaci\u00f3n del efecto directo: consiste en estimar el efecto de una exposi- ci\u00f3n sobre el riesgo de un resultado en comparaci\u00f3n con la no exposici\u00f3n. Estimaci\u00f3n del efecto comparativo: implica estimar el efecto de una exposi- ci\u00f3n (la exposici\u00f3n objetivo) sobre el riesgo de un resultado en comparaci\u00f3n con otra exposici\u00f3n (la exposici\u00f3n de comparaci\u00f3n). En ambos casos, el efecto causal se contrasta a nivel del paciente entre un resul- tado f\u00e1ctico, es decir, lo que sucedi\u00f3 al paciente expuesto, y su caso contrario, es decir, lo que habr\u00eda sucedido si no hubiera ocurrido la exposici\u00f3n (en el caso del efecto directo) o si hubiera ocurrido una exposici\u00f3n diferente (en el caso del efecto comparativo). Debido a que cada paciente solo presenta el resultado f\u00e1c- tico (lo que ocurri\u00f3 realmente), el problema fundamental de la inferencia causal consiste en inferir lo que habr\u00eda sucedido si se hubiera tomado otra decisi\u00f3n. Los modelos predictivos son otra herramienta que ayuda a la tarea de la toma de decisiones en el \u00e1mbito m\u00e9dico. La creaci\u00f3n de este tipo de modelos a nivel de paciente es importante y es posible gracias a OMOP, un modelo com\u00fan de datos que permite analizar los datos de manera uniforme y transparente. Sin embargo, la creaci\u00f3n de estos modelos est\u00e1 sujeta al problema de la predic- ci\u00f3n, donde se debe adivinar qu\u00e9 va a ocurrir teniendo solamente informaci\u00f3n anterior al momento actual. Es importante tomar decisiones de dise\u00f1o al crear modelos predictivos, como las cohortes que se van a utilizar, el tiempo en el que se quiere llevar a cabo la predicci\u00f3n, los algoritmos y las variables predictoras que se van a utilizar. Gracias a OMOP, la tarea de recopilaci\u00f3n de datos y formaci\u00f3n de cohortes espe- c\u00edficas para cada estudio es viable, lo que hace que la predicci\u00f3n sea m\u00e1s fiable y aplicable al mundo real [33]. 22Cap\u00edtulo 4 Aplicaci\u00f3n de OMOP en un supuesto 4.1. Instalaci\u00f3n y configuraci\u00f3n del entorno El objetivo de esta secci\u00f3n es aplicar el modelo com\u00fan de datos OMOP en un su- puesto. Para ello, primero es necesario instalar OMOP as\u00ed como las herramientas requeridas para su correcta instalaci\u00f3n y funcionamiento. Para empezar, se instala el siguiente software: PostgreSQL: se trata de un software de gesti\u00f3n de bases de datos relacio- nales. Apache Tomcat: es un software contenedor de servidores web basados en Java, tambi\u00e9n llamados servlets. Apache Maven: este software se utiliza para gestionar y construir proyectos Java. Git: este es un sistema de control de versiones que permitir\u00e1 clonar f\u00e1- cilmente un repositorio, pudiendo existir localmente sin necesidad de una conexi\u00f3n a Internet. Java Development Kit (JDK): este software brinda a los desarrolladores dis- tinas herramientas de desarrollo para crear programas Java. R: este es un lenguaje de programaci\u00f3n, el cual se puede usar desde el entorno de software con este mismo nombre, R. Una vez instaladas estas herramientas, se procede a instalar OMOP. Para ello, primero se crear\u00e1 una base de datos en PostgreSQL (en este caso, se llama- r\u00e1 'OHDSI'), y seguidamente se utilizar\u00e1 R. En esta herramienta se ejecuta la funci\u00f3n 'executeDdl' del repositorio de Git OHDSI/CommonDataModel ( https: //github.com/OHDSI/CommonDataModel ) previamente clonado. Esta funci\u00f3n crear\u00e1 las tablas necesarias en el esquema del modelo de datos (en este caso, 'omop'). 23Cap\u00edtulo 4. Aplicaci\u00f3n de OMOP en un supuesto A continuaci\u00f3n, se cargar\u00e1 el vocabulario en el esquema 'omop' de la base de datos 'OHDSI'. Para ello, se deber\u00e1 haber descargado previamente el vocabu- lario de la herramienta 'Athena'. Esta herramienta proporcionar\u00e1 una serie de archivos .csv con el vocabulario necesario para el modelo de datos. Una vez el vocabulario est\u00e1 cargado en la base de datos, se proceder\u00e1 a cargar los datos en esta. Debido al caracter sensible de los datos sanitarios, se crea- r\u00e1n unos datos sint\u00e9ticos con la herramienta 'Synthea', la cual tambi\u00e9n cuenta con funciones programadas en R que act\u00faan como un proceso ETL (Extraer, Transformar, Cargar) para poder transformar los datos del modelo de Synthea a OMOP. As\u00ed, se deber\u00e1n cargar las instancias generadas por Synthea en la base de datos, para lo cual se utilizar\u00e1 un nuevo esquema ('synthea') y se ejecutar\u00e1 la funci\u00f3n LoadEventTables() para insertar las instancias en el esquema de OMOP. Al tener los datos necesarios ya cargados en la base de datos, se proceder\u00e1 a crear la API Web que se utilizar\u00e1 para poder visualizar los datos de la base de datos local utilizando la interfaz de la herramienta Atlas. Para ello ser\u00e1 necesario popular los datos con la herramienta 'Achilles' (caracterizaci\u00f3n automatizada de informaci\u00f3n de salud en sistemas de evidencia longitudinal a gran escala) de Hades, as\u00ed como clonar los repositorios disponibles en Git para la API Web y para Atlas. Para estas tres herramientas ser\u00e1 necesario crear varios esquemas en la base de datos: 'results', 'temp' y 'webapi'. En la Figura 4.1 se puede ver la estructura final de la base de datos 'OHDSI' que se utiliza en este trabajo. Figura 4.1: Estructura de la base de datos OHDSI Una vez existan estos esquemas, se podr\u00e1n configurar ambas aplicaciones web y ejecutarlas a trav\u00e9s de Tomcat. Para comprobar el funcionamiento de la ver- 244.2. Visualizaci\u00f3n de datos en Atlas si\u00f3n local de Atlas, se abre la aplicaci\u00f3n en el navegador Google Chrome y se comprueba su configuraci\u00f3n, resultando similar a la configuraci\u00f3n que aparece en la Figura 4.2. Figura 4.2: Secci\u00f3n configuraci\u00f3n de Atlas 4.2. Visualizaci\u00f3n de datos en Atlas Al haber configurado el entorno necesario y haber cargado tanto el vocabulario como algunas instancias en la base de datos, se pueden visualizar los datos sint\u00e9ticos ya traducidos a OMOP. En la Figura 4.3 se pueden ver un fragmento de los datos generados por Synthea, correspondientes a la tabla 'person'. Figura 4.3: Instancias de Synthea En la Figura 4.4 y Figura 4.5 se incluyen las instancias de Synthea ya converti- 25Cap\u00edtulo 4. Aplicaci\u00f3n de OMOP en un supuesto das a OMOP, correspondientes a la tabla 'person' del modelo de datos. En estas se puede apreciar una de las caracter\u00edsticas principales de OMOP: en sus regis- tros se incluyen los valores del propio modelo, as\u00ed como sus valores de origen. Los valores de origen corresponden a los campos cuyo nombre contiene el frag- mento 'source'. Un claro ejemplo de ello es el campo 'person_source_value', cuyo valor corresponde al campo original 'id'. Figura 4.4: Instancia traducida a OMOP (1) Figura 4.5: Instancia traducida a OMOP (2) En la herramienta Atlas se pueden visualizar informes de los datos insertados en las tablas del modelo de datos, as\u00ed como distintos an\u00e1lisis correspondientes a las instancias insertadas. En la Figura 4.6 se pueden ver los an\u00e1lisis disponibles para la base de datos origen utilizada en este trabajo. Figura 4.6: An\u00e1lisis del origen disponibles en Atlas Estos an\u00e1lisis se encuentran en el apartado 'Data Sources', en el cual existen 264.2. Visualizaci\u00f3n de datos en Atlas distintos informes estandarizados siendo el primero el panel de datos (Dash- board). Aqu\u00ed se pueden visualizar tablas y gr\u00e1ficos con car\u00e1cter general respecto a la base de datos. La primera tabla del panel de datos, como se puede ver en la Figura 4.7, muestra la cantidad de personas que se encuentran en la base de datos, siendo 4 las personas que se han insertado en este caso. A su derecha se puede ver un gr\u00e1fico que desglosa la poblaci\u00f3n por g\u00e9nero, siendo un 75 % de la base de datos mujeres y el 25 % hombres. Otro de los gr\u00e1ficos disponibles en esta secci\u00f3n es el de edad de la primera observaci\u00f3n de los pacientes. En la Figura 4.8 se puede ver que este histograma representa la edad en el eje X del gr\u00e1fico y el n\u00famero de personas en el eje Y. Figura 4.7: Dashboard de Atlas (1) Figura 4.8: Dashboard de Atlas (2) Otro de los informes disponibles es el de las personas. Este informe, ilustrado en la Figura 4.9, muestra un histograma correspondiente al a\u00f1o de nacimiento de las personas, as\u00ed como 3 gr\u00e1ficos correspondientes a algunos de los atributos de las personas: g\u00e9nero (masculino y femenino), raza (blanco y desconocido) y etnia (no hispano o latino). Por otro lado, la herramienta 'Profiles' de Atlas permite explorar pacientes de forma individual. Para investigar esta herramienta, se utilizar\u00e1 el paciente cuyo valor del campo person_id es '3'. Seleccionando el origen creado para este traba- jo y buscando el paciente con valor id 3, se pueden visualizar las observaciones 27Cap\u00edtulo 4. Aplicaci\u00f3n de OMOP en un supuesto Figura 4.9: Informe de personas en Atlas existentes para este paciente tanto en forma de gr\u00e1fico como en forma de ta- bla. De acuerdo a la Figura 4.10, la primera informaci\u00f3n que se recibe en esta pantalla es que se trata de un hombre para el cual hay registrados 423 eventos durante 16 a\u00f1os. Figura 4.10: Perfil de persona con id 3 en Atlas A continuaci\u00f3n aparecen las distintas entradas para el paciente, las cuales se pueden filtrar seg\u00fan el dominio de datos en el modelo com\u00fan entre los que se encuentran las condiciones, medicamentos, dispositivos, mediciones, observa- ciones, procedimientos y visitas. En la forma tabular de los datos aparece por cada entrada la siguiente informaci\u00f3n: identificador del concepto, nombre del 284.2. Visualizaci\u00f3n de datos en Atlas concepto, dominio al que pertenece, y fecha de inicio y fin asociada a cada con- cepto. Al activar el filtro para consultar los medicamentos registrados del paciente, se obtiene la pantalla representada por la Figura 4.11, la cual se compone de 1 registro correspondiente al medicamento 'fluoxetina' cuyo id es '19077463'. Este evento comienza y termina en el d\u00eda 1099 de observaci\u00f3n del paciente. Figura 4.11: Medicamentos del paciente 3 en Atlas Otra de las herramientas m\u00e1s importantes de Atlas es la de 'Search', ya que per- mite buscar y consultar cualquier concepto en el vocabulario de la base de datos. Si en esta herramienta se introduce el id de concepto de fluoxetina (19077463), aparece un registro como el ilustrado en la Figura 4.12, que contiene diversa infomaci\u00f3n entre la que destaca el identificador de OMOP, el c\u00f3digo en el origen (310385), el nombre (fluoxetine 20 MG Oral Capsule), la clase (Clinical Drug), el n\u00famero de veces que aparece este concepto en la base de datos (1), el dominio (Drug) y el vocabulario en el que se encuentra el concepto, en este caso 'RxNorm'. Figura 4.12: B\u00fasqueda de 'fluoxetina' en el vocabulario en Atlas 29Cap\u00edtulo 4. Aplicaci\u00f3n de OMOP en un supuesto 4.3. An\u00e1lisis de un conjunto de datos Para profundizar en el modelo OMOP y su herramienta Atlas, se ha generado un conjunto de datos para 1106 personas, cuya zona geogr\u00e1fica es California. Como se puede ver en la Figura 4.13, se han generado registros para 1000 personas vivas y 106 personas fallecidas. Figura 4.13: Resultado de la creaci\u00f3n del conjunto de datos. Una vez que el conjunto de datos est\u00e1 listo para utilizarlo con la herramienta Atlas, se procede a un an\u00e1lisis general del mismo para conocer sus caracter\u00edsti- cas principales. Para ello, primero se examina el panel principal. Observando la Figura 4.14, se puede corroborar que el n\u00famero de personas en la base de da- tos es de 1106, y que el conjunto generado se compone por 541 hombres y 565 mujeres, que representan el 48,9 % y 51,1 % respectivamente, seg\u00fan el gr\u00e1fico circular mostrado. Figura 4.14: N\u00famero de personas y desglose por g\u00e9nero. En el histograma de la Figura 4.15 se encuentra representada la edad de la pri- 304.3. An\u00e1lisis de un conjunto de datos mera observaci\u00f3n de los pacientes en el eje X, y el n\u00famero de personas en el eje Y. Este histograma permite saber que en este conjunto la primera observaci\u00f3n de los pacientes suele tener lugar a la edad de 19 a\u00f1os, ya que m\u00e1s de 300 personas en el conjunto de datos cumplen esta condici\u00f3n. Figura 4.15: Edad en la primera observaci\u00f3n de las personas. El siguiente gr\u00e1fico que se encuentra en el panel principal corresponde a la Fi- gura 4.16, en la que se puede ver una distribuci\u00f3n de la cantidad de tiempo durante la cual se han realizado observaciones. El eje X corresponde a la canti- dad de a\u00f1os y el eje Y al porcentaje de poblaci\u00f3n. El 50 % de personas registradas en esta base de datos tiene observaciones durante 25 a\u00f1os, aunque la mayor\u00eda de la poblaci\u00f3n tiene un tiempo de observaci\u00f3n acumulada menor a 10 a\u00f1os. Figura 4.16: Observaci\u00f3n acumulada en el tiempo. Por \u00faltimo, en el panel principal se encuentra el gr\u00e1fico representado por la Figura 4.17, el cual contiene informaci\u00f3n acerca de cuantas personas han sido observadas de forma continuada. En el eje X se ubican los meses de observaci\u00f3n, y en el eje Y el n\u00famero de personas. Aqu\u00ed se puede ver que la base de datos contiene observaciones desde el a\u00f1o 1921 hasta 2023. Adem\u00e1s, el m\u00e1ximo de personas con observaci\u00f3n continuada tiene lugar en diciembre del a\u00f1o 2020, con 975 personas. El siguiente informe disponible es el de densidad de datos, en el cual destaca el gr\u00e1fico correspondiente a la Figura 4.18. En esta representaci\u00f3n se puede ver el n\u00famero de registros de datos por cada dominio del modelo de datos ubicados en el tiempo que existen en el conjunto de datos. En este caso, la mayor\u00eda de la informaci\u00f3n del conjunto de datos se encuentra a partir del a\u00f1o 2013. Al generar el informe de personas en Atlas, la primera informaci\u00f3n recibida es 31Cap\u00edtulo 4. Aplicaci\u00f3n de OMOP en un supuesto Figura 4.17: Relaci\u00f3n del n\u00famero de personas con observaci\u00f3n continua por mes. Figura 4.18: Densidad de datos de cada dominio en el tiempo. el n\u00famero de personas agrupadas seg\u00fan su a\u00f1o de nacimiento, representada en forma de histograma, como se puede ver en la Figura 4.19. Exceptuando al- gunos a\u00f1os, se podr\u00eda afirmar que la mayor\u00eda de las personas que conforman la base de datos nacieron entre el a\u00f1o 1959 y el a\u00f1o 2021. Este informe tam- bi\u00e9n proporciona 3 gr\u00e1ficos circulares, reflejados en la Figura 4.20, los cuales muestran un desglose de la poblaci\u00f3n por g\u00e9nero, raza y etnia. Estos gr\u00e1ficos proporcionan la siguiente informaci\u00f3n: la mayor\u00eda de las personas en la base de datos son blancas y no son hisp\u00e1nicas o latinas. Figura 4.19: N\u00famero de personas nacidas en cada a\u00f1o. En la Figura 4.21 se puede ver el informe de visitas del conjunto de datos. Aqu\u00ed se encuentran \u00fanicamente tres entradas correspondiendo al tipo de visita m\u00e9- 324.3. An\u00e1lisis de un conjunto de datos Figura 4.20: Desglose de la poblaci\u00f3n por g\u00e9nero, raza y etnia. dica: visita al ambulatorio, visita hospitalaria o visita de emergencia. As\u00edmismo se puede ver el n\u00famero de personas que tienen registros de cada tipo de visita, como por ejemplo, 794 personas han realizado alguna vez una visita de emer- gencia. Figura 4.21: Registros del dominio 'Visitas'. El siguiente reporte se puede ver en la Figura 4.22. Este corresponde al dominio de condiciones, y permite consultar r\u00e1pidamente cu\u00e1les son las condiciones con mayor ocurrencia en el conjunto de datos. As\u00ed, en este conjunto de datos, la mayor\u00eda de las personas tienen o han tenido estr\u00e9s, sinusitis v\u00edrica, contacto social limitado o aislamiento social. Otro de los informes disponibles en Atlas corresponde a las observaciones de los pacientes. Aqu\u00ed se encuentran todas las observaciones que se han registrado en alg\u00fan momento en los pacientes a lo largo de su historia m\u00e9dica. Algunas de las observaciones a destacar es que, como se puede ver en la Figura 4.23, un 99,64 % de la poblaci\u00f3n fuma o ha fumado tabaco. Asimismo, un alto porcentaje de la poblaci\u00f3n ha padecido de ansiedad en alg\u00fan momento durante el periodo de observaci\u00f3n. 33Cap\u00edtulo 4. Aplicaci\u00f3n de OMOP en un supuesto Figura 4.22: Fracci\u00f3n de registros del dominio 'Ocurrencia de condici\u00f3n'. Figura 4.23: Fracci\u00f3n de registros del dominio 'Observaci\u00f3n'. 344.4. Creaci\u00f3n de conjuntos de conceptos 4.4. Creaci\u00f3n de conjuntos de conceptos Una de las motivaciones del uso de OMOP es poder entender y utilizar la in- formaci\u00f3n m\u00e9dica independientemente del lugar en el que se han recogido o generado los datos. As\u00ed, el concepto 'conjunto de conceptos' ayuda a alcanzar este objetivo. Un conjunto de conceptos es una expresi\u00f3n que representa una lista de conceptos que se pueden utilizar como un componente reutilizable en distintos an\u00e1lisis. El fin de esta expresi\u00f3n es identificar los conceptos que van a pertenecer a dicho conjunto. Para operar con la base de datos formalizada para este trabajo, se crear\u00e1n algu- nos conjuntos de conceptos que se utilizar\u00e1n posteriormente. El primero de los conjuntos recibir\u00e1 el nombre de 'Faringitis'. Este conjunto contendr\u00e1 los conceptos derivados de 'faringitis aguda' y 'faringitis aguda v\u00edrica'. As\u00ed, utilizando este conjunto de datos, podr\u00e1n obtenerse todos los conceptos de faringitis aguda o derivados existentes en la base de datos. La configuraci\u00f3n de este conjunto de conceptos se puede ver en la Figura 4.24. Figura 4.24: Configuraci\u00f3n del conjunto de conceptos 'Faringitis'. El siguiente conjunto de conceptos definidos se denomina 'Estres', y contendr\u00e1 cualquier concepto de estr\u00e9s como puede ser estr\u00e9s emocional, estr\u00e9s f\u00edsico o es- tr\u00e9s debido a tensi\u00f3n familiar. La configuraci\u00f3n de este conjunto se ha realizado acorde a la Figura 4.25. Figura 4.25: Configuraci\u00f3n del conjunto de conceptos 'Estres'. El tercer conjunto recibe el nombre de 'Benzodiazepina', el cual se refiere a un componente que suele formar parte de los ingredientes de los calmantes exis- 35Cap\u00edtulo 4. Aplicaci\u00f3n de OMOP en un supuesto tentes. Este conjunto contendr\u00e1 todos los medicamentos de la base de datos que contengan este componente, llegando a formar un conjunto compuesto por 12.586 conceptos, como se puede ver en la Figura 4.26, junto a la etiqueta 'In- cluded Concepts'. Figura 4.26: Configuraci\u00f3n del conjunto de conceptos 'Benzodiazepina'. El conjunto de conceptos 'V\u00edctima de violencia por parte de su pareja' est\u00e1 confi- gurado como aparece en la Figura 4.27. Este conjunto contendr\u00e1 los conceptos derivados de la condici\u00f3n 'V\u00edctima de abuso de pareja \u00edntima', el cual contendr\u00e1, adem\u00e1s de esta, la condici\u00f3n 'V\u00edctima de agresi\u00f3n sexual por pareja \u00edntima'. Figura 4.27: Configuraci\u00f3n del conjunto de conceptos 'V\u00edctima de violencia por parte de su pareja'. El \u00faltimo de los conjuntos de conceptos es 'Paracetamol', en el cual se incluyen todos los medicamentos que cuenten con acetaminof\u00e9n (el t\u00e9rmino m\u00e9dico para el conocido paracetamol) como alguno de sus ingredientes ya que, como se puede ver en la Figura 4.28, se ha incluido cualquier concepto descendiente de este. Este conjunto estar\u00e1 compuesto por un total de 25.770 conceptos. En la Figura 4.29 se puede ver el resumen de los conjuntos de conceptos dispo- nibles tras el proceso de creaci\u00f3n de los mismos en la herramienta Atlas. 364.4. Creaci\u00f3n de conjuntos de conceptos Figura 4.28: Configuraci\u00f3n del conjunto de conceptos 'Paracetamol'. Figura 4.29: Lista de conjuntos de conceptos disponibles. 37Cap\u00edtulo 4. Aplicaci\u00f3n de OMOP en un supuesto 4.5. Creaci\u00f3n de cohortes La creaci\u00f3n de cohortes es una funci\u00f3n indispensable de OMOP, ya que permite crear definiciones de conjuntos de poblaci\u00f3n, pudiendo determinar los criterios de inclusi\u00f3n y exclusi\u00f3n al mismo. Para conocer el funcionamiento de esta he- rramienta, se han creado 3 cohortes distintas. Estas estar\u00e1n disponibles en el apartado 'Cohort Definitions' de la herramienta Atlas. En la Figura 4.30 se puede ver el contenido de dicha secci\u00f3n. Figura 4.30: Lista de cohortes disponibles. La primera de las cohortes est\u00e1 definida de acuerdo a la Figura 4.31. La finalidad de este conjunto es analizar los datos para conocer la cantidad de poblaci\u00f3n que, una vez existe un registro de estr\u00e9s, ha tomado alg\u00fan tipo de ansiol\u00edtico. Para ello, se usar\u00e1 el conjunto de conceptos 'Estres' como evento de entrada, para tener en cuenta a todas las personas que hayan sufrido estr\u00e9s en alg\u00fan momento del periodo de observaci\u00f3n. Como criterio de inclusi\u00f3n, se utiliza la toma de ansiol\u00edticos, el cual est\u00e1 definido como alg\u00fan registro del conjunto de conceptos 'Benzodiazepina' en exposici\u00f3n de medicamentos. Una vez definida la cohorte, es posible aplicarla a la base de datos, obteniendo el informe ilustrado en la Figura 4.32. En esta se puede ver que de las 837 personas que han sufrido estr\u00e9s en el conjunto de datos, solamente un 1,31 % ha tomado alg\u00fan ansiol\u00edtico. La siguiente cohorte recibe el nombre de 'Mujeres v\u00edctimas de violencia por par- te de su pareja'. En esta ocasi\u00f3n, el evento de entrada har\u00e1 uso del conjunto de conceptos 'V\u00edctima de violencia por parte de su pareja'. As\u00ed, se tendr\u00e1 en cuenta a cualquier persona de la base de datos que disponga de esta condici\u00f3n entre las condiciones observadas. Como criterio de inclusi\u00f3n se usa 'Ser mujer', aplicando un filtro seg\u00fan el g\u00e9nero del paciente, que deber\u00e1 ser 'Femenino'. La configuraci\u00f3n de esta cohorte se puede consultar en la Figura 4.33. Aplicando dicha cohorte a la base de datos, se genera el informe de la Figura 4.34, en el cual se puede ver que existen un total de 453 eventos que cumplen la condici\u00f3n de 'V\u00edctima de violencia por parte de su pareja'. De estos 453 eventos, un 52,32 % cumplen la regla de inclusi\u00f3n 'Ser mujer'. Por \u00faltimo, se definir\u00e1 la cohorte 'Pacientes que toman paracetamol tras ser diagnosticados de faringitis'. De acuerdo a la Figura 4.35, el evento de entrada har\u00e1 uso del conjunto de conceptos 'Faringits', y se incluir\u00e1n todas aquellas personas que hayan sido diagnosticadas con alg\u00fan tipo de faringitis y, adem\u00e1s, que su edad sea mayor o igual que 16 a\u00f1os. Como criterio de inclusi\u00f3n se ha 384.5. Creaci\u00f3n de cohortes Figura 4.31: Configuraci\u00f3n de la cohorte 'Pacientes con estr\u00e9s que toman ansio- l\u00edticos'. escogido la exposici\u00f3n al componente 'acetaminofen', para lo cual se utilizar\u00e1 el conjunto de conceptos 'Paracetamol' definido en la secci\u00f3n anterior. Una vez definida la cohorte y aplicada sobre la base de datos, es posible generar el informe representado en la Figura 4.36, el cual nos informa que de los 380 eventos que cumplen la condici\u00f3n del evento de entrada, 167 cumplen el criterio de inclusi\u00f3n. Dicho de otra forma, el 43,95 % de las personas que han sido diagnosticadas de faringitis aguda, han tomado alg\u00fan medicamento que cuenta con paracetamol entre sus componentes. 39Cap\u00edtulo 4. Aplicaci\u00f3n de OMOP en un supuesto Figura 4.32: Informe de la cohorte 'Pacientes con estr\u00e9s que toman ansiol\u00edticos'. Figura 4.33: Configuraci\u00f3n de la cohorte 'Mujeres v\u00edctimas de violencia por parte de su pareja'. 404.5. Creaci\u00f3n de cohortes Figura 4.34: Informe de la cohorte 'Mujeres v\u00edctimas de violencia por parte de su pareja'. Figura 4.35: Configuraci\u00f3n de la cohorte 'Pacientes que toman paracetamol tras ser diagnosticados de faringitis'. 41Cap\u00edtulo 4. Aplicaci\u00f3n de OMOP en un supuesto Figura 4.36: Informe de la cohorte 'Pacientes que toman paracetamol tras ser diagnosticados de faringitis'. 424.6. Caracterizaciones 4.6. Caracterizaciones La secci\u00f3n 'Characterizations' de Atlas permite caracterizar cohortes, lo que sig- nifica generar estad\u00edsticas descriptivas resumidas a nivel de cohortes partiendo de datos a nivel de persona. Al caracterizar, es posible distribuir la informaci\u00f3n en intervalos fijos de tiempo, como en a\u00f1os, meses, trimestres, etc. Adem\u00e1s, es posible generar estas estad\u00edsticas para varias cohortes a la vez. En esta secci\u00f3n se crear\u00e1 una caracterizaci\u00f3n para algunas de las cohortes de- finidos anteriormente. Para ello, se configurar\u00e1 de acuerdo a la Figura 4.37, en la que se puede ver que se han incluido las cohortes 'Mujeres v\u00edctima de violen- cia por parte de su pareja' y 'Pacientes con estr\u00e9s que toman ansiol\u00edticos'. En esta ocasi\u00f3n, se ejecutar\u00e1 un an\u00e1lisis de la edad de los pacientes para ambas cohortes. La Figura 4.38 ilustra el resultado del an\u00e1lisis para la cohorte 'Mujeres v\u00edctimas de violencia por parte de su pareja'. Los informes proporcionados son una tabla resumen con diversas estad\u00edsticas descriptivas, as\u00ed como un diagrama de cajas y bigotes que ilustran dichas estad\u00edsticas. Para este caso, el recuento de personas es de 237, las cuales cuentan con una edad media de 38,88 a\u00f1os y el m\u00ednimo de edad encontrado en dicha cohorte es de 18 a\u00f1os. Tambi\u00e9n se observa que hay un caso aislado en el que la persona tiene 97 a\u00f1os. En cuanto al an\u00e1lisis para la cohorte 'Pacientes con estr\u00e9s que toman ansiol\u00edti- cos', se puede ver en la Figura 4.39 que en esta cohorte cumplen las condiciones 11 personas, cuya edad media es de 20,91 a\u00f1os. Este an\u00e1lisis permite afirmar que las personas diagnosticadas con estr\u00e9s que toman alg\u00fan tipo de ansiol\u00edticos son personas con una edad baja, ya que se concentran entre los 18 y los 19 a\u00f1os. Figura 4.37: Configuraci\u00f3n de caracterizaci\u00f3n. 43Cap\u00edtulo 4. Aplicaci\u00f3n de OMOP en un supuesto Figura 4.38: Resultado del an\u00e1lisis de la caracterizaci\u00f3n para la cohorte 'Mujeres v\u00edctimas de violencia por parte de su pareja'. Figura 4.39: Resultado del an\u00e1lisis de la caracterizaci\u00f3n para la cohorte 'Pacien- tes con estr\u00e9s que toman ansiol\u00edticos'. 44Cap\u00edtulo 5 Conclusiones y l\u00edneas futuras En este trabajo se ha analizado y ejecutado OMOP, un modelo de datos de salud que pretende hacerle frente a las diferencias entre los datos cl\u00ednicos de distintas procedencias y presentarse como soluci\u00f3n para poder operar y analizar datos de salud de todo el mundo desde un mismo lugar. De acuerdo a la informaci\u00f3n recogida en este TFG, OMOP permite la estanda- rizaci\u00f3n de datos cl\u00ednicos, lo cual facilita la interoperabilidad y el intercambio de informaci\u00f3n entre sistemas y organizaciones con distintas caracter\u00edsticas y procedimientos de recogida de datos. Esto es indispensable para la investiga- ci\u00f3n y monitorizaci\u00f3n de la eficacia de medicamentos, procedimientos m\u00e9dicos, tratamientos, etc. Asimismo, OMOP permite llevar a cabo an\u00e1lisis comparativos entre diferentes conjuntos de personas que comparten caracter\u00edsticas (haciendo uso de cohor- tes), y entre registros de distintas bases de datos, lo que ayuda a observar m\u00e1s ampliamente los resultados y generalizarlos para una mayor parte de la pobla- ci\u00f3n. Otra de las caracter\u00edsticas m\u00e1s importantes de OMOP es que permite identificar patrones y tendencias en los datos de salud, lo cual puede ayudar a detectar eventos con antelaci\u00f3n o a identificar factores de riesgo para una poblaci\u00f3n de- terminada. Por todo ello, este modelo de datos es un gran candidato a convertirse en un estandar gracias a la mejora continua con ayuda de la comunidad cient\u00edfica. En un futuro, OMOP podr\u00eda utilizar conjuntos de datos no estructurados, como im\u00e1genes (radiograf\u00edas, ecograf\u00edas, etc), para ampliar su alcance. Asimismo, para impulsar el crecimiento de OMOP, ser\u00eda interesante investigar su impacto en un contexto real tom\u00e1ndolo como una herramienta para validar diagnosis cl\u00ednicas realizadas por personal sanitario cualificado. 45Bibliograf\u00eda [1] Definici\u00f3n de 'salud'. [Online]. Available: https://dle.rae.es/ salud [2] A. Legal. (2023) Los datos de salud como datos especialmente protegidos. [Online]. Available: https://www.lenguajejuridico.com/ diccionario-juridico/derecho-digital/proteccion-de-datos-personales/ datos-de-salud/ [3] A. Parra. (2023) y c\u00f3mo realizarla? [Online]. Available: https://www.questionpro.com/blog/es/ recoleccion-de-datos-para-investigacion/ //tfig.unece.org/SP/contents/data-harmonization.htm [5] Corposuite. (2023) La importancia del an\u00c1lisis de datos en la medicina. [Online]. Available: https://www.master-data-scientist.com/ importancia-analisis-datos-en-medicina/ [8] V. Ll\u00e1cer. (2021) Big Un desaf\u00edo sin precedentes. [Online]. Available: https://economia3.com/big-data-sector-sanitario/ [9] J. M. Martell. (2020) La importancia de interpre- tar bien los datos y modelos de la covid-19. [Online]. Available: https://elpais.com/ciencia/2020-04-06/ la-importancia-de-interpretar-bien-los-datos-y-modelos-de-la-covid-19. html [10] R. databases. [On- line]. Available: https://www.researchgate.net/publication/298332910_ de lake. [Online]. Available: https://www.ibm.com/cloud/blog/ and Open Problems in 2021. [17] Y. Available: https://www.computerweekly.com/es/consejo/ Que-son-las-bases-de-datos-federadas [Online]. Available: https: //www.ibm.com/docs/es/db2/11.1?topic=systems-federated-database [19] M. R. Mart\u00ednez. (1999) Lenguaje una multibase de datos. [Online]. Available: http://catarina.udlap.mx/u_dl_a/tales/documentos/ msp/romero_m_m/ [20] [Online]. Available: https://www.linkedin.com/pulse/modelo-de-datos-can%C3% B3nico-carlos-ignacio-ag%C3%BCero/?originalSubdomain=es [21] P. E. Y. C. D. L. U. EUROPEA. (2016) Reglamento (ue) 2016/679 del parlamento europeo y del consejo de 27 de abril de 2016. [Online]. Available: https://www.boe.es/doue/2016/119/L00001-00088.pdf [22] M. G. Alsina. (2018) Protecci\u00f3n [24] E. A. C. Society. (2019) Ley de transferencia y responsabilidad de seguro m\u00e9dico (hipaa) de 1996. [Online]. Available: https://www. cancer.org/es/tratamiento/como-buscar-y-pagar-por-el-tratamiento/ leyes-de-los-seguros-medicos/que-es-hipaa.html https://pubmed.ncbi.nlm.nih.gov/19836194/ [28] Available: https: //datos.gob.es/es/blog/salud-y-datos-abiertos [30] J. C. S. Fernando Su\u00e1rez-Obando. m\u00e9dica: generalidades y aplicaciones. Available: https://www.elsevier.es/ es-revista-revista-colombiana-psiquiatria-379-pdf-S0034745013700234 [31] P. P. G. Selene Indarte. (2011) Est\u00e1ndares e interoperabilidad en salud electr\u00f3nica: Requisitos para una gesti\u00f3n sanitaria efectiva y eficiente. [Online]. Available: https://www.cepal.org/sites/default/files/ publication/files/3938/S2011120_es.pdf [32] O. P. de la Salud. (2016) Revisi\u00f3n de est\u00e1ndares de interoperabilidad para la esalud en latinoam\u00e9rica y el caribe. [Online]. Available: https://www. cepal.org/sites/default/files/publication/files/3938/S2011120_es.pdf - UPM, C=ES ETS Ingenieros Informaticos, O=ETS Ingenieros Informaticos - UPM, "}