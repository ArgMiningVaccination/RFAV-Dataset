{"title": "Modeling COVID-19 Vaccine Adverse Effects with a Visualized Knowledge Graph Database", "author": "Zhiyuan Liu; Ximing Gao; Chenyu Li; Liu; Zhiyuan; Gao; Ximing; Li; Chenyu", "url": "https://www.mdpi.com/2227-9032/10/8/1419", "hostname": "mdpi.com", "description": "In this study, we utilized ontology and machine learning methods to analyze the current results on vaccine adverse events. With the VAERS (Vaccine Adverse Event Reporting System) Database, the side effects of COVID-19 vaccines are summarized, and a relational/graph database was implemented for further applications and analysis. The adverse effects of COVID-19 vaccines up to March 2022 were utilized in the study. With the built network of the adverse effects of COVID-19 vaccines, the API can help provide a visualized interface for patients, healthcare providers and healthcare officers to quickly find the information of a certain patient and the potential relationships of side effects of a certain vaccine. In the meantime, the model was further applied to predict the key feature symptoms that contribute to hospitalization and treatment following receipt of a COVID-19 vaccine and the performance was evaluated with a confusion matrix method. Overall, our study built a user-friendly visualized interface of the side effects of vaccines and provided insight on potential adverse effects with ontology and machine learning approaches. The interface and methods can be expanded to all FDA (Food and Drug Administration)-approved vaccines.", "sitename": "MDPI", "date": "2022-07-29", "cleaned_text": "Modeling COVID-19 Vaccine Adverse Effects with a Visualized Knowledge Graph Database [https://doi.org/10.3390/healthcare10081419](https://doi.org/10.3390/healthcare10081419) [Coronaviruses (CoV) and COVID-19 Pandemic](/journal/healthcare/sections/Coronaviruses_COVID-19_pandemic)) Abstract: 1. Introduction [1](#B1-healthcare-10-01419)]. In December 2020, the FDA issued the Emergency Use Authorization EUA for two mRNA-based COVID-19 vaccines (BNT162b2 from Pfizer-BioNTech and mRNA-1273 from Moderna) as 2-dose series and in February 2021, the FDA issued another EUA for one viral-based COVID-19 vaccine (JNJ-78436735 from Johnson & Johnson). Since then, the local and systemic adverse reactions after receipt of these COVID-19 vaccines have been summarized and studied across the world. WHO revised the regulation for safety and effectiveness in May 2022 to help healthcare professionals in the explanation of the oversight of COVID-19 vaccines [ [2](#B2-healthcare-10-01419)]. Across the European Union (EU), a suitable pharmacovigilance system has to be in place to gather and report data on the adverse reactions during the COVID-19 vaccine campaigns [ [3](#B3-healthcare-10-01419), [4](#B4-healthcare-10-01419), [5](#B5-healthcare-10-01419)]. In the United States, VAERS functions as the reporting and monitoring system to summarize the adverse events of COVID-19 vaccines. Until July 2022 in the US, 599 million doses of COVID-19 vaccines were administered. Though COVID-19 vaccines have been proven effective in preventing complications of COVID-19, including pneumonia, acute respiratory distress syndrome (ARDS), multi-organ failure, septic shock and death, 12,775 preliminary reports of death (0.0023%) among people who received a COVID-19 vaccine were reported at VAERS [ [6](#B6-healthcare-10-01419)]. Adverse effects after COVID-19 vaccination include but are not limited to fatigue, muscle pain, headache, chills, injection site reaction, joint pain, fever, sore throat and allergic reaction. Allergic reaction or anaphylaxis was reported in 0.2% of participants after full vaccination [ [7](#B7-healthcare-10-01419)]. Though serious adverse effects are rare, the general adverse effects cannot be overseen [ [8](#B8-healthcare-10-01419), [9](#B9-healthcare-10-01419)]. This indicates continued monitoring and assessment of adverse effects of COVID-19 vaccines are required to further improve our current understanding of safety and decision-making in the implementation of vaccination. [10](#B10-healthcare-10-01419), [11](#B11-healthcare-10-01419)]. Gonzalez-Dia's group has provided a machine learning method for data processing, feature selection, algorithm selection and testing for the prediction of vaccine-induced immunity [ [12](#B12-healthcare-10-01419)]. The other group conducted the classification of post-COVID-19 vaccination reactogenicity with decision tree and random forest methods to find the features that lead to hospitalization and patient death [ [13](#B13-healthcare-10-01419)]. One previous approach utilized an ontology method to support operable COVID-19 context for automatic governance of bioethics processes [ [14](#B14-healthcare-10-01419)]. While efforts are made on the prediction of COVID-19 vaccine side effects, a visualized interphase is still largely required for healthcare providers, patients, and healthcare officers to easily access the information. Therefore, our goal is to utilize ontology and machine learning methods to analyze COVID-19 vaccine adverse events and build a visualized system to provide insight into the adverse events data and the analyzed results. [15](#B15-healthcare-10-01419)], we used graph database neo4j [ [16](#B16-healthcare-10-01419)] to store the processed data for our system, as it is open-sourced and widely used in software with complex relationships. Further, no security concerns exist given patient data is de-identified in VAERS. Ontology was utilized to set the nodes and relations in the network with neo4j software [ [16](#B16-healthcare-10-01419)]. In the second part of this study, we demonstrated several applications to conduct analysis with our proposed system, including querying, finding similarities and classification. Some previous work has focused on leveraging machine learning models on VAERS data to predict death risk [ [17](#B17-healthcare-10-01419)]. We also utilized this ontology network and the information on the adverse effects to build a machine learning model for the prediction of key feature symptoms that lead to hospitalization and treatments after COVID-19 vaccination. A node2vec method [ [18](#B18-healthcare-10-01419)] was utilized to predict the most predictive symptoms related to hospitalization outcomes of patients, and the model was evaluated with a confusion matrix method. The probability of a patient's need for hospitalization was provided by the final model. 2. Materials and Methods 2.1. Dataset [1](#B1-healthcare-10-01419)], which is an open-source national reporting system for safety problems of licensed vaccines ( [Supplementary Table S1](#app1-healthcare-10-01419)). The total vaccination data in the US was extracted from VAERS from 2021-2022 (up to March 2022), and the data was filtered with adverse events associated with vaccinations (majority of the data are COVID-19 vaccines Pfizer-BioNTech, Moderna, Janssen since the pandemic). The unique VAERS ID was used per patient to identify multiple events of a single person. The variables, including age, sex, vaccine manufacture, current illness, disability status, medication usage, allergic history, pre-existing conditions, etc., were extracted and encoded to be utilized in the knowledge graph. [Supplementary Tables S2 and S3](#app1-healthcare-10-01419). 2.2. System Overview [Figure 1](#healthcare-10-01419-f001): knowledge graph design, knowledge graph creation, machine learning and application components. 2.3. Data Preprocessing [19](#B19-healthcare-10-01419)] package model to link the texts to entities. In this part, RxNorm and Unified Medical Language System (UMLS) ontologies were utilized to be linked with NLP methods. The information from the OTHER_MEDS field was further extracted using the RxNorm linker with UMLS CUI. Historical condition relations are extracted using the UMLS linker from CUR_ILL, HISTORY and SYMPTOM_TEXT with restrictions to only keep disease/symptom entities because of the noisy text information. The disease/symptom entities are determined by the semantic type TUI T047 in UMLS. The allergy histories are also extracted from ALLERGIES fields using the UMLS linker. 2.4. Knowledge Graph [Supplementary Table S4](#app1-healthcare-10-01419). [Supplementary Table S4](#app1-healthcare-10-01419), we also store the additional preprocessed features in the knowledge graph as properties. For example, \"feature_STATE\" includes \"STATE\" features of patients with the replacement of NA instances to \"UNKNOWN\", so the nodes without a \"STATE\" property will have \"feature_STATE\" \"UNKNOWN\". These features are used for downstream applications, for example, building machine learning models, and they are dynamic features, so they can be updated frequently based on the use cases. 2.5. Application [Table 1](#healthcare-10-01419-t001)). 3. Results 3.1. Preprocessing of the Data to Generate Knowledge Graph [Table 2](#healthcare-10-01419-t002). This is not the final representation in the graph since one patient may have multiple side effects records, but will give some insights into the source data distribution after preprocessing. [Table 3](#healthcare-10-01419-t003)). From the results, the counts may also partially correlate with the number of the vaccination, as Pfizer and Moderna's side effects reports are higher than Janssen's, while in recent reports, more adverse effects are found in the Janssen COVID-19 vaccine. [Table 4](#healthcare-10-01419-t004), the results also pointed to the top three COVID-19 manufacturers, which indicates a high number of COVID-19 vaccinations, while the study and analysis of these side effects are largely required. [Table 5](#healthcare-10-01419-t005), [Table 6](#healthcare-10-01419-t006), [Table 7](#healthcare-10-01419-t007)and [Table headache, fatigue, pyrexia, etc. ( [Table 5](#healthcare-10-01419-t005)). The treatments are also summarized in [Table 6](#healthcare-10-01419-t006), which indicates the top common drugs used to treat adverse effects. In the meantime, we also analyzed the most common diseases and allergies in the reports ( [Table 7](#healthcare-10-01419-t007)and [Table 8](#healthcare-10-01419-t008)). COVID-19 is the second highest disease, which is slightly less than hypertensive disease. This indicates the effectiveness of COVID-19 vaccines and side effects should be tightly monitored. 3.2. Creation of the GraphDB with Dynamic Interface [Figure 2](#healthcare-10-01419-f002)A, four types of node labels are built in the GraphDB (patient, symptom, UMLS and vaccine). Each patient and vaccine is set as an individual node. The reports are extracted, and the information is built into the graph as edges, which includes allergic_to, consine_similarity, had_condition, has_symptom, took_vaccine, used_drug, etc. The property keys are set based on the patient information, vaccination information, hospitalization record, symptoms and treatment information in the dataset. This includes age_yrs, CUI, died, diable, L_threat, numdays, onset_date, recvdate, sex, state for each patient node, symptom and symptomversion for each Symptom node, vaers_id, vax_date, vax_type, vax_manu and vax_name, etc. for each Vaccine node. All the nodes are assigned a name property as the name to be displayed in the neo4j interface. For Patient Nodes, their names are the patient ids, and for Symptom and Vaccine Nodes, their name properties are the same with symptom and vax_name properties ( [Figure 2](#healthcare-10-01419-f002)B). Moreover, we also kept the labels and features as dynamic properties for machine learning modeling, including binary label class_HOSPITAL, node embedding embeddingNode2vec, and processed features, such as one hot encoded feature_SEX, feature_STATE, etc. [Figure 3](#healthcare-10-01419-f003), the interface is user-friendly, and the record of each patient and each vaccine can be easily visualized. In this example, it shows the subgraph of Patient 1117806 (Patient node in the center of the graph), who has been reported to have taken PFIZER\\BIONTECH COVID-19 Vaccine (Vaccine node in purple) and developed Symptoms, including Blood Pressure Increased, Flushing, Nausea, Dizziness and Pain in Extremity (Blue Symptom nodes with HAS_SYMPTOM edges to that patient). In the meantime, the connections and correlations can be directly monitored with the neo4j database. This improves the version of the current dataset on VAERS and other databases. Compared with the traditional datasets, with this approach, all the adverse effects records of vaccines can be imported into a dynamic visualized graph database, and the relationships of each record can be directly monitored. 3.3. Application of the GraphDB for Prediction 3.3.1. Querying 3.3.2. Similarity [Table COVID-19 vaccines. 3.3.3. Classification [Table 15](#healthcare-10-01419-t015). 3.4. Evaluation of the Prediction Model [Figure 4](#healthcare-10-01419-f004)). The prediction of the testing group was performed with the trained model with the training batch, and the results were compared with the real outputs of the testing batch. With this approach, the f1 score was utilized to present the performance of the evaluation since the f1 score can take both the precision and recall into consideration and, in this case, both precision and recall are important. From the results, our model on the prediction of hospitalization with symptoms has an f1 score of 0.67 in the testing group for positive predictions. The f1 scores of Eysha Saad's death risk prediction models on VAERS origin data are between 0.64 and 0.7 using CNN, LSTM and BiLSTM [ [17](#B17-healthcare-10-01419)]. Though our model predicts the hospitalization task, the simple XGBoost model we built can reach a similar level of accuracy. This indicates that the prediction model using the knowledge graph built can be useful in the analysis of the potential hospitalization and death rate of the patient after receipt of the COVID-19 vaccines. 4. Discussion [7](#B7-healthcare-10-01419)]. While in our study, we proposed a knowledge graph-based system to analyze COVID-19 vaccine side effects. With the user-friendly interface, the users can visualize the side effects and data through the built-in interface. [20](#B20-healthcare-10-01419), [21](#B21-healthcare-10-01419)]. [22](#B22-healthcare-10-01419)]. This indicates the potential of machine learning models in supporting COVID-19 treatments in the future; for example, in this project, due to limited resources to get suggestions from healthcare experts. As a proposal for the evaluation step, it should be more precise than the precision, recall and f1 score are evaluated with the prediction of the model and the doctor's suggestions for those patients. [23](#B23-healthcare-10-01419), [24](#B24-healthcare-10-01419)]. The public acceptability rate was reported only at 37.4% in Jordan [ [23](#B23-healthcare-10-01419)]. With the machine learning model built, a better understanding of the safety of vaccines could be provided; further prediction can be performed with the chance of patients getting adverse effects after taking the vaccine, and provide the corresponding recommendations to the patients or the parents on whether themselves or their children should take the vaccine or not. Supplementary Materials [https://www.mdpi.com/article/10.3390/healthcare10081419/s1](https://www.mdpi.com/article/10.3390/healthcare10081419/s1), Table S1: S4: Nodes and edges abstraction. Author Contributions Funding Informed Consent Statement Data Availability Statement Acknowledgments Conflicts of Interest References - Vaccine Adverse Event Reporting System (VAERS). Available online: [https://vaers.hhs.gov/](https://vaers.hhs.gov/)(accessed on 21 June 2022). - Statement for Healthcare Professionals: How COVID-19 Vaccines Are Regulated for Safety and Effectiveness (Revised March 2022). Available online: [https://www.who.int/news/item/17-05-2022-statement-for-healthcare-professionals-how-covid-19-vaccines-are-regulated-for-safety-and-effectiveness](https://www.who.int/news/item/17-05-2022-statement-for-healthcare-professionals-how-covid-19-vaccines-are-regulated-for-safety-and-effectiveness)(accessed on 19 July 2022). - Safety of COVID-19 Vaccines|European Medicines Agency. Available online: [https://www.ema.europa.eu/en/human-regulatory/overview/public-health-threats/coronavirus-disease-covid-19/treatments-vaccines/vaccines-covid-19/safety-covid-19-vaccines](https://www.ema.europa.eu/en/human-regulatory/overview/public-health-threats/coronavirus-disease-covid-19/treatments-vaccines/vaccines-covid-19/safety-covid-19-vaccines)(accessed on 20 July 2022). - EMA. AstraZeneca's COVID-19 Vaccine: EMA Finds Possible Link to Very Rare Cases of Unusual Blood Clots with Low Platelets. Eur. Med. Agency. 6 April 2021. Available online: [https://www.ema.europa.eu/en/news/astrazenecas-covid-19-vaccine-ema-finds-possible-link-very-rare-cases-unusual-blood-clots-low-blood](https://www.ema.europa.eu/en/news/astrazenecas-covid-19-vaccine-ema-finds-possible-link-very-rare-cases-unusual-blood-clots-low-blood)(accessed on 20 July 2022). - Suspected Adverse Reactions to COVID-19 Vaccination and the Safety of Substances of Human Origin. Eur. Cent. Dis. Prev. Control. 3 June 2021. Available online: [https://www.ecdc.europa.eu/en/publications-data/suspected-adverse-reactions-covid-19-vaccination-and-safety-substances-human](https://www.ecdc.europa.eu/en/publications-data/suspected-adverse-reactions-covid-19-vaccination-and-safety-substances-human)(accessed on 20 July 2022). - CDC. CDC Works 24/7. In Centers for Disease Control and Prevention; 21 June 2022. Available online: [https://www.cdc.gov/index.htm](https://www.cdc.gov/index.htm)(accessed on Analysis of COVID-19 Vaccine Type and Adverse Effects following Vaccination. JAMA Netw. Open 2021, 4, the BNT162b2 mRNA Covid-19 Vaccine in a Nationwide Setting. N. Engl. J. Med. 2021, 385, 1078-1090. Events Reported from COVID-19 Vaccine Trials: A Systematic Review. Indian J. Clin. al. Vaccine side-effects and SARS-CoV-2 infection after vaccination in users of the COVID Symptom Study app in the UK: A prospective observational study. Lancet Infect. Dis. 2021, 21, 939-949. [ Immunother. 2019, 16, 269-276. [ [Google Scholar](https://scholar.google.com/scholar_lookup?title=Methods+for+predicting+vaccine+immunogenicity+and+reactogenicity&author=Gonzalez-Dias,+P.&author=Lee,+E.K.&author=Sorgi,+S.&author=De+Lima,+D.S.&author=Urbanski,+A.H.&author=Silveira,+E.&author=Nakaya,+H.I.&publication_year=2019&journal=Hum.+Vaccines+Immunother.&volume=16&pages=269%E2%80%93276&doi=10.1080/21645515.2019.1697110&pmid=31869262)] [ [CrossRef](https://doi.org/10.1080/21645515.2019.1697110)] [ [PubMed](http://www.ncbi.nlm.nih.gov/pubmed/31869262)] - Adverse Effects of COVID-19 Vaccination: Machine Learning and Statistical Approach to Identify and Classify Incidences of Morbidity and Post-Vaccination Reactogenicity|medRxiv. Available online: [https://www.medrxiv.org/content/10.1101/2021.04.16.21255618v1](https://www.medrxiv.org/content/10.1101/2021.04.16.21255618v1)(accessed on 21 June 2022). - iOntoBioethics: A Framework for the Agile Development of Bioethics Ontologies in Pandemics, Applied to COVID-19-PMC. G.E. Data in the time of COVID-19: A general methodology to select and secure a NoSQL DBMS for medical data. PeerJ Comput. Sci. [Google [ [PubMed](http://www.ncbi.nlm.nih.gov/pubmed/33816948)] Data Platform-The Leader in Graph Databases. Neo4j Graph Data Platform. Available online: [https://neo4j.com/](https://neo4j.com/)(accessed on 21 Novel extreme regression-voting classifier to predict death risk in vaccinated people using VAERS data. PLoS ONE 2022, 17, e0270327. [ Grover, A.; Leskovec, J. node2vec: Scalable Feature Learning for Networks. In Proceedings of the 22nd ACM SIGKDD International Conference on Knowledge Discovery and Data Mining, San Francisco, CA, USA, 13 August 2016; pp. ScispaCy: Fast and Robust Models for Biomedical Natural Language Processing. arXiv 2019, arXiv:1902.07669. [ [Google Scholar](https://scholar.google.com/scholar_lookup?title=ScispaCy:+Fast+and+Robust+Models+for+Biomedical+Natural+Language+Processing&author=Neumann,+M.&author=King,+D.&author=Beltagy,+I.&author=Ammar,+W.&publication_year=2019&journal=arXiv)] - Singer, U.; Guy, I.; Radinsky, K. Node over Temporal Graphs. arXiv 2019, arXiv:1903.08889. [ [Google Scholar](https://scholar.google.com/scholar_lookup?title=Node+Embedding+over+Temporal+Graphs&author=Singer,+U.&author=Guy,+I.&author=Radinsky,+K.&publication_year=2019&journal=arXiv)] - Y.; Zhang, KG2Vec: node2vec-based model [Google Ang, A.S.Y.; Ali, N.M.; Ang, L.M.; Omar, A. Incidence of adverse reaction of drugs used in COVID-19 management: A retrospective, observational study. J. Pharm. Policy Pract. 2021, 14, 84. vaccines: A cross-sectional study from Jordan. PLoS ONE 2021, 16, e0250555. [ Shen, S.C.; Dubey, V. Addressing vaccine hesitancy: Clinical guidance for primary care physicians working with parents. Can. Fam. Physician Med. Fam. Can. with regard to jurisdictional claims in published maps and institutional affiliations. \u00a9 2022 by the authors. Licensee MDPI, Basel, Switzerland. This article is an open access article distributed under the terms and conditions of the Creative Commons Attribution (CC BY) license ( [https://creativecommons.org/licenses/by/4.0/](https://creativecommons.org/licenses/by/4.0/)). Share and Cite Liu, Z.; Gao, X.; Li, C. Modeling COVID-19 Vaccine Adverse Effects with a Visualized Knowledge Graph Database. Healthcare 2022, 10, 1419. https://doi.org/10.3390/healthcare10081419 Liu Z, Gao X, Li C. Modeling COVID-19 Vaccine Adverse Effects with a Visualized Knowledge Graph Database. Healthcare. 2022; 10(8):1419. https://doi.org/10.3390/healthcare10081419Chicago/Turabian Style Liu, Zhiyuan, Ximing Gao, and Chenyu Li. 2022. \"Modeling COVID-19 Vaccine Adverse Effects with a Visualized Knowledge Graph Database\" Healthcare 10, no. 8: 1419. https://doi.org/10.3390/healthcare10081419 [here](https://www.mdpi.com/about/announcements/784). Article Metrics Article Access StatisticsFor more "}