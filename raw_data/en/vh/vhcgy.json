{"title": "PDF", "author": "PDF", "url": "https://scdhec.gov/sites/default/files/media/document/WebIZ%20HL7%20v2_5_1%20Implementation%20Guide%20v5_1%20v19.2%2B%20Release_0.pdf", "hostname": "PDF", "description": "PDF", "sitename": "PDF", "date": "PDF", "cleaned_text": "2.5.1 Release 1.5 Local Implementation Guide Document Version 5.1 July 2019 Envision Technology Partners, Inc. Page 2 Table of Contents Change Log ................................ ................................ Immunization History Details ................................ ................................ .............................. 13 Actors, Goals, and Messaging Message Acknowledgement Segment MSH - Message Header Segment ................................ ................................ ................................ ........... 34 Envision Technology Partners, Inc. Page 3 NK1 - Next of Kin Segment ................................ ................................ ................................ Information VXU - Send Immunization History ................................ ................................ ........ 189 Business the Appropriate Audit Information ................................ ................................ ................ 200 ACK - Acknowledging a for Information ................................ ................................ .......................... 206 ADT - Admission Discharge Treatment ................................ ................................ ................................ 210 Envision Technology Partners, Inc. Page ................................ ................................ ................................ ................................ ............. ................................ ........... ................................ ................................ ............. User Defined Table 0063 - Relationship ................................ ................................ ............................... 213 User Defined ................................ ................................ ............................ 214 User Vaccines (Code = MVX) 221 Administered (Code=CVX) ................................ ................................ ...................... ................................ ........................ 224 User -Defined Table 0441 - Immunization Information Status ................................ ............................. - Observation Identifiers (LOINC) ................................ ................................ ....... 225 Name - Immunization Funding Source ................................ ................................ ................. 227 Value Set Name - Vaccination Contraindications -see pg 239 from CDC Implementation Guide ...... 228 Value Set Name - Vaccination Reaction -see pg 240 from CDC Implementation Guide ..................... VIS Bar Code ................................ ................................ ................ 233 VIS ................................ ................................ .............................. 233 CVX ................................ ................................ ............................... 234 Envision Technology Partners, Inc. Page 5 VIS for Multi Antigen Vaccine by VIS Bar Code ................................ ................................ ................. 234 evaluated 236 For ................................ ................................ ........ 236 Envision Technology Partners, Inc. Page 6 Change Log The following table captures the progression of this document over time. Version Date Description Author 1.0 06/26/2012 Initial version of document Ray Seggelke 1.1 3/11/2013 Updates made during implementation and to match 13.2 upgrade release. Nichole Lambrecht 1.2 5/14/2013 Updates made during implementation and to match 13.5 upgrade release. Nichole Lambrecht 1.3 11/4/2013 Updates made during implementation to match 13.8 upgrade release. Nichole Lambrecht 1.4 3/13/2014 Updates made to reflect updates since the 13.8 release. Claire Murchie 1.5 4/18/2014 Clarify text for ORC3, ORC10 Claire Murchie 1.6 6/02/2014 More corrections to clarify intent and reflect updates to match the 13.8.3 release Claire Murchie 1.7 7/24/2014 Updates made to reflect the v14.4 release Claire Murchie 1.8 9/18/2014 Updates made to reflect the v14.8 release Nichole Lambrecht, Kevin Snow, Claire Murchie 1.9 10/24/2014 Updates made after IG review with Rob Savage. Kevin Snow 2.0 12/10/2014 Updates made to reflect the v14.11 release Claire Murchie 2.1 02/24/2015 Updates to new company standard Nicole Bumgardner 2.2 07/09/2015 Updates to LOINC table Nicole Bumgardner 3.0 09/23/2015 Updates made to reflect the v15.7 release (updates are highlighted) Luc\u00eda Lapaz 3.1 1/13/2016 Update the length of MSH -10 field and added New Mexico to the document Claire Murchie 3.2 2/15/2016 Added an example on how to delete a vaccination from a patient Claire Murchie 3.3 4/8/201 6 Typo correction Claire Murchie 3.4 06/14/2016 Updates to support the revised HL7 engine in the v16.4 release which includes more of the Release 1.5 components, support for NDCs, revised error handling and Z SA segments , custom ACK codes , MU3 support Claire Murchie 3.5 6/30/2016 Added the values from the CDC addendum to the Funding Source and Financial Class tables in the Apendi x Claire Murchie 3.6 8/8/2016 Updated acceptable Contraindication codes Lapaz 3.7 9/25/2016 Fixed typos Claire Murchie 12/2/2016 Updated usage for PID -1, MSH -21, RXA - 10 Luc\u00eda Lapaz Envision Technology Partners, Inc. Page 7 3.9 3/31/2017 Updates since December 2016 Claire Murchie 4.0 8/22/2017 Updates since the 3.9 version of this document highlighted in green Claire Murchie 4.1 05/29/2018 Updates to include Connecticut Claire Murchie 5.1 07/10/2019 Updates from 18.7 to current Hannah Ensley Envision Technology Partners, Inc. Page 8 Definitions This guide is leveraged by the following jurisdictions. Throughout the guide, there are references to the following abbreviations and associations. Jurisdictions Arkansas Commonwealth of the Northern Mariana Islands Connecticut Delaware Guam Kansas Kentucky Missouri Philadelphia Nevada New Mexico South Carolina Name of the Immunization Information System Arkansas - AR WebIZ Commonwealth of the Northern Mariana Islands - CNMI WebIZ Connecticut - CT WiZ Delaware - DelVAX Guam GU WebIZ Kansas - KS WebIZ Kentucky - KYIR Missouri - ShowMeVax Philadelphia - KIDS Plus Nevada - NV WebIZ New Mexico - NMSIIS South Carolina - SIMO N Two -Character Jurisdiction IDs Arkansas - AR Commonwealth of the Northern Mariana Islands - MP Connecticut - CT Delaware - DE Guam - GU Kansas - KS Kentucky - KY Missouri - MO Philadelphia - PH Nevada - NV New Mexico - NM South Carolina - SC Immunization Information System Facility Codes Arkansas - AR0000 Envision Technology Partners, Inc. Page 9 Commonwealth of the Northern Mariana Islands - MP0000 Connecticut - CT0000 Delaware - DE0000 Guam - GU0000 Kansas - KS0000 Kentucky - KY0000 Missouri - MODHSS Philadelphia - PH0000 Nevada - NV0000 New Mexico - NMSIIS South Carolina - SIMON DISCLAIMER: The CDC has published a template document for a Local Implementation Guide. This document is heavily based on the CDC's Local Implementation Guide for HL7 2.5.1 Immunization Messaging, version 1. 5. Much of the format and conte nt of this document is based on the material found in the CDC's document including updates from the CDC Release 1.5 release. Envision Technology Partners, Inc. Page 10 Overview Introduction There are numerous providers acros s the jurisdiction served by the Immunization Information System (IIS) who administer immunizations to patients and desire to report this information to the IIS. In some cases, the provider may be a direct entry provider and will use the standard user inte rface to interact with the system. In other cases, these providers already have full -featured electronic systems (e.g., Electronic Medical Record systems, Clinic Management Systems, etc.), and they desire to exchange electronic messages with the IIS. In order for different health information systems to exchange data, the structure and content of the data to be exchanged must be standardized. To this end, the Centers for Disease Control (CDC) has completed a series of efforts related to defining a standard approach for exchanging immunization - related data. Three controlling documents define how the Immunization Information System HL7 Interface will behave. Figure 1 shows the hierarchy of documents, each refining and constraining the HL7 Standard. Figure 1: HL7 Controlling Document Hierarchy The first document is the HL7 2.5.1 standard developed by Health Level Seven, a not -for-profit ANSI - accredited standards developing organization. This standard defines the structure and content of immunization messages, but leaves many specific implementat ion details undecided. Beneficial information on HL7 and a copy of the HL7 message standard can be obtained from the Health Level Seven website at http://www.hl7.org . Envision Technology Partners, Inc. Page 11 The second document is the CDC's HL7 2.5.1 Implementa tion Guide for Immunization Messaging, Release 1.5 (CDC IG). This guide gives specific instructions regarding how to report to immunization information systems, but still leaves some implementation decisions to each state IIS. This guide and other technica l information can be obtained from the CDC's website at http://www.cdc.gov/vaccines/programs/iis/technical -guidance/hl7.html . The third document is this document. It captu res the applicable implementation decisions and defines what the Immunization Information System will and will not accept in an HL7 message. This document has been written in accordance with the standards set in the first two documents. It highlights diffe rences from the CDC IG by adding additional columns to the tables. In cases where this guide differs from the CDC IG, this guide will provide both the CDC IG column followed the local usage specification. This should prove highly useful to implementers of external systems by allowing them to accurately compare the CDC IG with this local implementation guide. Note: This document includes tables and code sets values for a select set of fields. The complete set of standard code Value Sets are maintained in the PHIN VADS for use in Public Health. The main purpose of PHIN VADS is to distribute vocabulary subsets needed in Public Health. The latest version of value sets referenced in this Implementation Guide can be obtained from PHIN VADS at ( http://phinvads.cdc.gov ). note that the PHIN VADS value sets are the source of truth for use in Meaningful Use testing. Please refer to PHIN VADS for any Value Set defined in the tables below that begin with HL70000 through HL79999. Intended Audience This Local IG is intended for technical groups from EMR (Electronic Medical Record) systems, EHR (Electronic Health Record) system s, other state -level systems, etc. , that will exchange HL7 message s with WebIZ. The reader of this Local IG should have a solid HL7 foundation and be fluent with the contents of the CDC IG. Chapters 2 and 3 of the CDC IG provide HL7 foundational concepts and set the stage for this Local IG . The goal of this Local IG is to provide an unambiguous specification for creating and interpreting messages. Scope It is helpful to view the IIS as a repository of information. The typical approach is for external systems to use the HL7 interface to submit requests to the Immunization Information System. The HL7 interface supports the following scenarios/interactions between the IIS and an external system: The external system submits a query message to the IIS. The IIS will process the re quest and respond as appropriate, including: o Returning the relevant demographic information and immunization history for the matching individual. The results will also include any vaccine recommendations for the patient (based on their current history) and any adverse reaction data. o Returning a list of patient records that match the incoming query (along with additional demographic data to allow the requesting system to submit a more detailed query) o Returning an acknowledgement of the query if no matching p atient records were found o Returning a warning/error that occurred during the messaging process The external system submits an update message to the IIS. The IIS will process the message and respond as appropriate, returning an acknowledgement of the incomi ng message along with any errors that occurred during the messaging process. Envision Technology Partners, Inc. Page 12 An end user submits a batch file containing multiple update messages. The IIS will process this file during non -peak hours and will prepare a results file containing the acknowled gement information (including any errors) for each message in the batch file. An end user submits a request for the IIS to generate a file containing the complete demographic information and immunization history for all patients matching the incoming reque st. The IIS will process this request during non -peak hours and prepares the batch file containing the appropriate messages. At this time, the Immunization Information System (IIS) will not initiate the exchange of information with another system via HL7 messaging. It will only respond to requests submitted by external systems. Organization and Flow This Local IG mirrors the organization and flow of the CDC IG. This chapter of this guide defines the high - level use cases supported by the Immunization Inform ation System (IIS) . The subsequent chapters define how the Immunization Information System (IIS) implements those use cases. Finally, this guide has appendices for the code tables and example messages. It is important to note this guide adheres to the CDC IG on several key aspects including: Data type specifications from CDC IG have not been redefined and usage has not been changed Standardized vocabulary is supported as specified in the CDC IG To the extent possible, data sets and business rules adhere to the CDC IG In cases where differences exist between this guide and the CDC IG , the differences are clearly defined in the appropriate sections of this guide. Meaningful Use Stage 3 The IIS has implemented several enhancements to support Meaningful Use St age 3. In this version of the HL7 engine, t he IIS supports: The ability to process a vaccination using only the NDC code Release 1.5 compliant ACK messages Release 1.5 compliant RSP messages (with the exception of evaluated history ) MSH -22 and MSH -23 fields NDC Support Details Historically the IIS only accepted CVX codes in the RXA segment for administered and historical vaccinations . In this version of the HL7 engine, if NDC and CVX codes are sent in the RXA segment for administered vaccinations , the IIS leverages the CVX provided. If the NDC code for an administered vaccination is sent in the RXA segment without a CVX, the HL7 engine maps the NDC value to the correct CVX code. The IIS still encourages the sender to continue to leverage C VX codes whe rever possible. The IIS internally leverages the CVX to do all matching as multiple NDCs will map to a single CVX code. Here is example: Fluvirin with NDC 66521 -0118 -02 by FLUARIX with NDC 5816 0-0883 -52 by GlaxoSmithKline Biologicals SA points to CVX 140 Envision Technology Partners, Inc. Page 13 RSP Messages - Evaluated History Details The I IS will return the forecast and evaluated history in a RSP message. The IIS fully supports the most current CDC CDSi logic and specifications in the HL7 engine. Actors, Goals, and Messaging Transactions Chapter 2 of the CDC IG defines actors (entities) that may be involved in sending or receiving immunization -related messages. It describes what actors are and how use c ases (goals) can be associated to those actors. Finally, it associates specific HL7 messages with these use cases. There are nine use cases defined in Chapter 2 of the CDC IG. Table 0-1 lists each of them and if/how they are implemented within the Immunization Information System. USE CASE TITLE GOAL SUPPORTED BY Immunization Information System Send Immunization History To send an immunization history for an individual client from one system to another. In addition to EHR -S and IIS, other systems such as vital records systems or billing systems could use this message to send immunization histories. The Immunization Information Syste m only supports this via an outgoing batch file. (Refer to the \"Return Immunization History\" for additional related information.) Receive Immunization History To receive an unsolicited immunization history. It may be an update or a new record. The Immunization Information System will accept this type of message from any external system (assuming they are able to successfully authenticate). Request Immunization History To request an immunization history from another system. At this time, the Immuniz ation Information System does not send this type of message to another system. Return Immunization History To return an immunization history to another system. The Immunization Information System will send the immunization history for a patient as a respo nse to an incoming query (if the query results in a match to a single patient record). The Immunization Information System will not send out this as an unsolicited message. It must be requested by the external system. Accept Requested History To accept an immunization history in response to a query for an immunization history from another system. At this time, the Immunization Information System does not request immunization history, so it does not accept this type of message. Refer to \"Return Imm unization History\" for additional related information. Envision Technology Partners, Inc. Page 14 USE CASE TITLE GOAL SUPPORTED BY Immunization Information System Send Demographic Data To send demographic data about a person. It may be an update or a new record. The Immunization Information System will send the demographic data for a patient as a response to an incoming query (if the query results in a match to a single patient record). At this time, the Immunization Information System will not send out this as an unsolicited message. It must be requested by the external system. Accept Demographic Data To accep t demographic data about a person. It may be an update or a new record. The Immunization Information System will accept this type of message from any external system (assuming they are able to successfully authenticate). Acknowledge Receipt To acknowledge receipt of a message. This can be an immunization history, request for immunization history, demographic update, observation report or request for personal id. It may indicate success or failure. It may include error messages. The Immunization Information System will send this type of message as a re sponse to any incoming request. Report Error To send error messages related to submitted messages. These errors could result of rejection of message or parts of message. The Immunization Information System will send this type of message as a response to any incoming request when a warning or hard error occurs during processing. Table 0-1: CDC IG Use Cases mapped to The Immunization Information System Envision Technology Partners, Inc. Page 15 HL7 Messaging Infrastructure The CDC IG contains basic descriptions of terms and definitions that are used in both the CDC IG and this guide. To avoid potentially ambiguous situations, the majority of the terms and definitions will not be redefined in this guide. A key attribute to HL7 fields, components, and sub -components is the Usage Code. These attributes are generically referred to as elements. Table 0-1 defines the Usage Codes contained in this implementation guide. USAGE CODE INTERPRETATION NOTES R Required A conforming sending application shall populate all \"R\" elements with a non -empty value. A conforming receiving application shall process or not use the information conveyed by required elements. A conforming receiving application: Must not raise an erro r due to the presence of a required element May raise an error due to the absence of a required element. RE Required but may be Empty The element may be missing from the message, but it must be sent by the sending application if there is relevant data. A conforming sending application should be capable of providing all \"RE\" elements. If it knows the required values for the element, the n it must send that element. Furthermore, the values in the field must be formatted correctly. If it does not know the required values, then that element will be omitted. A conforming receiving application is expected to process or not use data contained in the element, but must be able to successfully process the message if the element is omitted (i.e., no error message should be generated because the element is missing). Envision Technology Partners, Inc. Page 16 USAGE CODE INTERPRETATION NOTES C Conditional This usage has an associated condition predicate. This predicate is an attribute within the message. If the predicate is satisfied: A conforming sending application must always send the element. A conforming receiving application must process or not use data in the element. It may raise an error if the element is not present. Furthermore, the values in the field must be formatted correctly. If the predicate is not satisfied: o A conforming sending application must not send the element. o A conforming rece iving application must not raise an error if the condition predicate is false and the element is not present. o It may raise an error if the element IS present. CE Conditional but may be Empty This usage has an associated condition predicate. This predicate is an attribute within the message. If the predicate is satisfied: A conforming sending application should be capable of providing all \"CE\" elements (when the predicate is true). o If it know s the required values for the element, then it must send that element. Furthermore, the values in the field must be formatted correctly. o If it does not know the required values, then that element will be omitted. A conforming receiving application is expe cted to process or not use data contained in the element, but must be able to successfully process the message if the element is omitted (i.e., no error message should be generated because the element is missing). If the predicate is not satisfied: A con forming sending application shall not populate the element. A conforming receiving application may raise an application error if the element is present. Envision Technology Partners, Inc. Page 17 USAGE CODE INTERPRETATION NOTES O Optional This element may be present if specified in local profile. Local partners may develop profiles that support use of this element. In the absence of a profile, a conforming sending application will not send the element. A conforming receiving application wi ll not load the element if it is sent, unless local profile specifies otherwise. It may raise a warning if it receives an invalid optional element or if the values in the field are formatted incorrectly. X Not Supported The element is not supported. A conforming sending application should not send this element. A conforming receiving application should not use this element if present. It may raise a warning if it receives an unsupported element or if the values in the field are formatted incorrectly. Any profile based on this Guide should not specify use of an element that is not supported in this Guide. Table 0-1: Usage Code Definitions The Immunization Information System will evaluate all data in a message sent regardless of whether the data is used by the Imm unization Information System or not. As a result, any non -NULL data provided in a message must be formatted correctly to avoid errors or warnings. For example, the OBX segment, field 17, is a CE data type that is not loaded by the Imm unization Information System . If a non -NULL value is provided in this field, it must be a valid triplicate to avoid triggering a warning message from t he Immunization Information System . Please note that character encoding has been switched from ASCII to UTF -8 in order to properly support international names. Previously, a special character would be translated to a \"?\" in the field. Envision Technology Partners, Inc. Page 18 HL7 Data Types The CDC IG contains clearly defined HL7 data types that are the building blocks of an HL7 message. Similar to the terms and definitions found in the HL7 Messaging Infrastructure section above, this guide will avoid potentially ambiguous situations and not attempt to redefine an alrea dy clearly defined section. This guide will adhere to Chapter 4 of the CDC IG. Envision Technology Partners, Inc. Page 19 Segments and Message Details This chapter contains the specifications for each segment used. It indicate s which fields are supported or required and describe s any constraints on these fields. HL7 2.5.1 Message Segments Table 0-1: HL7 2.5.1 Message Segments Table 0-1lists each of the message segments contained in the Immunization -related HL7 2.5.1 messages along with an indication of if/how the Immunization Information System supports each segment. SEGMENT DEFINITION MESSAGE USAGE CDC IG USAGE Immunization Information System USAGE NOTES BHS (Batch Header Segment) The Batch Header Segment wraps a group of 1 or more messages. These may be a mixture of acceptable message types. This segment is not required for real -time messaging. That is, a stream of messages may be sent without a BHS. A system may choose to require BHS for all groups of messages, but should specify this requirement in a local implementation Guide. Any Optional Optional. Not required for batch messages submitted to the Immunization Information System. Note: Unless prior approval is received, batches should only be uploaded through the Immunization Information System user interface and not submitted through the web service. Used at the beginning of any batch of messages. BTS (Batch Trailer Segment) The BTS segment defines the end of a batch. It is required if the message has a matching BHS. Any Required if message starts with BHS Required if message starts with BHS Used to mark the end of any batch of messages. If the batch of messages starts with a BHS, then this segment is required. Envision Technology Partners, Inc. Page 20 SEGMENT DEFINITION MESSAGE USAGE CDC IG USAGE Immunization Information System USAGE NOTES ERR (Error Segment) The error segment reports information about errors in processing the message. The segment may repeat. Each error will have its' own ERR segment. ACK, RSP Ability to create and process is required fo r conformant systems. Supports the ability to create and process messages with this segment. Used to return information about errors. EVN (Event Segment) The EVN segment is used to communicate necessary trigger event information to receiving applications. Valid event types for all chapters are contained in HL7 Table 0003 - Event Type ADT Required for ADT message. Not supported Used to convey event trigger information. FHS (File Header Segment) The file header segment may be used to group one or more batches of messages. This is a purely optional segment, even if batches are sent. Its' use is not anticipated for use in real - time transactions. Any system that anticipates its use should specify this in a local implementation Guide Any Optional Optional. Not required for batch messages submitted to the Immunization Information System. Note: Unless prior approval is received, batches should only be uploaded through the Immunization Information System user interface and not submitted through the web service. Used to mark the beginning of a file of batches. Envision Technology Partners, Inc. Page 21 SEGMENT DEFINITION MESSAGE USAGE CDC IG USAGE Immunization Information System USAGE NOTES FTS (File Trailer Segment) The FTS segment defines the end of a file of batches. It is only used when the FHS segment is used. Any Required to terminate a file of batches. (Matches FHS) Required to terminate a file of batches. (Matches FHS) Used to mark the end of a file of batches. If a file of batches has an FHS at the beginning, then this segment is required. IN1-3 (Insurance Segment) The IN1 -IN3 segments contain insurance policy coverage information necessary to produce properly prorated and patient and insurance bills. VXU Optional Not Supported This segment is not anticipated for use in immunization messages, but may be specified for local use. MSA (Message Acknowledgeme nt Segment) This segment is included in the query response (RSP) and acknowledgment (ACK) messages. It contains information used to identify the receiver's acknowledgement response to an identified prior message. RSP, ACK Ability to create and process is required for conformant systems Supports the ability to create and process messages with this segment. MSH (Message Segment Header) The MSH segment defines the intent, source, destination, and some specifics of the syntax of a message. All Ability to create and process is required for conformant systems. Supports the ability to create and process messages with this segment. This begins every message and includes information about the type of message, how to process it, and by whom it was created Envision Technology Partners, Inc. Page 22 SEGMENT DEFINITION MESSAGE USAGE CDC IG USAGE Immunization Information System USAGE NOTES NK1 (Next of Kin Segment) The NK1 segment contains information about the patient's next of kin or other related parties. Any associated parties may be identified. VXU, ADT, RSP Ability to create and process is required for conformant systems Supports the ability to create and process messages with this segment. Used to carry information about the next of kin for a client. NTE (Note Segment) The NTE segment is used for sending notes and comments. It is used in relation to OBX in the VXU and RSP. VXU, ADT, RSP Ability to create and process is required for conformant systems. Supports the ability to create and process messages with this segment. Used to carry a note related to the parent segment. OBX (Observation Result Segment) The observation result segment has many uses. It carries observations about the object of its parent segment. In the VXU/RSP it is associated with the RXA or immunization record. The basic format is a question and an answer. ADT, VXU, RSP Ability to create and process is require d for conformant systems. Supports the ability to create and process messages with this segment. Used to report one atomic part of an observation. Envision Technology Partners, Inc. Page 23 SEGMENT DEFINITION MESSAGE USAGE CDC IG USAGE Immunization Information System USAGE NOTES ORC (Order Request Segment) The Common Order segment (ORC) is used to transmit fields that are common to all orders (all types of services that are requested). While not all immunizations recorded in an immunization message are able to be associated with an order, each RXA must be associated with one ORC, based on HL7 2.5.1 standard. VXU, RSP Ability to create and process is required for conformant systems. Supports the ability to create and process messages with this segment. Used to give information about a group of one or more orders (typically RXA). PD1 (Patient Demographic Segment) The patient additional demographic segment contains demographic information that is likely to change about the patient. In immunization messages, this is information about the need to protect the client's information, how they should be part of reminder efforts and th eir current status in the IIS. VXU, RSP, ADT Ability to create and process is required for conformant systems. Supports the ability to create and process messages with this segment. Used to give information about a patient. A primary use in immunization me ssages is to give information about privacy and whether contact is allowed. Envision Technology Partners, Inc. Page 24 SEGMENT DEFINITION MESSAGE USAGE CDC IG USAGE Immunization Information System USAGE NOTES PID (Patient Identifier Segment) This segment contains permanent patient identifying and demographic information that, for the most part, is not likely to change. Used by all applications as the primary means of communicating patient identification information frequently. VXU, ADT, RSP Ability to create and process is required for conformant systems. Supports the ability to create and process messages with this segment. Used to carry information about the patient/client. PV1 (Patient Visit Segment) This segment contains information related to a specific visit. VXU, ADT, RSP Optional Supports the ability to create and process messages with this segment. Contains funding program eligibility status at the patient level. Use OBX for documenting the funding program eligibility status at the immunization level. QAK (Query Acknowledgement Segment) The QAK segment contains information sent with responses to a query. RSP Ability to create and process is required for conformant systems. Supports the ability to create and process messages with this segment. QPD Query parameter definition QBP, RSP Ability to create and process is required for conformant systems. Supports the ability to create and process messages with this segment. Envision Technology Partners, Inc. Page 25 SEGMENT DEFINITION MESSAGE USAGE CDC IG USAGE Immunization Information System USAGE NOTES RCP Response control parameter segment QBP Ability to create and process is required for conformant systems. Supports the ability to create and process messages with this segment. RXA Pharmacy/T reatment Administration Segment VXU, RSP Ability to create and process is required for conformant systems. Supports the ability to create and process messages with this segment. RXR Pharmacy/Treatment Route Segment VXU, RSP Ability to create and process is required for conformant systems. Supports the ability to create and process messages with this segment. ZSA (Error Segment) The custom error segment reports additional information about errors in processing the message. ACK, RSP Optional Supports the ability to create and process messages with this segment. Used to return additional information about errors. Table 0-1: HL7 2.5.1 Message Segments BHS - Batch Header Segment The Immunization Information System is capable of processing messages batch VXU messages from an external system. (No other m essage types may be submitted in batch.) The use of a BHS is optional for these batches. Note: Unless prior approval is received, batches should only be uploaded through the Immunization Information System user interface and not submitted through the web service. Envision Technology Partners, Inc. Page 26 Table 0-2 lists the fields that are part of the BHS segment. SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 1 1 ST [1..1] [1..1] Batch Field Separator R R The BHS.1 field shall be | 2 3 ST [1..1] [1..1] Batch Encoding Characters R R The BHS.2 field shall be ^~ \\& 3 HD [0..1] [0..1] Batch Sending Application O O The Immunization Information System will not load this field if it is included in the BHS segment. 4 HD [0..1] [0..1] Batch Sending Facility O O The Immunization Information System will not load this field if it is included in the BHS segment. 5 HD [0..1] [0..1] Batch Receiving Application O O The Immunization Information System will not load this field if it is included in the BHS segment. 6 HD [0..1] [0..1] Batch Receiving Facility O O The Immunization Information System will not load this field if it is included in the BHS segment. 7 TS [0..1] [0..1] Batch Creation Date/Time O O The Immunization Information System will not load this field if it is included in the BHS segment. 8 40 ST [0..1] [0..1] Batch Security O O The Immunization Information System will not load this field if it is included in the BHS segment. Envision Technology Partners, Inc. Page 27 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 9 20 ST [0..1] [0..1] Batch Name/ID/Type O O The Immunization Information System will not load this field if it is included in the BHS segment. 10 80 ST [0..1] [0..1] Batch Comment O O The Immunization Information System will not load this field if it is included in the BHS segment. 11 20 ST [0..1] [0..1] Batch Control ID O O The Immunization Information System will not load this field if it is included in the BHS segment. 12 20 ST [0..1] [0..1] Reference Batch Control ID O O The Immunization Information System will not load this field if it is included in the BHS segment. Table 0-2: BHS (Batch Header) Segment Definition BTS - Batch Trailer Segment The Immunization Information Sys tem is capable of processing messages batch VXU messages from an external system. (No other message types may be submitted in batch.) The use of a BTS is only expected when the batch h as an accompanying BHS segment. Note: Unless prior approval is received, batches should only be uploaded through the Immunization Information System user interface and not submitted through the web service. Table 0-3 lists the fields that are part of the BTS segment. SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 1 10 ST [0..1] [0..1] Batch Message Count O O The Immunization Information System will not load this field if it is included in the BTS segment. Envision Technology Partners, Inc. Page 28 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 2 80 ST [0..1] [0..1] Batch Comment O O The Immunization Information System will not load this field if it is included in the BTS segment. 3 100 NM [0..1] [0..1] Batch Totals O O The Immunization Information System will not load this field if it is included in the BTS segment. Table 0-3: BTS (Batch Trailer) Segment Definition DSC - Continuation Pointer Segment This segment is not supported by this HL7 interface. ERR - Error Segment Table 0-4 lists the fields that are part of the ERR segment. SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 1 ELD [0..0] [0..0] Error Code and Location X X Not supported for Version 2.5 and above 2 18 ERL [0..1] [0..1] Error Location RE RE This Guide does not support repeat of this field. It assumes that each error will be contained in one ERR segment. If the same error occurs more than once, there will be on ERR for each. If an error involves the entire message (e.g., the message is not parse -able) then location has no meaning. In this case, the field is left empty. Envision Technology Partners, Inc. Page 29 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 3 CWE [1..1] [1..1] 0357 HL7 Error Code R R 4 2 ID [1..1] [1..1] 0516 Severity R R 5 CWE [0..1] [0..0] 0533 Application Error Code O X The Immunization Information System will not populate this field in any outgoing messages with an ERR segment. 6 80 ST [0..1] [0..1] Application Error Parameter O X The Immunization Information System will not populate this field in any outgoing messages with an ERR segment. 7 2048 TX [0..1] [0..0] Diagnostic Information O X The Immunization Information System will populate this field with the full error warning message when ERR -8 exceeds 250 characters. 8 250 TX [0..1] [0..0] User Message O X The Immunization Information System will indicate the specific error or warning message in this field. 9 20 IS [0..1] [0..0] 0517 Inform Person Indicator O X The Immunization Information System will not populate this field in any outgoing messages with an ERR segment. 10 CWE [0..1] [0..0] 0518 Override Type O X The Immunization Information System will not populate this field in any outgoing messages with an ERR segment. 11 CWE [0..1] [0..0] 0519 Override Reason Code O X The Immunization Information System will not populate this field in any outgoing messages with an ERR segment. Envision Technology Partners, Inc. Page 30 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 12 XTN [0..1] [0..0] Help Desk Contact Point O X The Immunization Information System will not populate this field in any outgoing messages with an ERR segment. Table 0-4: ERR (Error) Segment Definition EVN - Event Type Segment This segment is not supported by this HL7 interface. FHS - File Header Segment The Immunization Information System is capable of processing messages batch VXU messages from an external system. (No other m essage types may be submitted in batch.) The use of a FHS is optional for these batches. Note: Unless prior approval is received, batches should only be uploaded through the Immunization Information System user interface and not submitted through the web service. Table 0-5 lists the fields that are part of the FHS segment. SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 1 1 ST [1..1] [1..1] File Field Separator R R The FHS.1 field shall be | 2 4 ST [1..1] [1..1] File Encoding Characters R R The FHS.2 field shall be ^~ \\& 3 HD [0..1] [0..1] File Sending Application O O The Immunization Information System will not load this field if it is included in the FHS segment. Envision Technology Partners, Inc. Page 31 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 4 HD [0..1] [0..1] File Sending Facility O O The Immunization Information System will not load this field if it is included in the FHS segment. 5 HD [0..1] [0..1] File Receiving Application O O The Immunization Information System will not load this field if it is included in the FHS segment. 6 HD [0..1] [0..1] File Receiving Facility O O The Immunization Information System will not load this field if it is included in the FHS segment. 7 TS [0..1] [0..1] File Creation Date/Time O O The Immunization Information System will not load this field if it is included in the FHS segment. 8 40 ST [0..1] [0..1] File Security O O The Immunization Information System will not load this field if it is included in the FHS segment. 9 20 ST [0..1] [0..1] File Name/ID O O The Immunization Information System will not load this field if it is included in the FHS segment. 10 80 ST [0..1] [0..1] File Header Comment O O The Immunization Information System will not load this field if it is included in the FHS segment. 11 20 ST [0..1] [0..1] File Control ID O O The Immunization Information System will not load this field if it is included in the FHS segment. Envision Technology Partners, Inc. Page 32 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 12 20 ST [0..1] [0..1] Reference File Control ID O O The Immunization Information System will not load this field if it is included in the FHS segment. Table 0-5: FHS (File Header) Segment Definition FTS - File Trailer Segment The Immunization Information Syste m is capable of processing messages batch VXU messages from an external system. (No other message types may be submitted in batch.) The use of a FTS is only expected when the batch has an accompanying FHS segment. Note: Unless prior approval is received, b atches should only be uploaded through the Immunization Information System user interface and not submitted through the web service. Table 0-6 lists the fields th at are part of the FTS segment. SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 1 10 NM [0..1] [0..1] File Batch Count O O The Immunization Information System will not load this field if it is included in the FTS segment. 2 80 ST [0..1] [0..1] File Trailer Comment O O The Immunization Information System will not load this field if it is included in the FTS segment. Table 0-6: FTS (File Trailer) Segment Definition GT1 - Guarantor Segment This segment is not supported by this HL7 interface. IN1 - Insurance Segment This segment is not supported by this HL7 interface. Envision Technology Partners, Inc. Page 33 IN2 - Insurance Segment This segment is not supported by this HL7 interface. IN3 - Insurance Segment This segment is not supported by this HL7 interface. MSA - Message Acknowledgement Segment Table 0-7 lists the fields that are part of the MSA segment. SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 1 2 ID [1..1] [1..1] 0008 Acknowledgement R R The Immunization Information System only supports the Original Mode. 2 199 ST [1..1] [1..1] Message Control ID R R The Immunization Information System will populate this field with the contents of the MSH -10 of the incoming message. 3 80 ST [0..1] [0..0] Text Message (Deprecated) X X The Immunization Information System will not populate this field in any outgoing messages with an MSA segment. 4 15 NM [0..1] [0..0] Expected Sequence Number O X The Immunization Information System will not populate this field in any outgoing messages with an MSA segment. 5 [0..1] [0..0] Removed O X The Immunization Information System will not populate this field in any outgoing messages with an MSA segment. 6 CE [0..0] [0..0] 0357 Error Condition (Deprecated) X X The Immunization Information System will not populate this field in any outgoing messages with an MSA segment. Envision Technology Partners, Inc. Page 34 Table 0-7: MSA (Message Acknowledgement) Segment Definition MSH - Message Header Segment Table 0-8 lists the fields that are part of the MSH segment. SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 1 1 ST [1..1] [1..1] Field Separator R R The MSH -1 field shall be | For incoming messages, any other values in this field will result in the message being rejected. 2 4 ST [1..1] [1..1] Encoding Characters R R The MSH -2 field shall be ^~ \\& For incoming messages, any other values in this field will result in the message being rejected. 3 20 HD [0..1] [0..1] 0361 Sending Application RE RE The Immunization Information System will not load the value supplied in this field when processing the incoming message. If a value is supplied, it must be the correct data type, length and/or valid code. The Immunization Information System will include the IIS Name and identifier in this field for all outgoing messages. Envision Technology Partners, Inc. Page 35 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 4 HD [0..1] [1..1] 0362 Sending Facility RE R Contact the Immunization Information System Help Desk for assistance in obtaining a Sending Facility code. For an incoming message, an active valid facility (other than The Immunization Information System's Facility code) must be provided or the message will be rejected. If the incoming mess age is a QBP, the facility must have permission to query the system or the message will be rejected. If the incoming message is a VXU, the facility must have permission to update the system or the message will be rejected. In other words, the facility must exist, be active, and have permission or the message will be rejected. The Immunization Information System will include the IIS Facility Code as the value in this field for all outgoing messages. Envision Technology Partners, Inc. Page 36 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 5 HD [0..1] [0..1] Receiving Application RE RE The Immunization Information System will not load the value supplied in this field when processing the incoming message. If a value is supplied, it must be the correct data type, length and/or valid code. The Immunization Information System will always set this to the value in the \"Sending Application\" field from the corresponding QBP message for outgoing messages. Envision Technology Partners, Inc. Page 37 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 6 HD [0..1] [1..1] 0362 Receiving Facility RE RE The Immunization Information System requires a valid Receiving Facility code in every incoming message. Any message not containing a valid value will be rejected. Since the IIS covers the Jurisdiction , the only appropriate Receiving Facility codes are: For Arkansas: AR0000 For Commonwealth of the New Mexico: NMSIIS For South Carolina : SIMON For Missouri : MODHSS The Immunization Information System will set this to the value in the \"Sending Facility\" field from the corresponding incoming message for the outgoing messages. If the corresponding message was unable to be loaded due to parsing errors or the username did not authenticate then this field will be populated with the IIS Facility Code. Envision Technology Partners, Inc. Page 38 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 7 TS [1..1] [1..1] Date/Time Of Message R R The Immunization Information System requires the incoming message to contain the degree of precision to at least the minute. The DTM format is: Year - YYYY Month - MM Day - DD Hour - HH Minute - MM Second - SS Millisecond - mmm GMT offset - +ZZZZ YYYYMMDDHH MMSSmmm+ZZZZ) Minimum Precision Example: 20140319121705 If an invalid value (i.e., improperly formatted or in the future) is supplied in an incoming message, the Immunization Information System will return a warning but will continue to process the incoming message. The Immunization Information System will always set this to the system date/time the message was created for outgoing messages. Envision Technology Partners, Inc. Page 39 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 8 40 ST [0..1] [0..0] Security O X The Immunization Information System will not load this field if it is included in the MSH segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing message. Envision Technology Partners, Inc. Page 40 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 9 15 MSG [1..1] [1..1] Message Type R R The Immunization Information System will accept the following Conformance Statement: IZ-18: MSH -9 (Message Type) the constant value \"QBP^Q11^QBP_Q11\" Any other v alue in this field will result in the incoming message being rejected. The Immunization Information System will return messages of the following message types: RSP^K11^RSP_K11 ACK^V04^ACK Envision Technology Partners, Inc. Page 41 10 199 ST [1..1] [1..1] Message Control ID R R For incoming messages, the value should be unique within the scope of the sending facility and sending application, and the date (YYYYMMDD) portion of the message date. If this field is missing, the incoming message will be rejected. For outgoing messages, the Immunization Information System will always put a value of YYYYMMDDQQ999999 in this field. This value can be interpreted as: YYYYMMDD = current system date when response was created QQ = 2 character abbreviation for the Jurisdict ion Arkansas - AR Commonwealth of the Northern Mariana Islands - MP Connecticut - CT Delaware - DE Guam - GU Kansas - KS Kentucky - KY Philadelphia - PH Nevada - NV New Mexico - NM Palau - PU San Antonio - SA 999999 = sequential number assigned to each HL7 message sent In addition, the Immunization Information System will populate the MSA -2 field of any response message with the value in Envision Technology Partners, Inc. Page 42 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint this field supplied by the sending application in the incoming message. 11 3 PT [1..1] [1..1] 0103 Processing ID R R Any incoming message not containing a valid value in the first component will be rejected. The value in this field must b e must be formatted correctly. For outgoing messages, the Immunization Information System will populate this field as follows: \"P\" will be in the first component of this field when the message is being processed by the production system. \"T\" will be in the first component of this field when the message is being processed by a test/trai ning /QA system. The second component will always be empty Envision Technology Partners, Inc. Page 43 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 12 VID [1..1] [1..1] Version ID R R Any incoming message being processed through the Immunization Information System interface supported by this IG must specify 2.5.1 as the version. All other values will cause the message to be rejected. All response messages will specify 2.5.1 as the version. If you would like to utilize the HL7 2.3.1 interface for the Immunization Information System, contact the Help Desk for the necessary information. 13 15 NM [0..1] [0..0] Sequence Number O X The Immunization Information System will not load this field if it is included in the MSH segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages. Envision Technology Partners, Inc. Page 44 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 14 180 ST [0..1] [0..0] Continuation Pointer O X The Immunization Information System will not load this field if it is included in the MSH segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages. 15 2 ID [0..1] [0..1] 0155 Accept Acknowledgement Type RE RE The Immunization Information System will not load any value supplied in this field in an incoming message and will process it using the original acknowledgement mode (i.e., an acknowledgement will be returned to the external system once the incoming message has been processed). If a value is supplie d, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. All outgoing messages will contain 'NE' (Never) in t his field. Envision Technology Partners, Inc. Page 45 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 16 2 ID [0..1] [0..1] 0155 Application Acknowledgment Type RE RE The Immunization Information System will not load any value supplied in this field in an incoming message and will process it using the original acknowledgement mode (i.e., an acknowledgement will be returned to the external system once the incoming message has been processed). If a value is supplie d, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. All outgoing messages will contain 'AL' (always) in this field. (The Immunization Information System does not process any responses to messages it sends.) 17 3 ID [0..1] [0..0] 0399 Country Code O X The Immunization Information System expects all incoming messages will originate in the USA or a related territory. It will not load any value supplied in this field. If supplied, the value must be USA. This field will be left empty for all outgoing messages. Envision Technology Partners, Inc. Page 46 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 18 16 ID [0..1] [0..0] 0211 Character Set O X The Immunization Information System expects all incoming messages will use the ASCII character set. It will not load any value supplied in this field and will process the message using the ASCII chara cter set. This field will be left empty for all outgoing messages. 19 CE [0..1] [0..0] Principal Language Of Message O X The Immunization Information System expects all messages will use English as the principal language. It will not load any other value in this field and will process the message without using alternate character sets. This field will be left empty for all outgoing messages. 20 20 ID [0..1] [0..0] 0356 Alternate Character Set Handling Scheme O X The Immunization Information System expects all messages to not use character switching. It will not load any other value in this field and will process the message without using alternate character sets. This field will be left empty for all outgoing messages. Envision Technology Partners, Inc. Page 47 21 EI [0..*] [0..1] Message Profile Identifier R R The Immunization Information System expects the following values for all incoming messages: Z22^CDCPHP HINVS for all incoming VXU messages Z34^CDCPHINVS or Z44^CDCPHINVS for incoming QBP messages Value is not used for all other incoming message types and will be processed without app lying a message profile. All outgoing response messages to VXU messages will be coded as follows: Z23^CDCPHINVS will be used for all RSP messages to a Z22^DCPHINVS VXU message All outgoing response messages to QBP messages will be coded as follows: Z33^CDCPHINVS will be used for all RSP messages containing no match Z32^CDCPHINVS will be used for all RSP messages containing a single patient record with full immunization history Z31^CDCPHINVS will be used for all RSP messages containing one or more lower confidence matching records Z42^CDCPHINVS will be used for all RSP Z44 evaluations and forecast messages containing a single patient record Envision Technology Partners, Inc. Page 48 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint Empty for all other outgoing message types. Envision Technology Partners, Inc. Page 49 22 XON [0..1] [0..1] Responsible Sending Organization RE RE This is a new field with 2.5.1 release 1.5 and pre-adopts the Version 2.7.1 MSH segment. Note: In order to avoid rejected messages this field CAN be left blank (NULL). Contact the Immunization Information System Help Desk for assistance in obtaining permi ssion to send on behalf of other facilities via this field. A valid facility code should be specified in the MSH -22.1(OrganizationName) field. Please note: Usage of this field is conditional per sending facility code. The Immunization Information System can specify if the facility: 1) can optionally send data on behalf of other facilities, 2) is required to use this field when sending on behalf of other facilities, or 3) cannot send on behalf of other facilities. When a facility cannot send data on behalf of another facility, if a facility code is sent in MSH -22 the whole message will be rejected. When a facility has the option to send data on behalf of another facility, if a facility code is sent in MSH -22 then it will be used when possible to assi gn vaccination clinic and ownership of patient. If that field is null or is invalid, a Envision Technology Partners, Inc. Page 50 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint warning will be returned but the message will continue to process/load. When the facility must send data on behalf of another facility, then this field must be populate d with a valid (active) facility code in the MSH -22 field. If the MSH -22.1 is null or is invalid, an error will be returned. Envision Technology Partners, Inc. Page 51 23 XON [0..1] [0..1] Responsible Receiving Organization RE RE This is a new field with 2.5.1 release 1.5 and pre-adopts the Version 2.7.1 MSH segment. Note: In order to avoid rejected messages this field CAN be left blank (NULL). If this field is provided in an incoming message, the Immunization Information System requires a valid Receiving Facility code. Any message containing a non -NULL invalid value will be rejected. Since the Immunization Information covers the Jurisdiction , the only appropriate Receiving Facility codes are: For Arkansas: AR0000 For Co mmonwealth of New Mexico: NMSIIS For South Carolina : SIMON For Missouri : MODHSS The Immunization Information System will set this to the value in the \"Sending Facility\" field from the corresponding message for outgoing messages. If the corresponding incoming message was unable to be loaded due to parsing errors Envision Technology Partners, Inc. Page 52 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint or th e username did not authenticate then this field will not be populated. 24 HD Sending Network Address O X This is a new field with 2.5.1 release 1.5 and pre-adopts the Version 2.7.1 MSH segment. The Immunization Information System will not load this field if it is included in the MSH segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. This field will be left empty for all outgoing messages. Envision Technology Partners, Inc. Page 53 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 25 HD Receiving Network Address O X This is a new field with 2.5.1 release 1.5 and pre-adopts the Version 2.7.1 MSH segment. The Immunization Information System will not load this field if it is included in the MSH segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. This field will be left empty for all outgoing messages. Table 0-8: MSH (Message Header) Segment Definition NK1 - Next of Kin Segment NK1 en tries are processed into WebIZ as Patient Contacts. Table 0-9 lists the fields that are part of the NK1 segment. SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 1 4 SI [1..1] [1..1] Set ID - NK1 R R This field should be a sequence of occurrences. So the first occurrence would be 1 then the second 2, etc. Envision Technology Partners, Inc. Page 54 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 2 XPN [1..*] [1..2] Name R R The incoming message only accepts the legal name type code \"L\". Mother's Maiden Name should be passed in via PID-6. If the type code is left blank it will be defaulted to legal name. For outgoing messages, the contact's name will be included with a type of 'L'. No additional names will be included. 3 CE [1..1] [1..1] 0063 Relationship R R The Immunization Information System expects values mapped in the \"Emergency Contact Type\" codes and will process this data in the contacts relationship field for patient demographics. Example: |MTH^Mother^HL70063| Envision Technology Partners, Inc. Page 55 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 4 XAD [0..*] [0..*] Address RE RE The Immunization Information System does not track addresses for patient contacts. It will not load all values in this field in incoming messages. If a value is supplied, it must be the correct data type (BDL, BR, N, C, H, L, M, P), length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. For outgoing messages, this field will always be empty. Envision Technology Partners, Inc. Page 56 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 5 XTN [0..*] [0..2] Phone Number RE RE The Immunization Information System will only process Telecommunication Code Types of PRN, ORN, EMR (as of the v16.9 release of the IIS), and WPN for NK1 segments in incoming messages. All other types will not be used. For an explanation of the PRN, ORN, EMR, and WPN Telecommunication Code Types, please refer to PHIN set HL70201. Examples: PRN: ^PRN^PH^^^864^1309701 ORN: ^ORN^CP^^^555^2352222 If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. For outgoing messages, the following types will be included (when non -NULL) in the Immunization Information System (as available): PRN, WPN, EMR, ORN. Envision Technology Partners, Inc. Page 57 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 6 XTN [0..*] [0..1] Business Phone Number O O If the WPN phone number type is not sent in NK1 -5 in the incoming message, then it can optionally be included here. Examples: WPN: ^WPN^PH^^^545^5666666^2222 If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. This field will be empty in all outgoing messages. 7 CE [0..1] [0..0] 0131 Contact Role O X The Immunization Information System will not load this field if it is included in the NK1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunizatio n Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a NK1 segment. Envision Technology Partners, Inc. Page 58 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 8 8 DT [0..1] [0..0] Start Date O X The Immunization Information System will not load this field if it is included in the NK1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a NK1 segment. 9 8 DT [0..1] [0..0] End Date O X The Immunization Information System will not load this field if it is included in the NK1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a NK1 segment. Envision Technology Partners, Inc. Page 59 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 10 60 ST [0..1] [0..0] Next of Kin / Associated Parties Job Title O X The Immunization Information System will not load this field if it is included in the NK1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a NK1 segment. 11 JCC [0..1] [0..0] 0327/ 0328 Next of Kin / Associated Parties Job Code/Class O X The Immunization Information System will not load this field if it is included in the NK1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning bu t will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a NK1 segment. Envision Technology Partners, Inc. Page 60 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 12 CX [0..1] [0..0] Next of Kin / Associated Parties Employee Number O X The Immunization Information System will not load this field if it is included in the NK1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunizatio n Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a NK1 segment. 13 XON [0..1] [0..0] Organization Name - NK1 O X The Immunization Information System will not load this field if it is included in the NK1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a NK1 segment. Envision Technology Partners, Inc. Page 61 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 14 CE [0..1] [0..0] 0002 Marital Status O X The Immunization Information System will not load this field if it is included in the NK1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a NK1 segment. 15 1 IS [0..1] [0..0] 0001 Administrative Sex O X The Immunization Information System will not load this field if it is included in the NK1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is su pplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a NK1 segment. Envision Technology Partners, Inc. Page 62 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 16 TS [0..1] [0..0] Date/Time of Birth O X The Immunization Information System will not load this field if it is included in the NK1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is su pplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a NK1 segment. 17 2 IS [0..1] [0..0] 0223 Living Dependency O X The Immunization Information System will not load this field if it is included in the NK1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value i s supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a NK1 segment. Envision Technology Partners, Inc. Page 63 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 18 2 IS [0..1] [0..0] 0009 Ambulatory Status O X The Immunization Information System will not load this field if it is included in the NK1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value i s supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a NK1 segment. 19 CE [0..1] [0..0] 0171 Citizenship O X The Immunization Information System will not load this field if it is included in the NK1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a NK1 segment. Envision Technology Partners, Inc. Page 64 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 20 CE [0..1] [0..0] ISO06 39 Primary Language O X The Immunization Information System will not load this field if it is included in the NK1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a NK1 segment. 21 2 IS [0..1] [0..0] 0220 Living Arrangement O X The Immunization Information System will not load this field if it is included in the NK1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a NK1 segment. Envision Technology Partners, Inc. Page 65 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 22 CE [0..1] [0..0] 0215 Publicity Code O X The Immunization Information System will not load this field if it is included in the NK1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a NK1 segment. 23 1 ID [0..1] [0..0] 0136 Protection Indicator O X The Immunization Information System will not load this field if it is included in the NK1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a NK1 segment. Envision Technology Partners, Inc. Page 66 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 24 2 IS [0..1] [0..0] 0231 Student Indicator O X The Immunization Information System will not load this field if it is included in the NK1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an i nvalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a NK1 segment. 25 CE [0..1] [0..0] 0006 Religion O X The Immunization Information System will not load this field if it is included in the NK1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a NK1 segment. Envision Technology Partners, Inc. Page 67 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 26 XPN [0..1] [0..0] Mother's Maiden Name O X The Immunization Information System will not load this field if it is included in the NK1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a NK1 segment. 27 CE [0..1] [0..0] 0212 Nationality O X The Immunization Information System will not load this field if it is included in the NK1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a NK1 segment. Envision Technology Partners, Inc. Page 68 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 28 CE [0..1] [0..0] CDCRE C Ethnic Group O X The Immunization Information System will not load this field if it is included in the NK1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a NK1 segment. 29 CE [0..1] [0..1] 0222 Contact Reason O O The Immunization Information System will accept a locally -defined value of \"PR\" (Primary) and RR (Reminder Recall) in this field in an incoming message . Both values can be used to indicate that this contact should be marked as the Primary Contact in the IIS. (Any other contacts marked as Primary will no longer have this designation.) All other values will not be used in this field. For outgoing messages, if a contact is marked in the IIS as being the Primary Contact, 'PR' will be included in this field. Otherwise, the field will be empty. Envision Technology Partners, Inc. Page 69 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 30 XPN [0..1] [0..0] Contact Person's Name O X The Immunization Information System will not load this field if it is included in the NK1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning bu t will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a NK1 segment. 31 XTN [0..1] [0..0] Contact Person's Telephone Number O X The Immunization Information System will not load this field if it is included in the NK1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a NK1 segment. Envision Technology Partners, Inc. Page 70 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 32 XAD [0..1] [0..0] Contact Person's Address O X The Immunization Information System will not load this field if it is included in the NK1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunizatio n Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a NK1 segment. 33 CX [0..1] [0..0] Next of Kin/Associated Party's Identifiers O X The Immunization Information System will not load this field if it is included in the NK1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a NK1 segment. Envision Technology Partners, Inc. Page 71 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 34 2 IS [0..1] [0..0] 0311 Job Status O X The Immunization Information System will not load this field if it is included in the NK1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid v alue is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a NK1 segment. 35 CE [0..1] [0..0] 0005 Race O X The Immunization Information System will not load this field if it is included in the NK1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a NK1 segment. Envision Technology Partners, Inc. Page 72 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 36 2 IS [0..1] [0..0] 0295 Handicap O X The Immunization Information System will not load this field if it is included in the NK1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a NK1 segment. 37 16 ST [0..1] [0..0] Contact Person Social Security Number O X The Immunization Information System will not load this field if it is included in the NK1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a NK1 segment. Envision Technology Partners, Inc. Page 73 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 38 ST [0..1] [0..0] Next of Kin Birth Place O X The Immunization Information System will not load this field if it is included in the NK1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a NK1 segment. 39 2 IS [0..1] [0..0] 0099 VIP Indicator O X The Immunization Information System will not load this field if it is included in the NK1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a NK1 segment. Table 0-9: NK (Next of Kin) Segment Definition NTE - Note Segment Table 0-10 lists the fields that are part of the NTE segment. Envision Technology Partners, Inc. Page 74 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 1 4 SI [0..1] [0..1] Set ID - NTE O O 2 8 ID [0..1] [0..0] 0105 Source of Comment O X The Immunization Information System will not load this field if it is included in the PD1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunizati on Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a PD1 segment. 3 FT [1..1] [1..1] Comment R R The Immunization Information System will only include a NTE segment in an outgoing message whenever there is an OBX segment containing an indication of an adverse reaction (in which case it will contain the appropriate reaction). The Immunization Informati on System will load any comments here into the comments field on the Vaccination details screen. Envision Technology Partners, Inc. Page 75 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 4 CE [0..1] [0..0] 0364 Comment Type O X The Immunization Information System will not load this field if it is included in the NK1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a NK1 segment. Table 0-10: NTE (Note) Segment Definition OBX - Observation Result Segment Table 0-11 lists the fields that are part of the OBX segment. SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 1 4 SI [1..1] [1..1] Set ID - OBX R R This field contains the sequence number (i.e. 1, 2, 3). 2 2 ID [1..1] [1..1] 0125 Value Type R R The specific type indicated must match with the value specified in OBX -3 CE, NM, ST, DT, ID or TS Envision Technology Partners, Inc. Page 76 3 CE [1..1] [1..1] NIP003 Observation Identifier R R This indicates what this observation refers to. It poses the question that is answered by OBX -5. Please note, this field is critically important to accurately decrementing inventory in the IIS for administered vaccinations. As a result, the Immunization Information System requests that all incoming messages carefully populate this field. Decrementing inventory is depen dent upon a matched pair of OBX -3 and OBX -5 fields that provide the funding program eligibility AND the funding source of the vaccination. Appendix A lists the LOINC codes recognized by the Immunization Information System. OBX segments with any other LOINC codes values will not be used. Example: |64994 -7^Vaccine funding program eligibility category^LN The Immunization Information System will include any data (with indicated LOINC codes) in outgoing messages (as identified in Appendix A). Appendix B provides examples of how to send the VIS in OBX -3 field. The Immunization Information system now Envision Technology Partners, Inc. Page 77 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint supports sending single, multi -antigen, via barco de and CVX. 4 20 ST [1..1] [1..1] Observation Sub - ID RE RE Envision Technology Partners, Inc. Page 78 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 5 varie s1 [1..1] [1..1] Observation Value R R This is the observation value and answers the question posed by OBX -3 Example: |V02^Is enrolled in Medicaid^HL70064| Please note, this field is critically important to accurately decrementing inventory in the IIS for administered vaccinations . As a result, the Immunization Information System requests that all incoming messages carefully populate this field. Decrementing inventory is depe ndent upon a matched pair of OBX -3 and OBX -5 fields that provide the funding program eligibility AND the funding source of the vaccination. Note: If the incoming message does not include the OBX -3 and OBX -5 indication for VFC Eligibility for an administer ed vaccination , the IIS will leverage Patient VFC Eligibility information provided in PV1-20 at the vaccine level. If the incoming message contains an OBX -3 but fails to provide the matching OBX -5, the Immunization Information System will return a warning but will continue to process the incoming message. Envision Technology Partners, Inc. Page 79 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 6 CE [0..1] [0..1] UCUM Units CE CE The Immunization Information System will not load any value specified in this field in incoming messages. For outgoing messages, this field will always be empty. 7 60 ST [0..1] [0..0] References Range O X The Immunization Information System will not load this field if it is included in the OBX segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with an OBX segment. 1 The length of the observation field is variable, depending upon value type. See OBX -2 value type . Envision Technology Partners, Inc. Page 80 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 8 5 IS [0..1] [0..0] 0078 Abnormal Flags O X The Immunization Information System will not load this field if it is included in the OBX segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with an OBX segment. 9 5 NM [0..1] [0..0] Probability O X The Immunization Information System will not load this field if it is included in the OBX segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with an OBX segment. Envision Technology Partners, Inc. Page 81 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 10 2 ID [0..1] [0..0] 0080 Nature of Abnormal Test O X The Immunization Information System will not load this field if it is included in the OBX segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with an OBX segment . 11 1 ID [1..1] [1..1] 0085 Observation Result Status R R The Immunization Information System will not load any value specified in this field in an incoming message and will process all segments with a value of 'F'. For outgoing messages, this field will be populated with a value of 'F'. Envision Technology Partners, Inc. Page 82 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 12 TS [0..1] [0..0] Effective Date of Reference Range Values O X The Immunization Information System will not load this field if it is included in the OBX segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with an OBX segment. 13 20 ST [0..1] [0..0] User Defined Access Checks O X The Immunization Information System will not load this field if it is included in the OBX segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with an OBX segment. Envision Technology Partners, Inc. Page 83 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 14 TS [1..1] [1..1] Date/Time of the Observation RE RE The Immunization Information System will not load any value specified in this field in an incoming message. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. For outgoing messages, this field will be populated with a value when The Immunization Information System is populating an OBX for any ass ociated VFC code. 15 CE [0..1] [0..0] Producer's Reference O X The Immunization Information System will not load this field if it is included in the OBX segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning bu t will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with an OBX segment. Envision Technology Partners, Inc. Page 84 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 16 XCN [0..1] [0..0] Responsible Observer O X The Immunization Information System will not load this field if it is included in the OBX segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning bu t will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with an OBX segment. 17 CE [0..1] [0..0] Observation Method O X The Immunization Information System will accept a VXC40 or VXC41 in this field in an incoming message if the OBX 3.1 has a value of 64994 -7. All other non -null values in this field will generate a warning. Example: |VXC40 ^PER IMMUNIZATION^CDCPHINVS| For outgoing messages, if the OBX -3.1 is 64994 -7, this field a VXC40. Example: |VXC40 ^PER IMMUNIZATION^CDCPHINVS| Envision Technology Partners, Inc. Page 85 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 18 EI [0..1] [0..0] Equipment Instance Identifier O X The Immunization Information System will not load this field if it is included in the OBX segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with an OBX segment. 19 TS [0..1] [0..0] Date/Time of the Analysis O X The Immunization Information System will not load this field if it is included in the OBX segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunizatio n Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with an OBX segment. Envision Technology Partners, Inc. Page 86 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 20 [0..1] [0..0] Reserved for harmonization with V2.6 O X The Immunization Information System will not load this field if it is included in the OBX segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with an OBX segment. 21 [0..1] [0..0] Reserved for harmonization with V2.6 O X The Immunization Information System will not load this field if it is included in the OBX segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with an OBX segment . Envision Technology Partners, Inc. Page 87 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 22 [0..1] [0..0] Reserved for harmonization with V2.6 O X The Immunization Information System will not load this field if it is included in the OBX segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning bu t will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with an OBX segment. 23 XON [0..1] [0..0] Performing Organization Name O X The Immunization Information System will not load this field if it is included in the OBX segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with an OBX segment. Envision Technology Partners, Inc. Page 88 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 24 XAD [0..1] [0..0] Performing Organization Address O X The Immunization Information System will not load this field if it is included in the OBX segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with an OBX segment. 25 XCN [0..1] [0..0] Performing Organi zation Medical Director O X The Immunization Information System will not load this field if it is included in the OBX segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with an OBX segment. Table 0-11: OBX (Observation Result) Segment Definition ORC - Order Request Segment Table 0-12 lists the fields that are part of the ORC segment. Envision Technology Partners, Inc. Page 89 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 1 2 ID [1..1] 0119 Order Control R R Please refer to the value set HL70119. 2 EI [0..1] [0..1] Placer Order Number RE RE The Immunization Information System does not track the Placer Order Number. It will not load all values in this field in incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. For outgoing messages, this field will always be empty. Envision Technology Partners, Inc. Page 90 3 EI [1..1] [1..1] Filler Order Number R R The identifier included in the incoming message will be stored off in the database with this vaccination. It will not be visible on the direct entry user interface. This is the unique identifier of the sending system in a given transaction. Use of this foreign key will allow the initiating system to accurately identify a previously sent immunization record and facilitate the accurate update or deletion of that record. The length of the ORC -3 field can be up to 199 characters. While the ORC -3 value is stored, a user must delete and correct the record in WebIZ. In the case where a historic immunization is being recorded, the se nding system shall assign an identifier as if the immunization was administered by a provider associated with the sending system. In the case where the RXA is conveying information about an immunization which was not given (e.g. refusal) the filler order number will be 9999. Example: |123456| For outgoing messages, the internal patient vaccination ID is included in this field. Example: |107421 ^WEBIZ | Envision Technology Partners, Inc. Page 91 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 4 EI [0..1] [0..0] Placer Group Number O X The Immunization Information System will not load this field if it is included in the ORC segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with an ORC segment. 5 2 ID [0..1] [0..0] 0038 Order Status O X The Immunization Information System will not load this field if it is included in the ORC segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with an ORC segment. Envision Technology Partners, Inc. Page 92 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 6 1 ID [0..1] [0..0] 0121 Response Flag O X The Immunization Information System will not load this field if it is included in the ORC segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information Sys tem may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with an ORC segment. 7 TQ [0..0] [0..0] Quantity/Timing X X The Immunization Information System will not load this field if it is included in the ORC segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with an ORC segment. Envision Technology Partners, Inc. Page 93 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 8 EIP [0..1] [0..0] Parent O X The Immunization Information System will not load this field if it is included in the ORC segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with an ORC segment. 9 TS [0..1] [0..0] Date/ Time of Transaction O X The Immunization Information System will not load this field if it is included in the ORC segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with an ORC segment. Envision Technology Partners, Inc. Page 94 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 10 XCN [0..1] [0..1] Entered By RE RE The Immunization Information System does not track the person who enters an order. It will not load any value in this field in an incoming message. If a value is supplied, it must be the correct data type, length and/or valid code. If an i nvalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. This field will always be empty for an outgoing message. 11 XCN [0..1] [0..0] Verified By O X The Immunization Information System will not load this field if it is included in the ORC segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunizatio n Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with an ORC segment. Envision Technology Partners, Inc. Page 95 12 XCN [0..1] [0..1] Ordering Provider RE RE This shall be the provider ordering the immunization. The validation of the value provided is conditional based on the facility code settings in the Immunization Information System. The Immunization Information System will interpret the Unique ID (first component) of this field in the incoming message as the person's NPI (National Provider Identifier), MD (Medical License Number), and/or PRN. If an IDNumber is provided and the Identifier Type Code is set to NPI in this field, the NPI is matched to a user within the Immunization Information System associated with this clinic. This user will be indicated in the Administered By field for the immunization. If a NPI is supplied and a match cannot be found, the Immunization Information System will return a warning but will continue to process the incoming message and will enter the prefix, name, and the suffix into the vaccination comments field. If an IDNumber is provided and the Identifier Type Code is set to MD in this field, the MDI is matched to a us er within the Immunization Information System associated with this clinic. This user will be indicated in the Administered By field for the immunization. If a MD is supplied and a match cannot be found, the Immunization Information System will Envision Technology Partners, Inc. Page 96 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint return a war ning but will continue to process the incoming message and will enter the prefix, name, and the suffix into the vaccination comments field. If an IDNumber is provided and the Identifier Type Code is set to PRN, the Immunization Information System will process the incoming message and will enter the PRN prefix, name, and the suffix into the vaccination comments field. For outgoing messages, the Immunization Information System will include the NPI as the Unique ID in this field of the person who prescribed the vaccine (if available). Example: 012345678 9^LASTNAME^FIRSTNAME^ ^^^^^NPI^L^^^NPI Envision Technology Partners, Inc. Page 97 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint Field 13 PL [0..1] [0..0] Enterer's Location O X The Immunization Information System will not load this field if it is included in the ORC segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but wil l continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with an ORC segment. 14 XTN [0..1] [0..0] Call Back Phone Number O X The Immunization Information System will not load this field if it is included in the ORC segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with an ORC segment. Envision Technology Partners, Inc. Page 98 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 15 TS [0..1] [0..0] Order Effective Date/Time O X The Immunization Information System will not load this field if it is included in the ORC segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunizatio n Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with an ORC segment. 16 CE [0..1] [0..0] Order Control Code Reason O X The Immunization Information System will not load this field if it is included in the ORC segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with an ORC segment. Envision Technology Partners, Inc. Page 99 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 17 CE [0..1] [0..0] Entering Organization O X The Immunization Information System will not load this field if it is included in the ORC segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with an ORC segment. 18 CE [0..1] [0..0] Entering Device O X The Immunization Information System will not load this field if it is included in the ORC segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with an ORC segment. Envision Technology Partners, Inc. Page 100 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 19 XCN [0..1] [0..0] Action By O X The Immunization Information System will not load this field if it is included in the ORC segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with an ORC segment. 20 CE [0..1] [0..0] 0339 Advanced Beneficiary Notice Code O X The Immunization Information System will not load this field if it is included in the ORC segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with an ORC segment. Envision Technology Partners, Inc. Page 101 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 21 XON [0..1] [0..0] Ordering Facility Name O X The Immunization Information System will not load this field if it is included in the ORC segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with an ORC segment. 22 XAD [0..1] [0..0] Ordering Facility Address O X The Immunization Information System will not load this field if it is included in the ORC segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with an ORC segment. Envision Technology Partners, Inc. Page 102 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 23 XTN [0..1] [0..0] Ordering Facility Phone Number O X The Immunization Information System will not load this field if it is included in the ORC segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but wil l continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with an ORC segment. 24 XAD [0..1] [0..0] Ordering Provider Address O X The Immunization Information System will not load this field if it is included in the ORC segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with an ORC segment. Envision Technology Partners, Inc. Page 103 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 25 CWE [0..1] [0..0] Order Status Modifier O X The Immunization Information System will not load this field if it is included in the ORC segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with an ORC segment. 26 CWE [0..1] [0..0] 0552 Advanced Beneficiary Notice Override Reason O X The Immunization Information System will not load this field if it is included in the ORC segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with an ORC segment. Envision Technology Partners, Inc. Page 104 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 27 TS [0..1] [0..0] Filler's Expected Availability Date/Time O X The Immunization Information System will not load this field if it is included in the ORC segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with an ORC segment. 28 CWE [0..1] [0..0] 0177 Confidentiality Code O X The Immunization Information System will not load this field if it is included in the ORC segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invali d value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with an ORC segment. Envision Technology Partners, Inc. Page 105 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 29 CWE [0..1] [0..0] 0482 Order Type O X The Immunization Information System will not load this field if it is included in the ORC segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with an ORC segment. 30 CNE [0..1] [0..0] 0483 Enterer Authorization Mode O X The Immunization Information System will not load this field if it is included in the ORC segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with an ORC s egment. Envision Technology Partners, Inc. Page 106 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 31 CWE [0..1] [0..0] Parent Universal Service Identifier O X The Immunization Information System will not load this field if it is included in the ORC segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with an ORC segment. Table 0-12: ORC (Order Request)) Segment Definitio n PD1 - Patient Demographic Segment Table 0-13 lists the fields that are part of the PD1 segment. Envision Technology Partners, Inc. Page 107 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 1 2 IS [0..1] [0..0] 0223 Living Dependency O X The Immunization Information System will not load this field if it is included in the PD1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is sup plied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a PD1 segment. 2 2 IS [0..1] [0..0] 0220 Living Arrangement O X The Immunization Information System will not load this field if it is included in the PD1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but wil l continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a PD1 segment. Envision Technology Partners, Inc. Page 108 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 3 250 XON [0..1] [0..0] Patient Primary Facility O X The Immunization Information System will not load this field if it is included in the PD1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunizatio n Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a PD1 segment. 4 250 XCN [0..1] [0..0] Patient Primary Care Provider Name & ID No. O X The Immunization Information System will not load this field if it is included in the PD1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value i s supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a PD1 segment. Envision Technology Partners, Inc. Page 109 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 5 2 IS [0..1] [0..0] 0231 Student Indicator O X The Immunization Information System will not load this field if it is included in the PD1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a PD1 segment. 6 2 IS [0..1] [0..0] 0295 Handicap O X The Immunization Information System will not load this field if it is included in the PD1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a PD1 segment. Envision Technology Partners, Inc. Page 110 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 7 2 IS [0..1] [0..0] 0315 Living Will Code O X The Immunization Information System will not load this field if it is included in the PD1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a PD1 segment. 8 2 IS [0..1] [0..0] 0316 Organ Donor Code O X The Immunization Information System will not load this field if it is included in the PD1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid va lue is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a PD1 segment. Envision Technology Partners, Inc. Page 111 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 9 1 ID [0..1] [0..0] 0136 Separate Bill O X The Immunization Information System will not load this field if it is included in the PD1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a PD1 segment. 10 250 CX [0..1] [0..0] Duplicate Patient O X The Immunization Information System will not load this field if it is included in the PD1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a PD1 segment. Envision Technology Partners, Inc. Page 112 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 11 250 CE [0..1] [0..1] 0215 Publicity Code RE RE The Immunization Information System will not load the value supplied in this field when processing the incoming message. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will leave this field empty for outgoing messages. Envision Technology Partners, Inc. Page 113 12 1 ID [0..1] [0..1] 0136 Protection Indicator RE RE If the value provided is Y, this means, Yes, protect the data (do not share data) then the Immunization Information System will not load anything about that message (demographic or immunization data). An informational message will be returned in the ERR segment: \"The PD1 -12 (ProtectionIndicator) has been set, the contents of this message will not be loaded.\" For Philadelphia and New Mexico only, if Y is provided in this field, the data will still be loaded to the IIS. An informational message will be returned in the ERR segment: \"The PD1 -12 (ProtectionIndicator) has been set, the contents of this message will still be load ed. Please contact the IIS if you wish to opt out the patient.\" If the value provided is N, this means, No, it is not necessary to protect the data from other clinicians (Sharing is ok). If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. This field w ill be empty in all outgoing messages. Envision Technology Partners, Inc. Page 114 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 13 8 DT [0..1] [0..1] Protection Indicator Effective Date CE CE If the protection indicator is valued (PD1 - 12), then this field should be valued. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not load the data in this field if it is included in the PD1 segment of any incoming messages (i.e. it is not loaded into the system). While this field is not used by the Immunization Information System if a non-NULL value is provided in this field, it must be formatted correctly. This field will be empty in all outgoing messages. Envision Technology Partners, Inc. Page 115 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 14 250 XON [0..1] [0..0] Place of Worship O X The Immunization Information System will not load this field if it is included in the PD1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but wil l continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a PD1 segment. 15 250 CE [0..1] [0..0] 0435 Advance Directive Code O X The Immunization Information System will not load this field if it is included in the PD1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a PD1 segment. Envision Technology Partners, Inc. Page 116 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 16 1 IS [0..1] [0..1] 0441 IIS Status RE RE If an invalid value is supplied in the incoming message, the Immunization Information System will return a warning but will continue to process the incoming message. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immuniza tion Information System may return a warning but will continue to process the incoming message. For outgoing messages, only Immunization Program enrollment status from The Immunization Information System will be included. Program enrollment data for other programs will not be included. Envision Technology Partners, Inc. Page 117 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 17 8 DT [0..1] [0..1] Immunization Information Status Effective Date CE CE If the IIS status field (PD1 -16) is filled, then this should be valued. The Immunization Information System will interpret the value in an incoming message as follows: For a status of A, the date will be interpreted as the date the patient was opened in the Immunization Program. For a status of I, L, or M, the date will be interpreted as the date the pat ient was closed out of the Immunization Program. If an invalid value is supplied in the incoming message, the Immunization Information System will return a warning but will continue to process the incoming message. The Immunization Information System will populate this field in outgoing messages as follows: For a status of A, the date included will be the date the person was opened in the Immunization program. For a status of I, L, or M, the date included will be the date the person was closed out of the Immunization program. Envision Technology Partners, Inc. Page 118 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 18 8 DT [0..1] [0..1] Publicity Code Effective Date CE CE If the publicity code (PD1 -11) field is filled then this field should be valued. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will leave this field empty for outgoing messages. 19 5 IS [0..1] [0..0] 0140 Military Branch O X The Immunization Information System will not load this field if it is included in the PD1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but wil l continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a PD1 segment. Envision Technology Partners, Inc. Page 119 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 20 2 IS [0..1] [0..0] 0141 Military Rank/Grade O X The Immunization Information System will not load this field if it is included in the PD1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a PD1 segment. 21 3 IS [0..1] [0..0] 0142 Military Status O X The Immunization Information System will not load this field if it is included in the PD1 segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a PD1 segment. Table 0-13: PD1 (Patient Demographic) Segment Definition PID - Patient Identifier Segment Table 0-14 lists the fields that are part of the PID segment. Envision Technology Partners, Inc. Page 120 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 1 4 SI [0..1] [0..1] Set ID - PID R R 2 CX [0..0] [0..0] Patient ID X X The Immunization Information System will not load this field if it is included in the PID segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning bu t will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a PID segment. Envision Technology Partners, Inc. Page 121 3 CX [1..*] [1..*] 0203 Patient Identifier List R R Refer to Appendix A for a detailed list of the Identifier Types accepted in incoming messages. For outgoing messages, the only identifier types that will be included (when a non - NULL value exists in the IIS) are: MA, MC, MR, LR, and SR. Please note if the length of the identifier exceeds 15 characters, the identifier value will not be included in the message. Please note: In the case of a jurisdictional IIS communicating with the state IIS in their jurisdiction, the Immunization Information System accepts/sends LR (Local IIS) when the facilit y code identifier type is set to be a LR. The Immunization Information System can now accept MR ids from an Authorized Authority (i .e. HIE, HUB, or another state IIS) that is not the administering immunization provider. To utilize this feature, if an MR i ds is included in the PID- 3 field then the MSH -22 field needs to identify the actual immunization provider for that MR id by sending that immunization provider's HL7 facility code assigned by the Immunization Information System. If The Immunization Informa tion System recognizes the HL7 facility code sent in the MSH -22 field, then the MR id provided in PID -3 will be mapped to Envision Technology Partners, Inc. Page 122 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint the patient as the Local ID for the facility identified in MSH -22. 4 CX [0..0] [0..0] Alternate Patient ID - 00106 X X The Immunization Information System will not load this field if it is included in the PID segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunizatio n Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a PID segment. Envision Technology Partners, Inc. Page 123 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 5 XPN [1..*] [1..*] Patient Name R R The first repetition should be the patient's Legal Name. (In the case that this record contains an Identifier Type of 'BR' in PID - 3, then this field will also be loaded into the patient's Birth Record name fields.) Up to one alias name may also be specified in this field. Examples: |BELL^TINKER^^^^^L~BELL^JASER^^^^^A | Note that in order to update the Birth Record name the Birth Record ID must be sent in the update. When the Birth Record ID is passed in it will try to populate the legal name into th e Birth Record Name, if no legal name is passed in it will use the Birth Record Name passed in. No other name types should be submitted via this field. For outgoing messages, the patient's full name as it is entered in the IIS will be included as a type 'L '. The field will be repeated to include the patient's alias name with a type 'A' (when a non -NULL value is known in the IIS). Envision Technology Partners, Inc. Page 124 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 6 XPN [0..1] [0..1] Mother's Maiden Name RE RE The Immunization Information System expects the Name Type component to be \"M\" if any value is supplied in the incoming message. Example: |FAIRY^^^^^^M| For outgoing messages, patient's mother's maiden name will be included with a type 'M' (when a non -NULL value is known in the IIS). 7 TS [1..1] [1..1] Date/Time of Birth R R Must have month, day and year components. (format YYYYMMDD) Example: 20140319 An invalid value in this field in an incoming message will result in the message being rejected. 8 1 IS [0..1] [0..1] 0001 Administrative Sex RE RE If an invalid value is supplied in the incoming message, the Immunization Information System will return a warning but will continue to process the incoming message. Envision Technology Partners, Inc. Page 125 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 9 XPN [0..0] [0..0] Patient Alias X X The Immunization Information System will not load this field if it is included in the PID segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a PID segment. Envision Technology Partners, Inc. Page 126 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 10 CE [0..*] [0..5] 0005 Race RE RE The Immunization Information System only recognizes the first triplet with the valid value set. The second triplet of the CE data type for race is not used . Example: |2106 -3^White^CDCREC | Only the first 5 instances of this field in an incoming message will be retained in the Immuniz ation Information System. Any additional instances will not be used. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. Example: |1002 -5^American Indian or Alaskan Native^CDCREC~2028 - 9^Asian^CDCREC~2106 - 3^White^CDCREC | Outgoing messages will include the first triplet data as available. Envision Technology Partners, Inc. Page 127 11 XAD [0..*] [0..*] Patient Address RE RE The first repetition in an incoming message should be the primary mailing address. Multiple addresses for the same person may be sent in the following sequence: The primary mailing address must be sent first in the sequence (for backward compatibility); i f the mailing address is not sent, then a repeat delimiter must be sent in the first sequence. Example: |123 HAPPY ST, UNIT #2^^Topeka^KS^66614^USA^M^^SN~123 HAPPY ST, UNIT #2^^Topeka^KS^66614^USA^P^^SN| If a birth address is sent, the incoming birth address, \"N\", will override the existing address if the incoming birth address contains the city and state. The IIS will return an AE message back when the birth address supplied is incomplete and/or an informational message if the incoming message does not have the appropriate permission to override the data. Example: 123 HAPPY ST, UNIT #2^^Topeka^KS^66614^USA^M ~1001 S Jepson^^Topeka^KS^66614^USA^N If an invalid address is supplied, the Immunization Information System will Envision Technology Partners, Inc. Page 128 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint return a warning but will conti nue to process the incoming message. The Immunization Information System only supports the following address types: (BDL, BR, N, C, H, L, M, P). If an invalid or unsupported address is supplied, the Immunization Information System will return a warning but will continue to process the incoming message. For outgoing messages, the first instance of the field will be used to include the Mailing address (with a type of 'M'). The field will be repeated to include the Physical address when available (with a type of 'P'). 12 4 IS [0..0] [0..0] 0289 County Code X X County belongs in address field. See the Appendix for User Defined 0296 codes. Envision Technology Partners, Inc. Page 129 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 13 XTN [0..*] [0..*] Phone Number - Home RE RE The first instance in an incoming message shall be the primary phone number. Only one item is allowed per repetition. Examples: |^PRN^PH^^^219^7521555~ ^ORN^CP^^^156^1161511~ ^ASN^PH^^^654^9894986~ ^BPN^PH^^^549^4979746~ ^NET^X.400^TINKERBELL@JOYLAND.COM | If an invalid value is supplied in the incoming message, the Immunization Information System will return a warning but will continue to process the incoming message. For outgoing messages, the following types will be included (when non -NULL in the IIS): PR N, WPN, ORN, ASM, BPN, and NET. Envision Technology Partners, Inc. Page 130 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 14 XTN [0..*] [0..1] Phone Number - Business O O If the WPN phone number type is not sent in PID -13 of the incoming message, then it can optionally be included here. Examples: ^WPN^PH^^^654^9494634 If an invalid value is supplied, the Immunization Information System may return a warning but will contin ue to process the incoming message. This field will be empty in all outgoing messages. 15 CE [0..1] [0..1] HL70296 or ISO639 or ISO 639-2 Primary Language O O If an invalid value is supplied in the incoming message, the Immunization Information System will return a warning but will continue to process the incoming message. Example: |CHI^Chinese^HL70296| Envision Technology Partners, Inc. Page 131 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 16 CE [0..1] [0..0] 0002 Marital Status O X The Immunization Information System will not load this field if it is included in the PID segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunizatio n Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a PID segment. 17 CE [0..1] [0..0] 0006 Religion O X The Immunization Information System will not load this field if it is included in the PID segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunizatio n Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a PID segment. Envision Technology Partners, Inc. Page 132 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 18 CX [0..1] [0..0] Patient Account Number O X The Immunization Information System will not load this field if it is included in the PID segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunizatio n Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a PID segment. 19 16 ST [0..0] [0..0] SSN Number - Patient X X The Immunization Information System will not load this field if it is included in the PID segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a PID segment. Envision Technology Partners, Inc. Page 133 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 20 DLN [0..0] [0..0] Driver's License Number - Patient X X The Immunization Information System will not load this field if it is included in the PID segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a PID segment. 21 CX [0..0] [0..0] Mother's Identifier X X The Immunization Information System will not load this field if it is included in the PID segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a PID segment. Envision Technology Partners, Inc. Page 134 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 22 CE [0..1] [0..1] CDCRE C Ethnic Group RE RE The Immunization Information System only recognizes the first triplet with the valid value set. The second triplet of the CE data type for ethnicity is not used . Example: |2186 -5^Not Hispanic or Latino^CDCREC| If an invalid value is supplied in the incoming message, the Immunization Information System will return a warning but will continue to process the incoming message. Please note: The coding table is no longer HL70189; however , it will still be accepted so that HL7 2.3.1 ver sions will still work. Outgoing messages will include the first triplet data as available. 23 60 ST [0..1] [0..1] Birth Place O O Any value supplied in the incoming message should be the standard text name of the birth facility and will be loaded into the Birth Facility field on the Patient Demographics screen. For outgoing messages, the value will be populated with the Birth Facility Name when available. Envision Technology Partners, Inc. Page 135 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 24 1 ID [0..1] [0..1] 0136 Multiple Birth Indicator RE RE The acceptable values are Y and N. If the status is undetermined, then field shall be empty. If an invalid value is supplied in the incoming message, the Immunization Information System will return a warning but will continue to process the incoming message. 25 2 NM [0..1] [0..1] Birth Order CE CE If Multiple Birth Indicator (PID -24) is populated with Y, then this field should contain the number indicating the person's birth order, with 1 for the first child born, 2 for the second, etc. If an invalid value is supplied in the incoming message, the Immunization Information System will return a warning but will continue to process the incoming message. Envision Technology Partners, Inc. Page 136 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 26 CE [0..1] [0..0] 0171 Citizenship O X The Immunization Information System will not load this field if it is included in the PID segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning bu t will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a PID segment. 27 CE [0..1] [0..0] 0172 Veterans Military Status O X The Immunization Information System will not load this field if it is included in the PID segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a PID segment. Envision Technology Partners, Inc. Page 137 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 28 CE [0..1] [0..0] 0212 Nationality O X The Immunization Information System will not load this field if it is included in the PID segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a PID segment. Envision Technology Partners, Inc. Page 138 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 29 TS [0..1] [0..1] Patient Death Date and Time RE RE The Immunization Information System will only use the date portion of any value specified in this field in an incoming message. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. Patients will NOT be flagged as deceased if PID -30 is set to N or is empty (even if PID-29 contains a valid date). Patients will NOT be flagged as deceased if PID -29 is empty (even if PID -30 is set to Y). Patients will NOT be flagged as deceased if date of death is prior to date of birth. Patients will NOT be flagged as deceased if date of death is in the future. Patients will only be flagged as deceased if PID -29 is a valid date AND PID -30 is set to Y. For outgoing messages, only the date portion of the field will be populated (when available). Envision Technology Partners, Inc. Page 139 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 30 1 ID [0..1] [0..1] 0136 Patient Death Indicator CE CE If patient death date (PID -29) is populated, then this field should be populated. If an invalid value is supplied in the incoming message, the Immunization Information System will return a warning but will continue to process the incoming message. 31 1 ID [0..1] [0..0] 0136 Identity Unknown Indicator O X The Immunization Information System will not load this field if it is included in the PID segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a PID segment. Envision Technology Partners, Inc. Page 140 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 32 20 IS [0..1] [0..0] 0445 Identity Reliability Code O X The Immunization Information System will not load this field if it is included in the PID segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning bu t will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a PID segment. Envision Technology Partners, Inc. Page 141 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 33 TS [0..1] [0..1] Last Update Date/Time O O If this field is specified in the incoming message, the information contained in this segment will only be used to update the patient's demographic record if the value specified in this field is after the most recent modification date for the matching reco rd in the Immunization Information System. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. For outgoing messages, this field will be populated with the date/time that the primary patient demographic record was last updated in the Immunization Information System. Envision Technology Partners, Inc. Page 142 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 34 HD [0..1] [0..0] Last Update Facility O X The Immunization Information System will not load this field if it is included in the PID segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning bu t will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a PID segment. 35 CE [0..1] [0..0] 0446 Species Code O X The Immunization Information System will not load this field if it is included in the PID segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a PID segment. Envision Technology Partners, Inc. Page 143 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 36 CE [0..1] [0..0] 0447 Breed Code O X The Immunization Information System will not load this field if it is included in the PID segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a PID segment. 37 80 ST [0..1] [0..0] Strain O X The Immunization Information System will not load this field if it is included in the PID segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a PID segment. Envision Technology Partners, Inc. Page 144 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 38 CE [0..1] [0..0] 0429 Production Class Code O X The Immunization Information System will not load this field if it is included in the PID segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information Sys tem may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a PID segment. 39 CWE [0..1] [0..0] 0171 Tribal Citizenship O X The Immunization Information System will not load this field if it is included in the PID segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a PID segment. Table 0-14: PID (Patient Identifier) Segment Definition PV1 - Patient Visit Segment Table 0-15 lists the fields that are part of the PV1 segment. Envision Technology Partners, Inc. Page 145 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 1 4 SI [0..1] Set ID - PID RE 2 1 IS [1..1] 0004 Patient Class R For incoming messages, the Immunization Information System will not load any value in this field and will treat all records as type \"R\". For outgoing messages, the Immunization Information System will always set this field to a value of 'R'. 3 80 PL [0..0] Assigned Patient Location X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. 4 2 IS [0..0] 0007 Admission Type X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. 5 20 CX [0..0] Readmit Number X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. Envision Technology Partners, Inc. Page 146 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 6 80 PL [0..0] Prior Patient Location X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. 7 60 XCN [0..0] 0010 Attending Doctor X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. 8 60 XCN [0..0] 0010 Referring Doctor X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. 9 60 XCN [0..0] 0010 Consulting Doctor X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. Envision Technology Partners, Inc. Page 147 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 10 3 IS [0..0] 0069 Hospital Service X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. 11 80 PL [0..0] Temporary Location X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. 12 2 IS [0..0] 0087 Readmit Test Indicator X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. 13 2 IS [0..0] 0092 Readmission Indicator X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. Envision Technology Partners, Inc. Page 148 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 14 3 IS [0..0] 0023 Admit Source X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. 15 2 IS [0..0] 0009 Ambulatory Status X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. 16 2 IS [0..0] 0099 VIP Indicator X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. 17 60 XCN [0..0] 0010 Admitting Doctor X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. Envision Technology Partners, Inc. Page 149 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 18 2 IS [0..0] 0018 Patient Type X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. 19 20 CX [0..0] Visit Number X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. Envision Technology Partners, Inc. Page 150 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 20 50 FC [0..1] 0064 Financial Class O The Immunization Information System will populate this data in the patient VFC eligibility field on the demographics screen. Example: PV1|1|R||||||||||||||||||V01 If an invalid value is supplied in the incoming message, the Immunization Information System will return a warning but will continue to process the incoming message. Please note: The CDC IG 2.5.1 (vs 1.5) guide has deprecated the use of PV1 -20 to document patient eligibility and instead says to use the OBX segment (OBX -3 and OBX -5) to record the vaccine eligibility. The Im munization Information System will continue to process data in PV1 -20 however will be needing to migrate people to use OBX -3 and OBX -5 in the future. When possible, begin using the OBX -3 and OBX -5 fields to document this eligibility. For outgoing messages, this field will be set to the patient's current VFC Eligibility (if known). Envision Technology Partners, Inc. Page 151 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 21 2 IS [0..0] 0032 Charge Price Indicator X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. 22 2 IS [0..0] 0045 Courtesy Code X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. 23 2 IS [0..0] 0046 Credit Rating X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. 24 2 IS [0..0] 0044 Contract Code X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. Envision Technology Partners, Inc. Page 152 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 25 8 DT [0..0] Cont ract Effective Date X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. 26 12 NM [0..0] Contract Amount X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. 27 3 NM [0..0] Contract Period X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. 28 2 IS [0..0] 0073 Interest Code X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. Envision Technology Partners, Inc. Page 153 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 29 1 IS [0..0] 0110 Transfer to Bad Debt Code X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. 30 8 DT [0..0] Transfer to Bad Debt Date X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. 31 10 IS [0..0] 0021 Bad Debt Agency Code X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 se gment. 32 12 NM [0..0] Bad Debt Transfer Amount X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. Envision Technology Partners, Inc. Page 154 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 33 12 NM [0..0] Bad Debt Recovery Amount X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. 34 1 IS [0..0] 0111 Delete Account Indicator X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. 35 8 DT [0..0] Delete Account Date X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. 36 3 IS [0..0] 0112 Discharge Disposition X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. Envision Technology Partners, Inc. Page 155 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 37 25 CM [0..0] 0113 Discharged to Location X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. 38 80 CE [0..0] 0114 Diet Type X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. 39 2 IS [0..0] 0115 Servicing Facility X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segm ent. 40 1 IS [0..0] 0116 Bed Status X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. Envision Technology Partners, Inc. Page 156 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 41 2 IS [0..0] 0117 Account Status X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. 42 80 PL [0..0] Pending Location X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. 43 80 PL [0..0] Prior Temporary Location X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 seg ment. 44 26 TS [0..0] Admit Date/Time X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. Envision Technology Partners, Inc. Page 157 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 45 26 TS [0..0] Discharge Date/Time X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. 46 12 NM [0..0] Current Patient Balance X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. 47 12 NM [0..0] Total Charges X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. 48 12 NM [0..0] Total Adjustments X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. Envision Technology Partners, Inc. Page 158 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 49 12 NM [0..0] Total Payments X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. 50 20 CX [0..0] 0203 Alternate Visit ID X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization System will not populate this field in any outgoing messages with a PV1 segment. 51 1 IS [0..0] 0326 Visit Indicator X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. 52 60 XCN [0..0] 0010 Other Healthcare Provider X The Immunization Information System will not load this field if it is included in the PV1 segment of any incoming messages. The Immunization Information System will not populate this field in any outgoing messages with a PV1 segment. Table 0-15: PV1 (Patient Visit) Segment Definition Envision Technology Partners, Inc. Page 159 PV2 - Patient Visit Segment This segment is not supported by this HL7 interface. QAK - Query Acknowledgement Segment Table 0-16 lists the fields that are part of the QAK segment. SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 1 32 ST [1..1] [1..1] Query Tag R R The Immunization Information System will populate this field with the contents of the QPD -2 field sent in the incoming message. 2 2 ID [0..1] [1..1] 0208 Query Response Status RE R The Immunization Information System will always populate this field with a valid value indicating the result of processing the message. 3 CE [0..1] [0..1] 0471 Message Query Name R O The Immunization Information System will populate this field with the contents of the QPD -1 field sent in the incoming message. 4 10 NM [0..1] [0..0] Hit Count O X The Immunization Information System will not populate this field in any outgoing messages with a QAK segment. 5 10 NM [0..1] [0..0] This payload O X The Immunization Information System will not populate this field in any outgoing messages with a QAK segment. 6 10 NM [0..1] [0..0] Hits remaining O X The Immunization Information System will not populate this field in any outgoing messages with a QAK segment. Table 0-16: QAK (Query Acknowledgement) Segment Definition Envision Technology Partners, Inc. Page 160 QPD - Query Parameter Definition Table 0-17 lists the fields that are p art of the QPD segment. SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 1 CE [1..1] [1..1] 0471 Message Query Name R R The Immunization Information System requires all incoming QBP messages to specify the value 'Z34^Request Immunization History^HL70471' or Z44^Request Evaluated History and Forecast^HL70471' i n this field. Any other value s will cause the message to be rejec ted. 2 32 ST [1..1] [1..1] Query Tag R R Generated by the initiating system. The Immunization Information System not use any value supplied in this field when processing the incoming message. - Begin QPD Input Parameter Specifications NOTE: Refer to the referenced fields in the PID segment for additional information on the indicated values. 3 CX Patient List RE RE PID-3: Patient Identifier List 4 XPN Patient Name RE R PID-5: Patient Name 5 XPN Patient Mother Maiden Name RE RE PID-6: Mother's Maiden Name 6 TS Patient Date of Birth RE RE PID-7: Patient Date of Birth 7 IS Patient Sex RE RE PID-8: Patient Sex Envision Technology Partners, Inc. Page 161 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 8 XAD Patient Address RE RE PID-11: Patient Address - this field is not used in the search . The Immunization Information System only supports the following address types: (BDL, BR, N, C, H, L, M, P). If an invalid or unsupported address is supplied, the Immunization Information System will return a warning but will continue to process the incomin g message. Address type O will result in a severity of (I) informational. 9 XTN Patient Home Phone RE RE PID-13: Patient Home Phone - this field is not used in the search 10 ID Patient Multiple Birth Indicator RE RE PID-24: Patient Multiple Birth Indicator - this field is not used in the search 11 NM Patient Birth Order RE RE PID-25: Patient Birth Order - this field is not used in the search 12 TS Client Last Updated Date RE RE The Immunization Information System will not use any value in this field and will not use it to refine the search results. 13 HD Client Last Update Facility RE RE The Immunization Information System will not use any value in this field and will not use it to refine the search results. - End QPD Input Parameter Specifications Table 0-17: QPD (Query Parameter Definition) Segment Definition Envision Technology Partners, Inc. Page 162 RCP - Response Control Parameter Segment Table 0-18 lists the fields that are part of the RCP segment. SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 1 1 ID [0..1] [0..1] 0091 Query Priority O O The Immunization Information System will not load any value supplied in this field in an incoming message and will process it as if the value of 'I' was supplied. 2 CQ [0..1] [0..1] 0126 Quantity Limited Request O O The Immunization Information System requires the unit for this to always be 'RD'. Any value without a unit of 'RD' will be treated as invalid. An empty or invalid value will be treated as if no limit was submitted. The Immunization Information System will return up to 25 records or t he value indicated in this field, whichever is less. 3 CE [0..1] [0..1] 0394 Response Modality O O The Immunization Information System will not load any value supplied in this field in an incoming message and will process it as if the value of 'R' was supplied. 4 TS [0..1] [0..0] Execution and Delivery Time O X The Immunization Information System will not load this field if it is included in the RSP segment of any incoming messages. 5 1 ID [0..1] [0..0] 0395 Modify Indicator O X The Immunization Information System will not load this field if it is included in the RSP segment of any incoming messages. Envision Technology Partners, Inc. Page 163 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 6 SRT [0..1] [0..0] Sort-by Field O X The Immunization Information System will not load this field if it is included in the RSP segment of any incoming messages. 7 ID [0..*] [0..0] Segment group inclusion O X The Immunization Information System will not load this field if it is included in the RSP segment of any incoming messages. Table 0-18: RCP (Response Control Parameter) RXA - Pharmacy/Treatment Administration Segment Table 0-19 lists the fields that are part of the RXA segment. SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 1 4 NM [1..1] [1..1] Give Sub -ID Counter R R Constrain to 0 (zero) Envision Technology Partners, Inc. Page 164 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 2 4 NM [1..1] [1..1] Administration Sub-ID Counter R R Constrain to 1 for Administered or Refused Please note per the updated CDC IG 2.5.1 (vs 1.5) the definition of this field has changed. This field is used to track multiple RXA under an ORC. Since each ORC has only one RXA in immunization messages, constrain to 1. This should not be used for indicating dose number, which belongs in an OBX. Note that the previous Implementation Guide suggested that this be used for indicating dose number. This use is no longer supported. As a result, any message generated from the IIS will display a \"1\" in this field. Previously, the IIS defaulted to a value of 999. 3 TS [1..1] [1..1] Date/Time Start of Administration R R The Immunization Information System will only use the date portion of the value in this field in an incoming message. For outgoing messages, only the date portion of this field will have a value. Envision Technology Partners, Inc. Page 165 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 4 TS [0..1] [0..1] Date/Time End of Administration RE RE The Immunization Information System will not load any value in this field in the incoming message and will only use the date in RXA -3. For outgoing messages, this field will be populated with the same value that appears in RXA -3. Envision Technology Partners, Inc. Page 166 5 CE [1..1] [1..1] 0292 Administered Code R R The Immunization Information System requires that one of the triplets in the incoming message contain the NDC or CVX code and will use the NDC or CVX code to identify the vaccine administered. If a NDC or CVX code is not included, then the incoming messag e will throw a warning but process what information it can (i.e. , patient demographic data). The IIS will first look for a CVX code and if none are found, the NDC value will be leveraged. Support for NDC codes is currently restricted to cases where the NDC value for the unit of sale is the same as the NDC value for the unit of use. (Support for a NDC cross walk between the unit of sale and the unit of user will be added to a future release of the Immunization Information System.) Please note, this field is critically important to accurately decrementing inventory in the IIS for administered vaccinations . As a result, the Immunization Information System requests that all incoming messages carefully populate this field. For Philadelphia only: In RXA -5, added t he value \"PHIS\" to the code set for Name of Coding System so WebIZ will no longer generate a warning message for PA -SIIS generated messages. (WebIZ still loads Envision Technology Partners, Inc. Page 167 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint vaccines off the CVX value set but will now accept the PHIS name of the coding system from PA -SIIS without generating a warning.) For administered vaccinations where an NDC value is available for the patient vaccination, the NDC will be returned along with the CVX code. 6 20 NM [1..1] [1..1] Administered Amount R R If administered amount is not recorded , unknown, or refused, use 999. Do not use a zero for an unknown amount. Please note, this field is important to accurately decrementing inventory in the IIS for administered vaccinations . As a result, the Immunization Information System requests that all incoming messages carefully populate this field. For outgoing messages, if the vaccine is refused, a value of 999 will be included in this field. Envision Technology Partners, Inc. Page 168 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 7 CE [0..1] [0..1] Administered Units CE CE If RXA -6 field is populated by any value except 999 then RXA -7 is required. The Immunization Information System expects a value of \"mL^^UCUM\" in this field in incoming messages indicating the administered amount is measured in milliliters. Any other values will generate a warning but the RXA will still be loaded if all other appropriate conditions are met. For outgoing messages, this field will always be populated with \" \"mL^^UCUM\" . 8 CE [0..1] [0..0] Administered Dosage Form O X The Immunization Information System will not load this field if it is included in the RXA segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning bu t will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a RXA segment. Envision Technology Partners, Inc. Page 169 9 CE [0..*] [0..1] NIP 0001 Administration Notes RE RE The Immunization Information System will interpret this field as an indication of the source of this record. To indicate the source of the record, the IIS expects the following values: For administered doses: |00^NEW IMMUNIZATION RECORD^NIP001| For all historical doses: |01^HISTORIC AL INFORMATION - SOURCE UNSPECIFIED^NIP001| |02^ HISTORICAL INFORMATION - from other provider ^NIP001| |03^ HISTORICAL INFORMATION - from parent's written record ^NIP001| |04^ HISTORICAL INFORMATION - from parent's recall ^NIP001| |05^ HISTORICAL INFORMATION - from other registry ^NIP001| |06^ HISTORICAL INFORMATION - from birth certificate ^NIP001| |07^ HISTORICAL INFORMATION - from school record ^NIP001| |08^ HISTORICAL INFORMATION - from public agency ^NIP001| If a NULL value is provide d in this field in the incoming message, the new immunization record will be set to historical (01). Please note, this field is critically important to accurately decrementing Envision Technology Partners, Inc. Page 170 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint inventory in the IIS for administered vaccinations . As a result, the Immunizatio n Information System requests that all incoming messages carefully populate this field. For outgoing messages, any vaccines marked as administered will be sent as |00^ NEW IMMUNIZATION RECORD^NIP001| and any historical (regardless of how it came in) will g o out as |01 ^HISTORICAL INFORMATION - SOURCE UNSPECIFIED^NIP001| . As specified by the CDC HL7 documentation only the first 199 comment characters will be used. Envision Technology Partners, Inc. Page 171 10 XCN [0..1] [0..1] Administering Provider C(RE/O) C(RE/O) This shall be the provider who administered the immunization. It is expected to be empty if the immunization record is transcribed from a historical record. The Immunization Information System will interpret the Unique ID (first component) of this field in the incoming message as the person's NPI (National Provider Identifier) , MD (Medical License Number), and/or PRN. If an IDNumber is provided and the Identifier Type Code is set to NPI in this field , the NPI is matched to a user within the Immunization Informat ion System associated with this clinic . This user will be indicated in the Administered By field for the immunization. If a NPI is supplied and a match cannot be found, the Immunization Information System will return a warning but will continue to process the incoming message and will enter the prefix, name, and the s fix into the vaccination comments field. If an IDNumber is provided and the Identifier Type Code is set to MD in this field, the MDI is matched to a user within the Immunization Information System associated with this clinic. This user will be indicated in the Administered By field for the immunization. If a M D is supplied and a match cannot be found, the Envision Technology Partners, Inc. Page 172 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint Immunization Information System will return a warning but will continue to process the incoming message and will enter the prefix, name, and the suffix into the vaccination comments field. If an IDNumber is p rovided and the Identifier Type Code is set to PRN, the Immunization Information System will process the incoming message and will enter the PRN prefix, name, and the suffix into the vaccination comments field. For outgoing messages, the Immunization Information System will include the NPI as the Unique ID in this field of the person who administered the immunization (if available). Envision Technology Partners, Inc. Page 173 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 11 LA2 [0..1] [0..1] Administered -at Location RE RE For incoming messages, the Immunization Information System has been updated to accept HL7 Facility Codes (in component 4 of this field) to identify the administering immunization provider if it is different than the sending facility code (MSH -4) in the cas e of HIE, Hubs, etc. Please note, this field is critically important to accurately decrementing inventory in the IIS for administered vaccinations . As a result, the Immunization Information System requests that all incoming messages carefully populate this field. For outgoing messages, this field will be populated with the relevant data from the Clinic associated to the immunization in the Immunization Information System. If the clinic is \"PR\", then this field will be empty. Envision Technology Partners, Inc. Page 174 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 12 20 ST [0..1] [0..0] Administered Per (Time Unit) O X The Immunization Information System will not load this field if it is included in the RXA segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a RXA segment. 13 20 NM [0..1] [0..0] Administered Strength O X The Immunization Information System will not load this field if it is included in the RXA segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a RXA segment. Envision Technology Partners, Inc. Page 175 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 14 CE [0..1] [0..0] Administered Strength Units O X The Immunization Information System will not load this field if it is included in the RXA segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a RXA segment. Envision Technology Partners, Inc. Page 176 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 15 20 ST [0..*] [0..1] Substance Lot Number RE CE The Immunization Information System will interpret any value included in this field in an incoming message as the lot number for the vaccine. No parsing or other manipulation will be performed on this value b efore storing it in the IIS. Please note, this field is critically important to accurately decrementing inventory in the IIS for administered vaccinations . As a result, the Immunization Information System requests that all incoming messages carefully populate this field. Substance Lot Number is conditionally required if the first occurrence of RXA -9.1 is valued \"00\" and RXA -20 is valued \"CP\" or \"PA\". This rule has been added to ensure messages contain the needed data to successfully decrement inventory . 16 TS [0..1] [0..1] Substance Expiration Date CE CE If the lot number is populated, this field should be valued. The Immunization Information System will only use the date portion of the value in this field. If an invalid date is supplied in the incoming message, the Immunization Information System will return a warning but will continue to process the incoming message. Envision Technology Partners, Inc. Page 177 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 17 CE [0..*] [0..1] 0227 Substance Manufacturer Name RE RE The Immunization Information System requires that any value included in this field in the incoming message be a valid MVX code. If an invalid MVX is supplied, the Immunization Information System will return a warning but will continue to process the incoming message. Please note, this field is critic ally important to accurately decrementing inventory in the IIS for administered vaccinations . As a result, the Immunization Information System requests that all incoming messages carefully populate this field. The Immunization Information System will populate this field in outgoing messages with a RXA segment. Example: |MSD^Merck and Co. Inc.^ MVX| Envision Technology Partners, Inc. Page 178 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 18 CE [0..*] [0..1] NIP 0002 Substance/Treatm ent Refusal Reason C C If the Completion status is RE, then this shall be populated. If an invalid value is supplied in the incoming message, the Immunization Information System will return a warning but will continue to process the incoming message. Please note: if an incoming message contains a vaccine refusal reason and an adverse reaction for the same vaccination, the adverse reaction will not be populated in the IIS. Please note: if an incoming message contains a vaccine refusal reason and an administered new vaccination at the same time, the Immunization Information System will return a warning but will continue to process the incoming message. Vaccine refusals are captured as notes on the patient record. Envision Technology Partners, Inc. Page 179 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 19 CE [0..1] [0..0] Indication O X The Immunization Information System will not load this field if it is included in the RXA segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a RXA segment. Envision Technology Partners, Inc. Page 180 20 2 ID [0..1] [0..1] 0322 Completion Sta tus RE RE If this field is not populated, it is assumed to be CP or complete. If the Refusal reason is populated, this field shall be set to RE. If an invalid value is supplied in the incoming message, the Immunization Information System will return a warning but will continue to process the incoming message. Acceptable values in the incoming message are: CP for (Complete) Vaccine PA for (Partially Administered) Vaccine NA for (Not Administered) Vaccine RE for Refused Vaccine Please note, this field is critically important to accurately decrementing inventory in the IIS for administered vaccinations . As a result, the Immunization Information System requests that all incoming messages carefully populate this field. The Immunization Information System will not store vaccination information for vaccines marked as NA (Not Administered). For outgoing messages, the Immunization Information System will include CP for all Envision Technology Partners, Inc. Page 181 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint administered and historical vaccinations, and RE for any refused vaccines. E notT i21 2 ID [0..1] 0323 Action Code - RXA RE Refer to the text following this table for additional information on how incoming immunizations are matched (or not) to existing immunizations for a patient. 22 TS [0..1] [0..0] System Entry Date/Time O X If vaccination date cannot be found (RXA - 3) the system will try to use the date from this field. The Immunization Information System will not populate this field in any outgoing messages with a RXA segment. 23 5 NM [0..1] [0..0] Administered Drug Strength Volume O X The Immunization Information System will not load this field if it is included in the RXA segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a RXA segment. Envision Technology Partners, Inc. Page 182 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 24 CWE [0..1] [0..0] Administered Drug Strength Volume Units O X The Immunization Information System will not load this field if it is included in the RXA segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a RXA segment. 25 CWE [0..1] [0..0] Administered Barcode Identifier O X The Immunization Information System will not load this field if it is included in the RXA segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a RXA se gment. Envision Technology Partners, Inc. Page 183 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 26 1 ID [0..1] [0..0] 0480 Pharmacy Order Type O X The Immunization Information System will not load this field if it is included in the RXA segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning bu t will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a RXA segment. Table 0-19: RXA (Pharmacy/Treatment Administration) Segment Definition RXR - Pharmacy/Treatment Route Segment Table 0-20 lists the fields that are part of the RXR seg ment. Envision Technology Partners, Inc. Page 184 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 1 CE [1..1] [1..1] NCIT and 0162 Route R R If an invalid value is supplied in the incoming message, the Immunization Information System will return a warning but will continue to process the incoming message. The first part of the triplet contains the NCIT coding system values and the second triplet contains Administration Site RE RE If an invalid value is supplied in the incoming message, the Immunization Information System will return a warning but will continue to process the incoming message. Example: LD^Left Deltoid^HL70163 Envision Technology Partners, Inc. Page 185 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 3 CE [0..1] [0..0] 0164 Administration Device O X The Immunization Information System will not load this field if it is included in the RXA segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a RXA segment. 4 CE [0..1] [0..0] 0165 Administration Method O X The Immunization Information System will not load this field if it is included in the RXA segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunizatio n Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a RXA segment. Envision Technology Partners, Inc. Page 186 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Value Set Element Name CDC IG Usage IIS Usage Constraint 5 CE [0..1] [0..0] Routing Instruction O X The Immunization Information System will not load this field if it is included in the RXA segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid value is supplied, the Immunizatio n Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a RXA segment. 6 CWE [0..1] [0..0] 0495 Administration Site Modifier O X The Immunization Information System will not load this field if it is included in the RXA segment of any incoming messages. If a value is supplied, it must be the correct data type, length and/or valid code. If an invalid v alue is supplied, the Immunization Information System may return a warning but will continue to process the incoming message. The Immunization Information System will not populate this field in any outgoing messages with a RXA segment. Table 0-20: RXR (Pharmacy/Treatment Route) Segment Definition Envision Technology Partners, Inc. Page 187 SFT - Software Segment This segment is not supported by this HL7 interface. TQ1 - Timing/Quality Segment This segment is not supported by this HL7 interf ace. TQ2 - Timing/Quality Segment This segment is not supported by this HL7 interface. Messages for Transmitting Immunization Information This chapter describes each of the messages used to accomplish the use cases described in Chapter 2. These messages are built from the segments described in Chapter 5, Segments and Message Details. The Segments are built using the Data Types specified in Chapter 4. Readers are referred to t hese chapters for specifics on these components. Issues related to segments and fields that are message specific will be addressed in this chapter. Table 0-1 defines the message types supported by the Immunization Information System. MESSAGE PURPOSE RELATED MESSAGES ASSOCIATED PROFILES SUPPORTED BY IIS? VXU Send Immunization History ACK The Immunization Information System accepts incoming VXU messages from an external system. The Immunization Information System only sends this type of message via an outgoing batch file. QBP Request Immunization History and Request Person Id RSP Z34^CDC PHINVS The Immunization Information System accepts incoming QBP messages from an external system. OID support is available so that if the system parameter is set to yes for \"HL7 - OID ENABLED\" the facility code or OID can be loaded into MSH - 4, MSH - 6, RXA - 11.4 The Immunization Informat ion System does not support sending this type of message to an external system. Envision Technology Partners, Inc. 189 MESSAGE PURPOSE RELATED MESSAGES ASSOCIATED PROFILES SUPPORTED BY IIS? RSP Respond to Request for Immunization Record and Respond to Request for Person Id QBP Z31^CDCPHINVS Z32^CDCPHINVS Z33^CDCPHINVS Z42^CDCPHINVS The Immunization Information System sends this type of message in response to an incoming QBP. OID is returned in MSH -4, MSH -6 and RXA-11 if OID is available. The Immunization Information System does not accept this type of message from an external system. ACK Send Message Acknowledgement VXU, ADT, QBP The Immunization Information System sends this type of message in response to incoming messages. The Immunization Information System does not accept this type of message from an external system. ADT Send Person Demographic Data ACK Not Supported Table 0-1: Supported Messages VXU - Send Immunization History The only way for the Immunization Information System to be able to make available a patient's immunization history is for providers who are physically administering the immunizations to notify the IIS in a timely fashion of each vaccination they have administered. This immunization information is then consolidated with similar information from other providers to produce the full vaccination record for a person. Providers desiring to submit vaccination information to the Immunization Information System will use the VXU message. The IIS will respond with an ACK message indicating the success or failure of the update. In the case of failure, this message will include the applicable error message. Envision Technology Partners, Inc. 190 Error! Reference source not found. lists the segments and the proper order of the segments that are part of a VXU message. Segment CDC IG Cardinality IIS Cardinality CDC IG Usage IIS Usage Comment MSH [1..1] [1..1] R R Every message begins with an MSH. [{SFT }] [0..*] [0..0] O X Not supported by the Immunization Information System. The segment will not be included in any outgoing VXU messages. The segment will not be used if included in any incoming VXU messages. PID [1..1] [1..1] R R Every VXU has one PID segment. PD1 [0..1] [0..1] RE RE Every PID segment in VXU may have one or less PD1 segment NK1 [0..*] [0..*] RE RE The PID segment in a VXU may have zero or more NK1 segments. PV1 [0..1] [0..1] RE RE The PID segment in a VXU may have zero or one PV1 segment. Subsequent messages regarding the same patient/client may have a different PV1 segment. PV2 [0..1] [0..0] O X Not supported by the Immunization Information System. The segment will not be included in any outgoing VXU messages. The segment will not be used if included in any incoming VXU messages. Envision Technology Partners, Inc. 191 Segment CDC IG Cardinality IIS Cardinality CDC IG Usage IIS Usage Comment GT1 [0..1] [0..0] O X Not supported by the Immunization Information System. The segment will not be included in any outgoing VXU messages. The segment will not be used if included in any incoming VXU messages. IN1 [0..1] [0..0] O X Not supported by the Immunization Information System. The segment will not be included in any outgoing VXU messages. The segment will not be used if included in any incoming VXU messages. IN2 [0..1] [0..0] O X Not supported by the Immunization Information System. The segment will not be included in any outgoing VXU messages. The segment will not be used if included in any incoming VXU messages. IN3 [0..1] [0..0] O X Not supported by the Immunization Information System. The segment will not be included in any outgoing VXU messages. The segment will not be used if included in any incoming VXU messages. Begin Order Group Each VXU may have zero or more Order groups Envision Technology Partners, Inc. 192 Segment CDC IG Cardinality IIS Cardinality CDC IG Usage IIS Usage Comment ORC [1..1] [1..*] RE RE The PID segment in a VXU may have one or more ORC segments. TQ1 [0..1] [0..0] O X Not supported by the Immunization Information System. The segment will not be included in any outgoing VXU messages. The segment will not be used if included in any incoming VXU messages. TQ2 [0..1] [0..0] O X Not supported by the Immunization Information System. The segment will not be included in any outgoing VXU messages. The segment will not be used if included in any incoming VXU messages. RXA [1..1] [1..1] R R Each ORC segment in a VXU must have one RXA segment. Every RXA requires an ORC segment. RXR [0..1] [0..1] RE RE Every RXA segment in a VXU may have zero or one RXR segments. OBX [0..*] [0..*] RE RE Every RXA segment in a VXU may have zero or more OBX segments. NTE [0..1] [0..1] RE RE Every OBX segment in a VXU may have zero or one NTE segment. End Order Group Table 0-2: VXU (Send Immunization History) Message Definition The CDC IG contains a diagram that illustrates the relationships of the segments. Note that in order for a segment to be present in a message, it must be associated with any parent segments. For example, the NTE segment can only be included in a message as a sub -segment to an OBX. Further, the OBX can only Envision Technology Partners, Inc. 193 be present as a child of an RXA. Finally, a segment that is required and a child of another segment must be present if the parent is present. If the parent is not present, it is NOT permitted. Additional Business Rules for Incoming VXU messages VXU Patient Matching/Update Algorithm The IIS will attempt to match the patient in the VXU message with a patient record in the IIS using the following guidelines. 1. If specific ID numbers are supplied in the incomin g, the following rules are applied in the order specified. a. If a State IIS ID is supplied and the associated record is not marked for deletion in the IIS, then the matching record (based on patient ID) must also have one of the following matches exactly to be updated: First Name, Last Name, or DOB. b. If a Birth Record ID is supplied and the associated record is not marked for deletion in the IIS, then the matching record (based only on this ID) will be updated regardless of anything else in the message. c. If no matches are found or if multiple non -deleted matches are found, then continue processing with step 2. 2. If no State or Birth Record ID is supplied in the incoming message, the following guidelines will be applied: a. The IIS will attempt to find a matching r ecord as follows: i. First name matches patient's first name, last name matches patient's last name OR First name matches patient's birth record first name, and last name matches patient's birth record last name. ii. Alias switching. iii. The DOB supplied matches the patient's DOB. (Patient's without a DOB in the IIS cannot be matched to an incoming VXU message except through the State IIS ID parameter.) b. If more than one record exists in the set of potential matching records when first and last name match t hen the following filters will be applied in the order indicated until either only a single record remains or until applying the filter would result in no matches remaining: i. SSN (f or those IISs that do not store a SSN, bypass this step) ii. MCI number: For Del aware only iii. Gender iv. Medical Record Number v. Middle Name/Initial vi. Patient's Alias Name vii. Mother's Maiden Name viii. Mother's First and Last Name ix. Birth State x. Fathers First and Last Name c. If a single record remains in the set of potential matching records, it will be updat ed. 3. If step 2a resulted in no matches found, the IIS will attempt a less restrictive search by applying all of the following criteria: a. One of the following is true: Envision Technology Partners, Inc. 194 i. First name matches patient's first name, last name matches patient's birth record last name , AND DOB match. ii. First name matches patient's birth record first name, last name matches patient's last name, AND DOB match. iii. First name matches patient's birth record first name, last name matches patient's birth record last name, AND DOB match. b. If step 3a results in only a single matching record then that record will be updated, otherwise continue with the having one of the following as true: i. First name matches patient's first name, last name matches patient's alias last name, AND DOB match. ii. First name mat ches patient's alias first name, last name matches patient's last name, AND DOB match. iii. First name matches patient's alias first name, last name matches patient's alias last name, AND DOB match. c. If step 3b results in only a single matching record then that record will be updated. 4. If all other attempts at a match failed, then a. check if both the first name and last name are phonetically the same with the same DOB. If so, then at least one other identifying criteria must match exactly (registry id, medical record number, SSN, birth certificate id, MCI, insurance numbers, phone numbers, email, addresses, etc.) b. If above fails as well, we will take it one step farther and use SOUNDEX. However, SOUNDEX is not as accurate. So, when using SOUNDEX, at least two other identifying criteria must match exactly (registry id, medical record number, SSN, birth certificate id, MCI, insurance numbers, phone numbers, email, addresses, etc.) 5. If multiple records or no records remain in the set of potential matching records, the patient in the incoming VXU message will be added to the IIS as a new record. a. This may lead to a duplicate record being created in the IIS. When this occurs, the deduplication features of the IIS can be used to combine the records into a single instance again. For any update request, if there is a matching record that is ma rked for deletion in the IIS, it will not be considered as a potential matching record. It is important to realize that by providing the ability to accept specific identifiers and using them as the primary search criteria, a provider will have the mechanis m for updating any demographic information about a patient. This allows them to correct mistakes in key fields used to identify a patient (e.g., name, DOB, etc.), but it also allows them to cause significant issues in the system if they do not pass identif iers accurately. (NOTE: The above description is not intended to imply anything regarding about the technical design of the queries used to locate matching records in the IIS. The goal is only to describe the general concept of how the searches will work. ) VXU Vaccine Matching/Update Algorithm In addition to patient matching, once a patient has been matched then the vaccination history needs to be compared from what the update message contains to what is already in the Immunization Information System. For the incoming VXU message, each vaccination is reviewed according to if it is Envision Technology Partners, Inc. 195 marked as administered or historical and if there is another vaccine on the same date in the same vaccine group. When a Historical IZ comes in, the system will look for a \"New\" IZ with the same CVX code. If the Historical IZ is within the number of days (set in the system parameter) plus or minus from the \"New\" vaccination date, the Historical IZ will not populate WebIZ. There is a weighted approach to determine if a historic and an administered vaccine really are the same thing. The historic is the first to enter the system then the administered will take ownership of the vaccine. If the administered was in the system first then the historical shouldn't change anything in the i mmunization. Please note, historically the IIS only accepted CVX codes in the RXA segment. In this version of the HL7 engine, if NDC and CVX codes are sent in a message, the IIS leverages the CVX provided. If the NDC unit of use code is sent in the RXA seg ment without a CVX, the HL7 engine maps the NDC value to the correct CVX code. The IIS internally leverages the CVX to do all matching as multiple NDCs will map to a single CVX code. As a result, the business rules below refer to CVX codes. Below are the guidelines used to determine when vaccinations should be added, updated, or not updated : 1) If the vaccine in the incoming VXU is marked as administered (field RXA -9 = 00^NEW IMMUNIZATION RECORD^NIP001) then the system checks the existing record in the IIS t o see if there are other vaccines in the system with the same CVX and same date. a. If there is another vaccine with the same CVX on the same date then the vaccine in the IIS is updated with any vaccination detail information that is blank (the incoming recor d will not overwrite information only update any data that is missing). b. If there is not another vaccine with the same CVX on the same date then the vaccine is added new to the patient record. c. An administered immunization update for existing historical immunization can change existing values. An administered immunization update for existing administered immunization can change existing values. 2) If the vaccine in the incoming VXU is marked as historical (field RXA -9 = values 01 -through 08 then the system checks the existing record in the IIS to see if there are other vaccines in the system with the same CVX and same date. a. If there is another vaccine with the same CVX on the same date that is also marked as historical then the vaccine in the IIS is updated with any vaccination detail information that is blank (the incoming record will not overwrite information only update any data that is missing). b. A historical immunization update for existing historical immunization can change existing values. A historical immunization update for existing administered immunization can fill in empty values. A historical immunization update for existing administered immunization CANNOT change existing values. c. If there is another vaccine in the same vaccine group on the same date that is marked as administered then the incoming vaccine record will not be imported and a warning message will be returned. d. If there is another vaccine in the same vaccine group on the same date that is marked as historical then the incomin g vaccine record will be added new to the patient record. Envision Technology Partners, Inc. 196 e. If there is NOT another vaccine in the same vaccine group on the same date then the vaccine is added new to the patient record. f. New comments will always append to the existing comments. If the co mments passed in already exist they will not be appended. g. There are 3 possible outcomes for delete : i. Success: Immunization was found and since you have permission to delete the record was deleted ii. No Permission: Immunization was found but you do not have permission to delete so the record remained iii. Not Found: Immunization was not found. Note: For clients that do not allow TB vaccines to be stored/exchanged then a warning message will be returned for any RXA messages with a CVX that resides in the TB group that the vaccine was not imported. In addition, some clients have custom data quality clean up jobs (nightly/monthly) based on their specific rules that may delete potential duplicate vaccinations after they have been imported. PID-3 (PatientIdentifierL ist) and MSH -22. On both updates (VXU) and queries (QBP) the Immunization Information System will only return or update patient identifiers for facilities associated with the message. Inc. the following will be saved: 123456 for MYEHR 99445566 for MYStatsIIS will be saved 987633 for MYLOCALIIS will be saved Please ensure that the correct identifier type codes are used in PID -3. Immunization Information System will not know what the Sender meant. Sender should ensure that: Only 1 of each Identifier Type Code is included in the Patient Identifier List. Identifier Type Codes are associat ed properly. For example , an EHR must supply their identifier as MR and not SR, etc. Identifying the Administering Clinic for the Vaccine The Immunization Information System will use the following steps to identify which facility will be indicated as the a dministering location when the vaccine is marked as ADMINISTERED. 1. First check RXA -11.4.1 (Administered At Location. Facility. Namespace ID). a. If the field contains a valid HL7 facility code (i.e. the Immunization Information System recognizable) then that associated clinic will be indicated as the administering clinic as long as the associated clinic is marked in the Immunization Information System as a clinic that 'gives immunizations'. 2. If the field RXA -11.4.1 is null or cannot be mapped then the Immunization Information System will check the MSH -22 field. a. If the field contains a valid HL7 facility code (i.e. the Immunization Information System recognizable) then that associated clinic will be indicated as the administering clinic as long as the associated clinic is marked in the Immunization Information System as a clinic that 'gives immunizations'. Envision Technology Partners, Inc. 198 b. If the field MSH -22 cannot be mapped then the message will return a warning message but will continue on to Step 2c. c. If the field MSH -22 is null then the Immunization Information System will check the MSH -4 field. i. If the field contains a valid HL7 facility code (i.e. the Immunization Information System recognizable) then that associated clinic will be indicated as the administering clinic as long as the associated clinic is marked in the Immunization Information System as a clinic that 'gives immunizations'. d. If the field MSH -4 is associated to a clin ic that is marked as 'does not perform immunizations' then the Immunization Information System will set the administering clinic as \"PR\" (Patient Record). 3. If the vaccine is indicated to be HISTORICAL then the Immunization Information System will check RXA -11 to see if it can be mapped. a. If so it will use that associated clinic as the clinic code. b. If it cannot be mapped then the clinic will be set as \"PR\" (Patient Record). Decrementing Inventory The IIS needs values in several vaccination fields to support the goal to accurately decrement inventory in 2017. At a minimum, data needs to be provided in the following fields for administered vaccinations: RXA-5 AdministeredCode needs to contain either a N DC/CVX value RXA-6 AdministeredAmount needs to contain a valid dose amount RXA-9 AdministrationNotes needs to be marked as 00 RXA-11 AdministeredAtLocation needs to map to a FacilityID where the inventory resides RXA-15 SubstanceLotNumber needs to reflect the lot number on the vial , not the box RXA-17 SubstanceManufacturerName needs a valid name RXA-20 CompletionStatus needs to be a CP or PA to indicate the vaccine was given OBX -3/OBX -5 matched pair with eligibility OBX -3/OBX -5 matched pair with a funding source provided In some cases, these fields are not considered required per the CDC guidelines. Regardless, the IIS will return warning and error messages for administered when these fields are empty as the IIS needs those values to support decrementing inventory. The sever ity of the error messaging will depend on if the HL7 facility is marked as participating in electronic inventory decrementing. For those HL7 facilities not participating in electronic inventory decrementing, the severity will be a warning. For those HL7 fa cilities participating in electronic inventory decrementing, the severity will be a n error. In 2017, the IIS will return more robust error messaging with every subsequent release in support of decrementing inventory. Identifying the Patient's Default Cl inic As of the v16.9 release, t he Immunization Information System allows the IIS Manager to designate at the HL7 facility level the following three ownership options for a patient: Envision Technology Partners, Inc. 199 Always Take Ownership - if checked, the patient will be assigned to this cl inic if the administered vaccination is the most recent vaccination in the patient's record Take Ownership Based on Vaccine Group - if checked, the patient will be assigned to this clinic if the administered vaccination is in the designated vaccine group and is the most recent vaccination in the patient's record Do not take ownership - if checked, the patient will not be assigned to this clinic When clinic ownership is changed for a patient, the vaccination date is used as the effective date. If a new pa tient is created via a HL7 message and the facility is set to \"DO NOT TAKE OWNERSHIP\" the patient gets assigned to the PR (Parental Record) clinic. If the facility is set to be able to take ownership then ownership should go to the clinic assigned to the facility. The behavior of the immunization Information System will depend on the settings for a HL7 facility code. 1. If the HL7 messages contains ANY administered vaccinations then the Immunization Information System will use the following steps to identify which clinic to associate to the patient as the default clinic. a. First check RXA -11.4.1 (Administered At Location. Facility. Namespace ID). i. If the field contains a valid HL7 facility code (i.e. the Immunization information System recognizable) then that associated clinic will be indicated as the administering clinic based on the ownership rules for that HL7 facility code. b. If the field RXA -11.4.1 is null or cannot be mapped th en the Immunization Information System will check the MSH -22 field. i. If the field contains a valid HL7 facility code (i.e. the Immunization Information System recognizable) then that associated clinic will be indicated as the owning clinic (based on the own ership rules for that HL7 facility code. c. If the field MSH -22 is null or cannot be mapped then the Immunization Information System will check the MSH -4 field. i. If the field contains a valid HL7 facility code (i.e. the Immunization Information System recogniz able) then that associated clinic will be indicated as the administering clinic based on the ownership rules for that HL7 facility code. 2. If the HL7 message contains ONLY historical vaccinations AND the Patient Status has been indicated to be ACTIVE then th e system will check the RXA -11 for a valid HL7 facility code. a. If the field contains a valid HL7 facility code (i.e. the Immunization Information System recognizable) then that associated clinic will take ownership of the patient based on the ownership rule s for that HL7 facility code. i. If the field RXA -11 is null or cannot be mapped then the patients' default clinic in the Immunization Information System does not change (for existing patients). Prior to the v16.9 release, t he Immunization Information System will use the following steps to identify which default clinic should be assigned to the patient. 2. If the HL7 messages contains ANY administered vaccinations then the Immunization Information System will use the following steps to identify which clinic to associate to the patient as the default clinic. a. First check RXA -11.4.1 (Administered At Location. Facility. Namespace ID). i. If the field contains a valid HL7 facility code (i.e. the Immunization information System recognizable) then that associated clinic will be indicated as the Envision Technology Partners, Inc. 200 administering clinic (ignoring if the associated clinic is marked in the Immunization Information S ystem as a clinic that 'gives immunizations'). b. If the field RXA -11.4.1 is null or cannot be mapped then the Immunization Information System will check the MSH -22 field. i. If the field contains a valid HL7 facility code (i.e. the Immunization Information System recognizable) then that associated clinic will be indicated as the owning clinic (ignoring if the associated clinic is marked in the Immunization Information System as a clinic that 'gives immunizations'). c. If the field MSH -22 is null or cannot be mapped then the Immunization Information System will check the MSH -4 field. i. If the field contains a valid HL7 facility code (i.e. the Immunization Information System recognizable) then that associated clinic will be indicated as the administering clinic (ignorin g if the associated clinic is marked in the Immunization Information System as a clinic that 'gives immunizations'). Note: The Sending Facility, MSH -4, should be then considered the owning clinic. 3. If the HL7 message contains ONLY historical vaccinations A ND the Patient Status has been indicated to be ACTIVE then the system will check the RXA -11 for a valid HL7 facility code. a. If the field contains a valid HL7 facility code (i.e. the Immunization Information System recognizable) then that associated clinic w ill take ownership of the patient (ignoring if the associated clinic is marked in the Immunization Information System as a clinic that 'gives immunizations'). i. If the field RXA -11 is null or cannot be mapped then the patients' default clinic in the Immuniza tion Information System does not change (for existing patients). Regardless of the release, i f the HL7 message contains ONLY historical vaccinations AND the Patient Status has been indicated to be INACTIVE then the patients' default clinic does not chang e (for existing patients). Identifying the Appropriate Audit Information The audit information (created by and last updated by) will be updated from the user that is associated to the facility code sent in field MSH -4. ACK - Acknowledging a Message The ACK returns an acknowledgement to the sending system. This may indicate errors in processing. Error! Reference source not found. lists the segments and the proper order of the segments that are part of an ACK message. Segment CDC IG Cardinality IIS Cardinality CDC IG Usage IIS Usage Comment MSH [1..1] [1..1] R R Every message begins with an MSH. Envision Technology Partners, Inc. 201 Segment CDC IG Cardinality IIS Cardinality CDC IG Usage IIS Usage Comment [{SFT}] (0..1) [0..0] O X Not supported by the Immunization Information System. The segment will not be included in any outgoing ACK messages. MSA (1..1) [1..1] R R [{ERR}] (0..*) RE RE Include if there are errors. [{ZSA}] (1..1) O RE New informational segment provided. Table 0-3: ACK (Acknowledging a Message) Message Definition 2.5.1 Acknowledgement Codes With t he adoption of the 2.5.1 Release 1.5 definitions of the AR, AE, and AA ACK codes, the IIS can no longer assume that an AA response message represents a perfectly formatted message . Furthermore, the situations in which an AR per the 2.5.1 1.5 Release definition can occur will very rarely occur . Due to the new definitions, m essage senders can anticipate that messages sent in the past that returned with an AE ACK response may now return as an AA ACK message . ZSA Segments The IIS now supports additional custom acknowledgement codes in the ZSA segment that provide greater visibility to the quality of the message. These additional custom acknowledgement codes are returned to the message sen der in the ZSA segment of the ACK message if the IIS has enabled the functionality for the sender. SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Element Name CDC IG Usage IIS Usage Constraint 1 CE [1..1] [1..1] Custom Acknowledgement Code O R The ZSA-1.1 field shall be an AA, AE, AR, AF, AW, or AI. See the definition below. The ZSA -1.2 field provides additional text explaining the ZSA-1.1 code. 2 CX [0..1] [0..1] Message Identifier List O O The ZSA -2.1 contains the message identifier Envision Technology Partners, Inc. 202 SEQ LEN Data Type CDC IG Cardinality IIS Cardinality Element Name CDC IG Usage IIS Usage Constraint 3 CX [0..1] [0..1] Patient Identifier List O O The contains the patient identifier 4 CX [0..1] [0..1] Actions Performed List O O The ZSA -4.1 contains the actions performed list The IIS does not expect the sender to consume this new segment. Most parsers will skip processing the segment. If the ZSA segment creates an issue for the sender, The IIS can turn off the ZSA segment. If the ZSA segment is turned on for the sender, the ACK message will con tain the following additional information in the ACK message (in order of severity): AA Application Accept - Good message with no problems. Mirrors the definition of AA in HL70008 AI Application Information - One or more ERR segments returned with at most a severity of I for Information AW Application Warning - One or more ERR segments returned with at most a severity of W for Warning AE Application Error - One or more ERR segments returned with at most a severity of E for Error AF Application Fail - Message Failed to execute. This occurs for critical errors which prevent the message from being able to execute. For example, missing patient name, missing/invalid DOB, etc. AR Application Reject - this mirrors the definition of AR in HL70008. Examples o f Error Messages: If a facility does not have permission to query the IIS, the ACK message will contain the following text: Unable to process this message: Query permission disabled for the facility XXXXXX. If a facility does not have permissions to update the IIS, the ACK message will contain the following text: Unable to process this message: Update permission disabled for the facility XXXXXX. If the MSH -4 facility code has been inactivated or is invalid, the ACK message will contain the following text: Invalid value: XXXXXX. Reason: No matching Facility found. If the OBX -3 field contains a non -null value and the OBX -5 field is null, the ACK message will contain the following text: OBX -5(Observation Value): Missing required value. QBP - Query for Immunization History The Immunization Information System supports the QBP Profile from the CDC IG. Under this profile, the incoming QBP message to request an immunization history is defined as outlined in Error! Reference source not found. . Envision Technology Partners, Inc. 203 Segment CDC IG Cardinality IIS Cardinality CDC IG Usage IIS Usage Comment MSH [1..1] [1..1] R R Every message begins with an MSH. [{SFT }] [0..*] [0..0] O X Not supported by the Immunization Information System. The segment will not be used if included in any incoming VXU messages. QPD [1..1] [1..1] R R RCP Response Control Parameters [1..1] R R The Query Profile will list the segments that are expected to be returned in response to this query. [DSC] Continuation Pointer [0..0] O X Not supported by the Immunization Information System. The segment will not be used if included in any incoming VXU messages. Table 0-4: QBP (Query for Immunization History) Message Definition QBP Patient Matching Algorithm Based on the identifying information provided, the IIS will attempt to locate any and all matching patient records using the guidelines bel ow. (The description below is not intended to imply anything regarding the technical design of the queries used to locate matching records. The goal is only to describe the general concept of how the searches will work.) 1. The IIS will look for a record where there is an exact match by applying all of the following criteria: a. First and Last name supplied match the patient's name, the patient's alias name, or the patient's birth record name in the IIS. b. The Date of Birth suppli ed (if any) matches the patient's DOB in the IIS. (Records with no DOB in the IIS would not be return ed in this step of the search.) 2. If step 1 resulted in a single match, then the search is completed and the result is returned via a RSP message. 3. If step 1 resulted in multiple matches, the following filters will be applied in the order indicated until either a single record remains or until applying the filter would result in no matches remaining: a. SSN b. State IIS ID c. Requesting Application's Medical Record Number Envision Technology Partners, Inc. 204 d. Gender e. Mother's Maiden Name f. Birth State g. Mother's First/Last Name h. Medicaid Number i. Medicare Number j. Cell phone k. Email address l. Physical address m. Mailing address 4. If one or more records remain in the result set after step 3, then the results are retu rned via the RSP message as appropriate. 5. If step 1 resulted in no matches found, the IIS will attempt a less restrictive search by applying all of the following criteria: a. One of the following is true: i. The Last name supplied matches the patient's last name or alias last name and the First name supplied is similar to the patient's first name or alias first name. ii. The First name supplied matches the patient's first name or alias first name and the Last name supplied is similar to the patient's last name or alia s last name. iii. The Last name supplied matches the patient's birth record last name and the First name supplied is similar to the patient's birth record first name. iv. The First name supplied matches the patient's birth record first name and the Last name suppli ed is similar to the patient's birth record last name. b. The Middle name supplied (if any) is similar to the patient's middle name, patient's first middle initial, alias middle name, or birth record middle name or the patient's middle name field is empty in the IIS. c. The DOB supplied (if any) matches the patient's DOB or the patient's DOB is empty in the IIS. d. For those IISs that do not store a SSN, bypass this step. Otherwise, the SSN supplied (if any) matches the patient's SSN or the patient's SSN is empty in the IIS. 6. If step 5 results in no records or a single record matching, the IIS will respond with a RSP message indicating no records were found. (Because a looser matching algorithm was applied, a single record match cannot be assumed to be an exact match without human intervention. Therefore, matching records will not be returned unless at least two poten tial matches are found.) 7. If step 5 results in multiple matches being found, all of the following filters will be applied . If the filter is a patient identifier (a, b ,g ,h ,i, or j), the filter can reduce the match to a single record. If the filter is not a patient identifier (c, d, e, or f), the filter can reduce until either only two records remain or until applying the filter would result in less than two matches remaining: a. State IIS ID b. Requesting Application's Medical Record Number c. Gender d. Mother's Maide n Name e. Birth State f. Mother's First/Last Name g. Medicaid Number h. Medicare Number i. Cell phone Envision Technology Partners, Inc. 205 j. Email k. Physical address l. Mailing address For any search, if there is a matching record that is marked for deletion in the IIS or who has opted out, it will not be returne d as part of the search results. The response of the IIS depends on The IIS will always respond with the appropriate message type as follows: If no matching records are found, a RSP message with query response status code of NF message will be returned. If a single matching record is found, a RSP message with a query response status code of OK message will be returned. If multiple matching records are found, a RSP message with a query response status code of OK message will be returned. If too many matches are found, a RSP message with a query response status code of TM message will be returned. The TM (too many) message will also be returned if the value in RCP -2, (QuantityLimitedRequest) is less than the number of matches found. If a significant issue is found in the incoming message that would prevent an effective search from being accomplished, a RSP message with a query respon se status code of AE message will be returned with additional details about the error encountered. (NOTE: The above description is not intended to imply anything regarding about the technical design of the queries used to locate matching records in the IIS. The goal is only to describe the general concept of how the searches will work.) The IIS can specify at the facility code level the maximum quantity of records that can be returned in a query response. The default value is set to 10 in the IIS for a fac ility code. If this value is set to a smaller maximum value, the value will determine the maximum value than can be put in RCP -2 (QuantityLimitedRequest). This is a feature that has been added to accommodate more restricted matching when responding to que ries from an HIE/HUB where only one match can be returned . The IIS can specify at the facility code level that stricter patient matching on queries should be applied. This is a feature that allows the IIS to leverage a specific facility that has stricter HL7 query matching rules and a different facility that has looser match ing to aid in finding patients. For now, this value w ill default to false for everyone. This is a feature that has been added to accommodate more restricted matching when responding to queries from an HIE/HUB where only one match can be returned. FOR TH E ONC PILOT PROJECT ONLY: The IIS supports state registries sending messages to another state registry when the IIS has specified at the facility code level that the patient identifier should be switched to a medical record when initiating a request. Thi s flag exists because a state registry sending to another state registry can't both use the same identifier type. This flag will control the behavior of how the IIS identifies itself to the other IIS. When this flag is set, the IIS will send the message a nd identify the outgoing message as a M R and the other IIS as the SR and when the response is sent back by the other IIS, the response will be converted back to our SR and the ir MR. This flag is a workaround since very few message senders leverage the Assigning Authority properly . The flag will default to false for all facility codes until needed in the future to support state to state registry data exchange. Please note, if Envision Technology Partners, Inc. 206 one of the IIS exchanging information is not a state registry, this flip in not ne eded. An example where the flip isn't needed is Philadelphia (LR) and Delaware (SR). RSP - Respond to Request for Information As outlined in the CDC IG, the response to the incoming query will vary based on the results of the query. Error! Reference source not found. outlines these possible options. Outcome of Query Response Message No match found Response indicates that message was successfully processed and that no patients matched the criteria that were supplied in the QBP message. Exactly one high confidence match found Response includes a complete immunization history as specified below. At least one lower confidence match is found, but no more than the maximum number allowed Response returns one PID with associated PD1 and NK1 segments for each potential match. No immunization history is returned. More than the maximum number of matches allowed is found Response indicates that the message was successful ly processed, but that too many potential matches were found. The maximum number allowed is the lower of the maximum number requested and the maximum number that the receiving system will return. Maximum allowed number of matches is a variable that is ass igned by the IIS to the facility. Message is not well formed and has fatal errors. Response indicates that the message was not successfully processed and may indicate errors. Table 0-5: Possible Responses to QBP Message In the event that a single high confidence match is found, Error! Reference source not found. outlines the grammar used in the RSP message. This is ref erred to as the Z32^CDCPHINVS profile. Segment Cardinality HL7 Optionality Comment MSH [1..1] R The MSH will indicate which query is being responded to and what Query Profile it was based on. MSA [1..1] R [ ERR ] [0..1] O If errors exist, then this segment is populated QAK [1..1] R Envision Technology Partners, Inc. 207 Segment Cardinality HL7 Optionality Comment QPD [1..1] R This segment echoes the Query Parameter Definition Segment sent in the requesting query. [{ [0..1] O - Response Group Begin If a query errors out or if no matching patient is found, then the segments in the Response Group will not be returned. [{ [0..*] O - Patient Identifier Group Begin [0..1] RE [{NK1}] RE }] - Patient Identifier Group End [ [0..1] O - Immunization History Group Begin [PV1] [0..0] X [IN1] [0..0] X Not supported [{ [0..*] RE - Order Group Begin ORC [1..1] R Required if client has immunization records (RXA). There is one ORC for each RXA. - Pharmacy Administration Group Begin RXA [1..1] R Envision Technology Partners, Inc. 208 Segment Cardinality HL7 Optionality Comment [RXR] [0..1] RE Special rule: If there is both a site and a route, the RXR is returned, if there is just a route and no site, an RXR is returned, but if there is only a site and no route then NO RXR is returned. Per AIRA Data Validation Guide BR 119 (Route and Site should not contradict each other for a given Vaccine Type and Patient's age) - HL7 will return the following warning if this rule is violated: RXR-1 (Route) and RXR -2 (AdministrationSite) contradict each other for the given Vaccine Type in RXA-5 (AdministeredCode) and Patient's age on RXA and RXA -21 (ActionCode) is not valued \"D\". Please see BR -119 in the AIRA Data Validation Guide. [{ [0..*] OBX [1..1] R [NTE] [0..1] RE }] - Observation Group End - Pharmacy Administration Group End }] - Order Group End ] - Immunization History Group End }] - Response Group End Table 0-6: RSP (Return an Immunization History) Message Definition In the event that a one or more lower -confidence matches are found, Error! Reference source not found. outlines the grammar used in the RSP message. This is referred to as the Z31^CDCPHINVS profile. Envision Technology Partners, Inc. 209 Segment Cardinality HL7 Optionality Comment MSH [1..1] R The MSH will indicate which query is being responded to and what Query Profile it was based on. MSA [1..1] R [ ERR ] [0..1] O If errors exist, then this segment is populated QAK [1..1] R QPD [1..1] R This segment echoes the Query Parameter Definition Segment sent in the requesting query. [{ [0..1] O - Response Group Begin If a query errors out or if no matching patient is found, then the segments in the Response Group will not be returned. [{ [0..*] O - Patient Identifier Group Begin Note: One Patient Identifier Group will be included for each patient matching the results. PID [1..1] R [PD1] [0..1] RE [{NK1}] [0..*] RE }] - Patient Identifier Group End [ [0..0] X - Immunization History Group Begin NOTE: None of the segments in this group will be returned in this situation. [PV1] [0..1] O [IN1] [0..0] X Not supported [{ [0..*] RE - Order Group Begin Envision Technology Partners, Inc. 210 Segment Cardinality HL7 Optionality Comment ORC [1..1] R Required if client has immunization records (RXA). There is one ORC for each RXA. - Pharmacy Administration Group Begin RXA [1..1] R [RXR] [0..1] RE [{ [1..1] R [NTE] [0..1] RE }] - Observation Group End - Pharmacy Administration Group End }] - Order Group End ] - Immunization History Group End }] - Response Group End Table 0-7: RSP (Return a List of Candidates) Message Definition ADT - Admission Discharge Treatment The ADT message is not supported by the Immunization Information System. Envision Technology Partners, Inc. 211 Message Logging All incoming messages are logged within the Immunization Information System database, as well as the outgoing response to each message. Users with the necessary permissions have access to screens within the HL7 Managem ent module to review/search these logs. Specifically, HL7 logging tables are visible via the Operations Hyperlink on the message analyzer screen. These logs can be used to understand why duplicate vaccination events were consolidated using some of the rules from the 2017 MIROW Consolidating De mographic Records and Vaccination Event Records guide. Envision Technology Partners, Inc. 212 Appendix A: Code Tables Code Tables in this local Implementation Guide follow the same order, layout, and format of the Code Tables in the CDC IG. Only Code Tables that are different than the CDC IG are listed in this appendix. Note: The Immunization Information System looks up the code values below from the database (i.e. reading of the respective code tables in the system) rather than having required the specific codes listed below. It is up to the jurisdiction to decide which code set to use and enter those values (associated to the appropriate value) in the code tables. There are several code sets that differ between HL7 v2.3.1 and HL7 v2.5.1 and the Immunization Information System only contains a field for one value so the jurisdiction will make the determination of what code set to go with. For convenience, the standard HL7 v2.5.1 code values have been inserted below. However, due to the Immunization Information System looking up values from the database, each jurisdiction is responsible for updating this section with the values they use in their code tables prior to releasing to EMR/EHR systems. User Defined Table 0001 - Sex The Immunization Information System supports the Sex/Gender codes liste d in Table 0-1. Used in PID -8, NK1-15. Value Description Comment F Female M Male U Unknown/Undifferentia ted No assertion is made about the gender of the person. Table 0-1: Supported Values for User Defined Table 0001 - Sex User Defined Table 0005 - Race The Immunization Information System supports the Race codes listed in Table 9 -2. Used in PID -10, NK1 - 35. Value Description Comment 1002 -5 American Indian or Alaska Native 2028 -9 Asian 2076 -8 Native Hawaiian or Other Pacific Islander 2054 -5 Black or African - American 2106 -3 White Envision Technology Partners, Inc. 213 Value Description Comment 2131 -1 Other Race <empty field> Unknown/Undifferentia ted No assertion is made about the race of the person. Table 0-2: Supported Values for User Defined Table 0001 - Sex HL7 Defined Table 0008 - Acknowledgement Code The Immunization Inform ation System supports the Acknowledgement codes listed in Table 0-3. Value Description Comment AA Original Mode: Application Accept Enhanced mode not supported. Indicates the message was accepted and processed, and no error s or warnings were generated. AE Original Mode: Application Error Enhanced mode not supported. Indicates the message was accepted and processed, but one or more errors or warnings were generated. AR Original Mode: Application Reject Enhanced mode not supported. Indicates one or more significant errors occurred and the message was rejected (i.e., it was not processed by the IIS). This is reserved for one of four cases: Unsupported Message Type, Unsupported Event code, Unsupported Processing ID and/or Unable to process for reasons unrelated to format or content. CA Enhanced mode: Accept acknowledgem ent: Commit Accept Not supported CE Enhanced mode: Accept acknowledgement: Commit Error Not supported CR Enhanced mode: Accept acknowledgement: Commit Reject Not supported Table 0-3: Supported Values for HL7 Defined Table 0008 - Acknowledgement Code User Defined Table 0063 - Relationship The Immunization Information System supports the Relationship codes listed in Table 0-4. Use in NK1 -3. Envision Technology Partners, Inc. 214 Value Description Comment BRM Birth Mother Additional locally -defined value. Loaded into the Birth Mother fields on the Patient Demographics screen. BRO Brother CGV Caregiver FCH Foster Child FTH Father GRD Guardian GRP Grandparent MTH Mother OTH Other PAR Parent SCH Stepchild SEL Self SIB Sibling SIS Sister SPO Spouse Table 0-4: Supported Values for User Defined Table 0063 - Relationship User Defined Table 0064 - Financial Class The Immunization Information System supports the Relationship codes listed in Table 0-5. Use in PV1 -20 for patient VFC Eligibility and in OBX -5 for VFC Eligibility at the dose administered level (i.e. , vaccine). The IIS prevents both vaccine - and patient -level financial eligibility from being set for patients who are not eligible for those categories based on their age. Please note, these are the recommended values from the CDC per the http://w ww.cdc.gov/vaccines/programs/iis/technical - guidance/downloads/hl7guide -addendum not Determined/Unknown V01 Not VFC Eligible Client does not qualify for VFC because they do not have one of the statuses below. Envision Technology Partners, Inc. 215 Value Description Comment V02 VFC Eligible - Medicaid/Medicaid Managed Care Client is currently on Medicaid or Medicaid managed care and < 19 years old and the vaccine administered is eligible for VFC funding. V03 VFC Eligible - Uninsured Client does not have private insurance coverage and < 19 years old and the vaccine administ ered is eligible for VFC Funding. V04 VFC Eligible - American Indian/Alaskan Native Client is a member of a federally recognized tribe and < 19 years old and the vaccine administered is eligible for VFC Funding. V05 VFC Eligible - Federally Qualified Health Center Patient (under -insured) Client has insurance that partially covers vaccines received on visit and so is eligible for VFC coverage at a Federally Qualified Health Center. The client must be receiving the immunizations at the FQHC and < 19 years old and the vaccine administered is eligible for VFC Funding. V22 CHIP Client is eligible for the CHIP program, a separate state health insurance that is NOT a Medicaid expansion program . V23 317 Client is eligible to receive vaccines under the state/program immunization policy and the vaccine administered is eligible for 317 funding. V24 Medicare Client is enrolled in Medicare V25 State specific code Client is eligible for specific state vaccine program Table 0-5: Supported Values for User Defined Table 0064 - Financial Class HL7 Table 0162 - Route of Administration The Immunization Information System supports the Route of Administration codes listed in Table 0-96. Support for the NCIT (National Cancer Institute Thesaurus) codes has been added . Use in RXR -1. Clients should update their code table for body route to remove Intranasal (IN) and instead use Nasal (NS) per the CDC 2.5.1 v1.5 implementation guide. Envision Technology Partners, Inc. 216 HL7 Value Description NCIT Code ID Table 0162 -Route of Administration HL7 Table 0163 -Administrative Site The Immunization Information System supports the Administrative Site codes listed in Table 0-97. Use in RXR-2. Value Description Comment LT Left Thigh LA Left Arm LD Left Deltoid LG Left Gluteus Medius LVL Left Vastus Lateralis LLFA Left Lower Forearm Arm RT Thigh RVL Right Vastus Lateralis RG Right Gluteus RLFA Right Lower Forearm Table 0-7: Supported Values for User Defined Table 0163 - Administrative Site Envision Technology Partners, Inc. 217 CDCREC -Ethnic Group The Immunization Information System supports the Ethnicity codes listed in Table 0-9. Use in PID -22, NK1-28. Value Description Comment 2135 -2 Hispanic or Latino 2186 -5 Not Hispanic or Latino Unknown No 2.5.1 US ethnicity code described. Table 0-8: Supported Values for User Defined Table - Ethnicity HL7 Table 0190 - Address Type The Immunization Information System supports t he subset of Address Types listed in Table 0-9. Use in all XAD data types; including PID -11. Value Description Comment B Firm/Business Not supported BA Bad Address Not supported BDL Birth Delivery Location City and State portions will be loaded into the Birth City and Birth State fields BR Residence at Birth Loaded as the Patient's Physical address C Current or Temporary Loaded as the Patient's Mailing address F Country of Origin Not supported H Home Loaded as the Patient's Physical address L Legal Loaded as the Patient's Mailing address M Mailing Loaded as the Patient's Mailing address N Birth (nee) City and State portions will be loaded into the Birth City and Birth State fields O Office Not supported Envision Technology Partners, Inc. 218 Value Description Comment P Permanent Loaded as the Patient's Physical address RH IIS Home Not supported Table 0-9: Supported Values for HL7 Table 0190 - Address Type The following business rules apply to addresses sent in via the HL7 interface: Addresses will be parsed into a geo -coded address format (i.e., broken down into specific address components) prior to being saved in the Immunization Information System. It is possible that this will cause the address saved with the patient's record to be slightly different than the address passed in. The Immunization Information System expects the city value to be one of the values in the City dropdow n if the address is within the Jurisdiction . If the address is outside of the Jurisdiction , any value will be accepted in the City field. The Immunization Information System expects there to be either 5 or 9 digits in the zip code component after the syste m removes all non -numeric characters (e.g., dash ( -), forward slash (/), spaces, etc.) . If supplied, the zip code suffix cannot be all 0000's as that is not a valid value. If a 9 digit zip is supplied, the format must be 99999 -9999. If an invalid address i s supplied, the Immunization Information System will return a warning but will continue to process the incoming message. HL7 Table 0200 - Name Type The Immunization Information System supports the subset of Name Types listed in Table 0-10. Use in PID-5, PID -6, PID -9. Value Description Comment A Alias Name Loaded into the Alias Name fields on the Patient Demographics screen. B Name at Birth Not supported. C Adopted Name Not supported. D Display Name Not supported. L Legal Name Loaded into the Patient Name fields on the Patient Demographics screen. (If the PID -3 field is type BR, then this value is also loaded into the Birth Name fields on the Patient Demographics screen.) Envision Technology Partners, Inc. 219 Value Description Comment M Maiden Name Loaded into the Mother's Maiden Name field on the Patient Demographics screen. P Name of Partner/Spouse Not supported. U Unspe cified Not supported. Table 0-10: Supported Values for HL7 Table 0200 - Name Type NOTE: Name values will be parsed by the Immunization Information System to ensure a standardized format prior to searching for or updating a patient's record. This may result in slight variations of names submitted versus names returned. HL7 Table 0201 - Telecommunication Use Code The Immunization Information System su pports the Telecommunication Use Codes listed in Table 0-11. Use in PID -13, PID -14. Value Description Comment ASN Answering Service Number Loaded as the Message Phone BPN Beeper Number Loaded as the Pager EMR Emergency Number Not supported NET Network (email) address Loaded as the Email Address ORN Other Residence Number Loaded as the Cell Phone PRN Primary Residence Number Loaded as the Home Phone VHN Vacation Home Number Not supported WPN Work Number Loaded as the Work Phone Table 0-11: Supported Values for HL7 Table 0201 - Telecommunication Use Code HL7 Table 0203 - Identifier Type The Immunization Information System supports the subset of Identifier Types listed in Table 0-12. Use in all CX, XCN type codes; including PID -2, PID -3, PID-4, PID -18, PID -21, and RXA -10. Note: PI and AN are not supported in the PID segment. Envision Technology Partners, Inc. 220 Value Description Comment BR Birth IIS Number Used to match to the patient's Birth Certificate ID field in the Immunization Information System. NOTE: This identifier should only be used by Vital Records system submitting birth data to the IIS via HL7. Other external system types should not use this id entifier type! MA Patient's Medicaid Number MC Medical License Number Used in RXA -10 to identify the healthcare provider that administered a vaccination. The Immunization Information System will look up the MD from the users table. MR Medical Record Number Will be associated to the patient records in the Immunization Information System as a local identifier associated with the clinic tied to the Facility Code in the incoming message. MCI Master Client Index For Delaware only. NPI National Provider Identifier Used in RXA -10 to identify the healthcare provider that administered a vaccination. The Immunization Information System will look up the NPI from the users table. SR State IIS ID The Patient ID associated to this patient in the Immunization Information System. The value must contain only numeric digits. SS Social Security Number The value must contain exactly 9 digits after all dashes and non - numeric characters are removed. Envision Technology Partners, Inc. 221 Table 0-12: Supported Values for HL7 Table 0203 - Identifier Type If an invalid value is received for an Identifier, the Immunization Information System will not load the value and attempt to continue processing the message. It will return the appropriate error message. User -Defined Table 0227 - Manufacturer of Vaccines (Code = MVX) Use in RXA -17. The CDC's National Center for Immunization and Respiratory Diseases (NCIRD) maintains the HL7 external code set MVX. http://www2a.cdc.gov/vaccines/IIS/IISStandards/vaccines .asp?rpt=mvx -defined Table 0289 - County/parish Use in all XAD; including PID -11. A complete list of FIPS 6 -4 county codes is -0017A477041A Vaccines Administered (Code=CVX) Use in RXA -5. New codes are added as needed; therefore, see the most current version of this code se t at the CDC website: http://www2a.cdc.gov/vaccines/IIS/IISStandards/vaccines.asp?rpt=cvx User -defined Table 0296 - Language The Immunization Information System supports the Language Codes listed in Table 9 -13. Use in PID -15. Note: This is not an exhaustive list. Refer to the following website for complete listing: http://phinvads.cdc.gov/vads/ViewValueSet.action?id=43D34BBC -617F -DD11 -B38D -00188B398520# Value Description Comment ara Arabic arm Armenian cat Catalan; Valencian chi Chinese dan Danish eng English fre French ger German hat Haitian; Haitian Creole heb Hebrew hin Hindi hmn Hmong jpn Japanese kor Korean Envision Technology Partners, Inc. 222 Value Description Comment rus Russian som Somali spa Spanish; Castilian vie Vietnamese Table 0-13: Supported Values for HL7 Table 0296 - Language HL7 Defined Table 0322 - Completion Status The Immunization Information System supports the Completion Status codes listed in Table 9 -14. Use in RXA-20. Value Description Comment CP Complete RE Refused NA Not Administered PA Partially Administered Table 0-14: Supported Values for HL7 -Defined Table 0322 - Completion Status HL7 Defined Table 0323 - Action Code The Immunization Information System supports the Action Codes listed in Table 9 -15. Use in RXA -21. Value Description Comment A Add Envision Technology Partners, Inc. 223 Value Description Comment D Delete The Immunization Information System will only process a delete if the sending facility is the owning' clinic of the administered vaccination. If you send in: ORC|RE||9999^KS0000|||||||||| RXA|0|1|19990101|19990101|08^He p B, ped/adol^CVX|999|||||||||||||||D| And it matches delete will occur and there will not be any info statements. If you send in a delete such as: ORC|RE||9999^KS0000|||||||||| RXA|0|1|19990101|19990101|08^He p B, ped/adol^CVX|999|||01^Historical^NI P001||||||||||||D| Then the delete will occur but you will see the follo wing for the IZ -47 violation RXA-9 20 (CompletionStatus) is NOT valued \"CP\" or \"PA\". U Update Table 0-15: Supported Values for HL7 -Defined Table 0323 - Action Code User -Defined Table 0362 - Facility The Immunization Information System requires a valid Sending Facility code in every HL7 message. Contact your Immunization Informati on System Help Desk for assistance in establishing a valid facility code. Since the Immunization Information System covers the Jurisdiction , the only appropriate Receiving Facility codes are: For Arkansas: AR0000 For Commonwealth of the Northern Carolina: SIMON HL7 Table 0396 - Substance Refusal Reason The Immunization Information System supports the Substance Refusal Reason codes listed in Table 9 -17. All vaccine refusals are captured as notes in the patient record. Use in RXA -18. Value Description Comment 00 Parental Decision 01 Religious Exemption 02 Other Must add text component of the CE field with description. 03 Patient Decision Table 0-16: Supported Values for CDC -Defined Table HL70396 - Substance Refusal Reason User -Defined Table 0441 - Immunization Information Status The Immunization Information System supports the Immunization Information Status listed in Table 0-17. Use in PD1 -16. Value Description Comment A Active Patient will be marked as Open in the Immunization Program. (PD1 -17 will be used to determine the Open date.) I Inactive - Unspecified Patient will be marked as Closed in the Immunization Program. (PD1 -17 will be used to determine the Close Date). L Inactive - Lost to Follow -Up (cannot contact) Patient will be marked as Closed in the Immunization Program. (PD1 -17 will be used to determi ne the Close Date). M Inactive - Moved or Gone Elsewhere (Transferred) Patient will be marked as Closed in the Immunization Program. (PD1 -17 will be used to determine the Close Date). Envision Technology Partners, Inc. 225 Value Description Comment P Inactive - Permanently Inactive (do not re - activate or add new entries to this record) Patient will be marked as Closed in the Immunization Program. (PD1 -17 will be used to determine the Close Date). U Unknown No change will be made to the Patient's Immunization Program enrollment WA* WIC: Active Patient will be marked as Open in the WIC Program. (PD1 -17 will be used to determine the Open date.) WI* WIC: Inactive - Unspecified Patient will be marked as Closed in the WIC Program. (PD1 -17 will be used to determine the Close Date). WL* WIC: Inactive - Lost to Follow -Up (cannot contact) Patient will be marked as Closed in the WIC Program. (PD1 -17 will be used to determine the Close Date). WM* WIC: Inactive - Moved or Gone Elsewhere (Transferred) Patient will be marked as Closed in the WIC Program. (PD1 -17 will be used to determine the Close Date). Table 0-17: Supported Values for User -Defined Table 0441 - Immunization Information Status For Kansas only: The inclusion of two characters in this field is an intentio nal deviation from the HL7 standard in order to support a specific need for the state of Kansas. Because no WIC program enrollment information will be sent out by the IIS, it should not affect any system not sending WIC program enrollment data. All non -WIC systems in Kansas and all systems in other jurisdictio ns should not use these values. CDC Defined NIP003 - Observation Identifiers (LOINC) Value Description Comment 1648 -5 TB Reaction Code Measurement (mm) of TB reaction on the vaccination edit screen. 8339 -4 Birth Weight 29768 -9 VIS Published Date VIS Published Date on the vaccination edit screen. 29769 -7 VIS Presented Date VIS Presented Date on the vaccination edit screen. 30944 -3 Precaution/Contraindica tion/Allergy/Risk Expiration Date Allergy/Risk Expiration Date Envision Technology Partners, Inc. 226 Value Description Comment 30945 -0 Vaccination contraindication/precau tion Corresponding observation value code table value set to use for OBX -5 is Value Set OID - 2.16.840.1.114222.4.11.3288 Value 30946 Date 30948 -4 Vaccination Adverse Reaction Event Vaccine Adverse Reaction on the vaccination edit screen. 30952 -6 Date and Time of Vaccinations Date of vaccination on the vaccination edit screen. Time if the field is viewable. 30953 -4 Vaccination Adverse Reaction Event Date and Time. Vaccine Adverse Reaction date on the vaccination edit screen. 30956 -7 Vaccine Type (Vaccine group or family) 30963 -3 Vaccine funding source Corresponding observation value code table value set to use for OBX -5 is Value Set OID - 2.16.840.1.114222.4.11.3287 Value . 30979 -9 date due next 30981 -5 Earliest date the dose should be given 59777 -3 Latest date next dose should be given 59778 -1 Date dose is overdue Envision Technology Partners, Inc. 227 Value Description Comment 64994 -7 Vaccine Funding Program Eligibility VFC Eligibility on the vaccination edit screen. Corresponding observation value code table value set to use for OBX -5 is HL70064. If RXA -9.1 (Administration Note.code) is \"00\" then the message SHALL include an OBX segment associated with the RXA with OBX -3.1 shall equal \"64994 -7\". This OBX will indicate the Patient Eligibility Category for Vaccine Funding Program. 69764 -9 VIS Document Type Type of VIS presented on the vaccination edit screen. Table 0-18: Supported Values for CDC -Defined Table NIP003 - Observation Identifiers Value Set Name - Immunization Funding Source The Immuniz ation Information System supports the Immunization Funding Source codes listed in Table 9-19. Use in OBX -5 when OBX -3 has a value of 30963 -3. The Immunization Information System will insert the data on the vaccination edit screen under funding source for t he associated vaccine. Please note, these are the recommended values from the CDC per http://www.cdc.gov/vaccines/programs/iis/technical -guidance/downloads/hl7guide -addendum -7- 2015.pdf Value Description Comment PHC70 Private Vaccine stock used was privately funded VXC50 Public Vaccine stock used was publically funded VXC51 Public VFC Vaccine stock used was publically funded by the VFC program VXC52 Public non -VFC Vaccine stock used was publically funded by a non -VFC program Table 0-19: Supported Values for Value Set Name - Immunization Funding Source Additionally, OTH (Other) and UNK (Unknown) are valid funding source codes when: There is a Historical Immunization There is an Administered Immunization but the facility does not decrement inventory electronically OTH (Other) and UNK (Unknown) are invalid funding source codes when: Envision Technology Partners, Inc. 228 Administered Immunization and the facility is marked as decrements inventory electronically Value Set Name - Vaccination Contraindications The IIS supports the Vaccination Contraindication codes listed in Table 9 -20. Use in OBX -5. Please note: the CDC Implementation Guide lists more contraindication codes than those listed here. However, only the codes listed here will be treated as true contraindic ations, i.e., the IIS will NOT recommend the associated vaccine(s). Any additional contraindications listed in the CDC guide will be treated as precautions and will not affect vaccine(s) forecasted for a patient. Value Description Comment 04 Allergy to eggs NIP004 is the coding system. 91930004 Allergy to eggs SNOMED is the coding system. 22 Gastrointestinal Disease (chronic) NIP004 is the coding system. 33 Healthcare provider verified history of or diagnosis of Varicella NIP004 is the coding system. 38907003 Healthcare provider verified history of or diagnosis of Varicella SNOMED is the coding system. 4740000 Healthcare provider verified history or diagnosis of Herpes Zoster SNOMED is the coding system. 49723003 History of is the coding system. 402306009 to alum is the to the 2 -phenoxyethanol CDCPHINVS is the coding system. 03 Hypersensitivity to yeast NIP004 is the coding system. VXC18 Hypersensitivity to yeast CDCPHINVS is the coding system. 24 Immunity: Diphtheria NIP004 is the coding system. 25 Immunity: Haemophilus influenzae type B (Hib) NIP004 is the coding system. 29 Immunity: Pertussis NIP004 is the coding system. 30 Immunity: Poliovirus NIP004 is the coding system. 32 Immunity: Tetanus NIP004 is the coding system. 36 Known severe immunodeficiency NIP004 is the coding system. VXC27 Known severe immunodeficiency CDCPHINVS is the coding system. 27 Laboratory Evidence of Immunity for Measles NIP004 is the coding system. Envision Technology Partners, Inc. 229 Value Description Comment 371111005 Laboratory Evidence of Immunity for Measles SNOMED is the coding system. 28 Laboratory Evidence of Immunity for Mumps NIP004 is the coding system. 371112003 Laboratory Evidence of Immunity for Mumps SNOMED is the coding system. 31 Laboratory Evidence of Immunity for Rubella NIP004 is the coding system. 278968001 Laboratory Evidence of Immunity for Rubella SNOMED is the coding system. 278971009 Laboratory Evidence of Immunity or confirmation of Hepatitis A Disease SNOMED is the coding system. 26 Laboratory Evidence of Immunity or confirmation of Hepatitis B Disease NIP004 is the coding system. 271511000 Laboratory Evidence of Immunity or confirmation of Hepatitis B Disease SNOMED is the coding system. 371113008 Laboratory Evidence of Immunity or confirmation of Varicella Disease SNOMED is the coding system. 16 Moderate or Severe Illness NIP004 is the coding system. 21 Moderate to Severe Acute Illness (e.g. vomiting) NIP004 is the coding system. 14 Moderate to Severe Diarrhea NIP004 is the coding system. 38 Moderate to Severe Otitis Media (ear infection) NIP004 is the coding system. 39 Pregnancy NIP004 is the coding system. 77386006 Pregnancy SNOMED is the coding system. 09 Prior DT (severe allergy to previous dose or component of vaccine) NIP004 is the coding system. 11 Prior DT/DTAP/DTP - Collapse/shock NIP004 is the coding system. 17 Prior DT/DTAP/DTP - T>=105f w/in 2 days NIP004 is the coding system. 13 Prior DT/DTAP/DTP -3+ hrs crying in 2 d NIP004 is the coding system. 18 Prior DT/DTAP/DTP -Guillain -Barre in 6w NIP004 is the Prior DT/DTAP/DTP -Seizures w/in 3 days NIP004 is the coding system. 10 Prior Rabies (severe allergy to previous dose or component of this vaccine) NIP004 is the coding system. 9 Prior Smallpox (severe allergy to previous dose or component of this vaccine) NIP004 is the coding system. Envision Technology Partners, Inc. 230 Value Description Comment VXC25 Prior Tetanus vaccine (History of Arthus type reaction) CDCPHINVS is the coding system. 43 Prior Typhoid vaccine (severe reaction to previous dose of vaccine) NIP004 is the coding system. 23 Recent or Simultaneous Administration of an Antibody - Containing Blood Product (Immune Globulin) NIP004 is the coding system. 37 Severe (anaphylactic) allergy to latex NIP004 is the coding system. 77386006 Severe (anaphylactic) allergy to latex SNOMED is the coding system. 219085007 Severe allergic reaction after previous dose of Diphtheria SNOMED is the coding system. 293126009 Severe allergic reaction after previous dose of Hepatitis A SNOMED is the coding system. 293110008 Severe allergic reaction after previous dose of Hepatitis B SNOMED is the coding system. 293127000 Severe allergic reaction after previous dose of Hib SNOMED is the coding system. 4293110001 24103 Severe allergic reaction after previous dose of HPV SNOMED is the coding system. 420113004 Severe allergic reaction after previous dose of Influenza SNOMED is the coding system. 219096004 Severe allergic reaction after previous dose of Measles SNOMED is the coding system. 219088009 Severe allergic reaction after previous dose of Meningococcal SNOMED is the co ding system. 293115003 Severe allergic reaction after previous dose of Pertussis SNOMED is the coding system. 293116002 Severe allergic reaction after previous dose of Pneumococcal SNOMED is the coding system. 293117006 Severe allergic reaction after previous dose of Polio SNOMED is the coding system. 4293010001 24101 Severe allergic reaction after previous dose of Rotavirus SNOMED is the coding system. 293119009 Severe allergic reaction after previous dose of Rubella SNOMED is the coding system. 219084006 Severe allergic reaction after previous dose of Tetanus SNOMED is the coding system. 293104008 Severe allergic reaction after previous dose of Varicella SNOMED is the coding system. 293104008 Severe allergic reaction after previous dose of Zoster SNOMED is the coding system. 05 Severe allergic reaction to gelatin NIP004 is the coding system. 294847001 Severe allergic reaction to gelatin SNOMED is the coding system. 06 Severe allergic reaction to neomycin NIP004 is the cod ing system. Envision Technology Partners, Inc. 231 Value Description Comment 294468006 Severe allergic reaction to neomycin SNOMED is the coding system. 294530006 Severe allergic reaction to polymyxin B SNOMED is the coding system. 07 Severe allergic reaction to streptomycin NIP004 is the coding system. 294466005 Severe allergic reaction to streptomycin SNOMED is the coding system. 36 Substantial suppression of cellular immunity NIP004 is the coding system. 398293003 Substantial suppression of cellular immunity SNOMED is the coding system. 08 Thimerosol/Mercury Allergy (severe) NIP004 is the coding system. 40 Thrombocytopenia NIP004 is the coding system. 41 Thrombocytopenic purpura (history) is the coding system. 302215000 Thrombocytopenic purpura (history) SNOMED is the coding system . 37 Underlying unstable, evolving neurologic disorders (including seizure disorders, cerebral palsy, and developmental delay) NIP004 is the coding system. VXC26 Underlying unstable, evolving neurologic disorders (including seizure disorders, cerebral palsy, and developmental delay) CDCPHINVS is the coding system. Table 0-20: Supported Values for Value Set Name - Vaccination Contraindications Value Set Name - Vaccination Reaction The IIS supports the Vaccination Reaction codes listed in Table 9 -21. Use in OBX -5. Value Description Comment 39579001 Anaphylactic Reaction SNOMED is the coding system 293104008 Adverse reaction to vaccine component SNOMED is the coding system VXC12 Fever, 40.5+\u00b0C (105\u00b0F) < 48 hr HL7 is the coding system VXC10 Collapse / Shock < 48 hr HL7 is the coding system VXC11 Seizures < 3 days HL7 is the coding system VXC9 Crying for 3+ hrs, < 48 hr HL7 is the coding system Table 0-21: Supported Values for Value Set Name - Vaccination Reaction Envision Technology Partners, Inc. 232 Envision Technology Partners, Inc. 233 Appendix B: Example VXU Messages Vaccine refusal unspecified^NIP001|||||||||||NA|A VIS examples VIS for Single Antigen Vaccine by VIS Bar Code MSH|^~ \\&|SendingOrg|XX9999|Receiving Org|XX0000|201404010000||VXU^V04^VXU_V04|XX99993 -7^Date Vaccine Information Statement Presented^LN|1|20140101||||||F After executing the message the patient vaccination should have 1 VIS selected VIS for Single Antigen Vaccine by CVX MSH|^~ \\&|SendingOrg|XX9999|ReceivingOrg|XX0000|201404010000||VXU^V04^VXU_V04|XX99993 -7^Date Vaccine Information Statement Presented^LN|1|20140101||||||F Envision Technology Partners, Inc. 234 After executing the message, the patient vaccination should have 1 VIS selected. VIS for Multi Antigen Vaccine Vaccine Information Statement Presented^LN|3|20141203||||||F After executing the message the patient vaccination should have 3 VIS selected. VIS for Multi Antigen Vaccine by VIS Bar Type^LN|3|253088698300017211111108^Polio VIS^cdcgs1vis||||||F OBX|6|DT|29769 -7^Date Vaccine Information Statement Presented^LN|3|20141203||||||F After executing the message, the patient vaccination should have 3 VIS Deleting a Vaccination Below is a sample message showing the minimum segments that need to be contained in a delete immunization message. You can only delete an immunization that you first reported. Envision Technology Partners, Inc. 235 Here is the initial report of an immunization: category^LN||V01||||||F||||||VXC40^Eligibility captured at the immunization level^CDCPHINVS Here is what you would need to submit to delete a vaccination from that record^NIP001||^^^XX9999||||||||||D|20160113150100 Append ix C: Example QBP Messages Partners, Inc. 236 Request evaluated history and forecast For -time^HL70394 The response to a forecast request, will include the following (if available): 30981 -5 : Earliest date dose should be given 30980 -7: Date next dose recommended 59777 -3: Latest date next dose should be given 59778 -1: Date dose is overdue The responses now include the Series Status (OBX -3 is equal to 59783 -1^Series Status^LN) for both Evaluations and for any doses not recommended to be given. For Delaware ONLY: QBPs f or the DHIN portal project The sender only wants one patient matched and returned per query. There must be an exact match on Address Line 1, City, and State for a match to be returned. In this case, the query should only request one result (1^RD). If the IIS finds more than one exa ct match, the query response will return a TM (too many). The queries above should look like the following: For Partners, Inc. 237 Appendix D: AIRA Data Validation Guide Business Rules BR - 101 (Vaccination En counter Date must not be before the Patient Date of Birth) HL7 will return the following error if this rule is violated: RXA-3 (DateTimeStartOfAdministration): must not be before PID -7 (DateTimeOfBirth) when RXA-21 (ActionCode) is not valued \"D\". Please se e BR -101 in the AIRA Data Validation Guide. BR - 103 (Vaccination Encounter Date must not be before the Patient Date of Birth) BR-103 specifies vaccine encounter date must be before submission date. The vaccine submission date must not be in the future or before 01/01/1900** HL7 will return the following error if this rule is violated: RXA-3 (DateTimeStartOfAdministration): must be less than or equal to (before or the same as) MSH -7 (DateTimeOfMessage) when RXA -21 (ActionCode) is not valued \"D\". P lease see BR -103 in the AIRA Data Validation Guide. BR - 114 (Vaccination Encounter Date should not be the same as the Patient Date of Birth unless it is on the list of vaccines recommended for administration on Date of Birth) HL7 will return the following warning (historical vaccines) or error (administered vaccines) if this rule is violated: RXA-3 (DateTimeStartOfAdministration): should not be the same as PID -7 (DateTimeOfBirth) unless it is on the list of vaccines recommended for administration on the da te of birth, e.g., HepB when RXA -20 (CompletionStatus) is valued \"CP\" or \"PA\" and RXA -21 (ActionCode) is not valued \"D\". Please see BR -114 in the AIRA Data Validation Guide. BR - 118 (Vaccination Encounter Date should not be after the lot number expiration date ) HL7 will return the following warning if this rule is violated: RXA-3 (DateTimeStartOfAdministration): should not be after RXA -16 -20 (CompletionStatus) is valued \"CP\" \"PA\" and RXA -21 (ActionCode) is not valued \"D\". Please see BR -118 in the AIRA Data Validation Guide. BR - 119 (Route and Site should not contradict each other for a given Vaccine Type and Patient's age ) Any combination of body site and body route that is not already setup as a valid combination within the Body Route Site Codes table will return a warning: RXR-1 (Route) and RXR -2 (AdministrationSite) contradict each other for the given Vaccine Type in RXA -5 (AdministeredCode) and Patient's age on valued \"CP\" \"PA\" and RXA -21 (ActionCode) is not valued \"D\". Please see BR -119 in the AIRA Data Validation Guide Envision Technology Partners, Inc. 238 BR - 121 (Administered vaccinations coded with an \"unspecified\" CVX code(should have specific Vaccine Types) HL7 will return the following warning if this rule is violated: RXA-5 (AdministeredCode): should not be valued with an \"unspecified\" vaccine when the first occurrence of RXA -9.1 is valued \"00\" and RXA -20 \"CP\" or \"PA\" and RXA -21 (ActionCode) is not valued \"D\". Please see BR -121 in the AIRA Data Validation Guide. BR - 130 (Vaccine dose given before the minimum patient age or after the maximum patient age) HL7 will return the following error if this rule is violated: RXA-3 (DateTi meStartOfAdministration): must be less than or equal to (before or the same as) MSH -7 (DateTimeOfMessage) when RXA -21 (ActionCode) is not valued Please see BR -103 in the AIRA Data Validation Guide. BR - 5602 (Use more specific information ) When matching vaccinations, multi -antigen is kept/preferred over single antigen. UF/NOS always carries the least weight. For example, a more specific vaccine product type administered (Hib -PRP-T) is selected over the more generic vaccine product type administer ed (Hib -unspecified). An exception to the rule is if you are the creator/owner of the record. Then you are allowed to make changes as you are a confident data source for that record. For these cases you are likely sending in corrections to data that was not recorded correctly. WEBIZ -740 (If RXA -5 consists of a CVX code and a NDC code then the two specified codes must share at least one vaccine group) The following error will be returned if this rule is violated: ERR||RXA^1^5^1|999^ApplicationError^HL7035 7|E|2003^Conflicting Codes in a Field^HL70533^WEBIZ -740^Vaccination To Conflicting CVX and NDC values. Please verify you are passing in both the correct CVX and NDC for this immunization. "}